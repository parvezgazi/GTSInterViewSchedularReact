{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, extend, isNullOrUndefined, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { formatUnit, remove, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Base class for the common drag and resize related actions\n */\nvar ActionBase = /** @class */function () {\n  function ActionBase(parent) {\n    this.daysVariation = 0;\n    this.parent = parent;\n    this.actionObj = {\n      X: 0,\n      Y: 0,\n      groupIndex: 0,\n      cellWidth: 0,\n      cellHeight: 0,\n      slotInterval: 0,\n      interval: 0,\n      actionIndex: 0,\n      cloneElement: [],\n      originalElement: [],\n      action: null,\n      isAllDay: null,\n      excludeSelectors: null,\n      index: 0,\n      navigationInterval: null,\n      scrollInterval: null\n    };\n    this.scrollArgs = {\n      element: null,\n      width: 0,\n      height: 0\n    };\n    this.resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    this.scrollEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n  }\n  ActionBase.prototype.getChangedData = function (multiData) {\n    var _this = this;\n    var eventObj = extend({}, this.actionObj.event, null, true);\n    eventObj[this.parent.eventFields.startTime] = this.actionObj.start;\n    eventObj[this.parent.eventFields.endTime] = this.actionObj.end;\n    if (!isNullOrUndefined(this.actionObj.isAllDay)) {\n      eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n    }\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      var originalElement = this.getOriginalElement(this.actionObj.element);\n      if (originalElement) {\n        var indexCol_1 = originalElement.map(function (element) {\n          return parseInt(element.getAttribute('data-group-index'), 10);\n        });\n        if (indexCol_1.indexOf(this.actionObj.groupIndex) === -1 || !isNullOrUndefined(multiData) && multiData.length > 0) {\n          var cloneIndex_1 = parseInt(this.actionObj.clone.getAttribute('data-group-index'), 10);\n          indexCol_1 = indexCol_1.filter(function (index) {\n            return index !== cloneIndex_1;\n          });\n          indexCol_1.push(this.actionObj.groupIndex);\n          if (multiData && multiData.length > 0) {\n            multiData.forEach(function (data) {\n              _this.parent.resourceBase.getResourceData(data, _this.actionObj.groupIndex, indexCol_1);\n            });\n          } else {\n            this.parent.resourceBase.getResourceData(eventObj, this.actionObj.groupIndex, indexCol_1);\n          }\n        }\n      }\n    }\n    return eventObj;\n  };\n  ActionBase.prototype.saveChangedData = function (eventArgs, isMultiSelect) {\n    if (isMultiSelect === void 0) {\n      isMultiSelect = false;\n    }\n    this.parent.activeEventData.event = this.actionObj.event;\n    this.parent.currentAction = 'Save';\n    var currentAction;\n    var eventsCollection = [eventArgs.data];\n    if (isMultiSelect) {\n      eventsCollection = eventArgs.selectedData;\n    }\n    for (var _i = 0, eventsCollection_1 = eventsCollection; _i < eventsCollection_1.length; _i++) {\n      var eventObj = eventsCollection_1[_i];\n      var isSameResource = this.parent.activeViewOptions.group.resources.length > 0 ? parseInt(this.actionObj.element.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n      if (+eventObj[this.parent.eventFields.startTime] === +this.actionObj.event[this.parent.eventFields.startTime] && +eventObj[this.parent.eventFields.endTime] === +this.actionObj.event[this.parent.eventFields.endTime] && isSameResource) {\n        return;\n      }\n      if (eventObj[this.parent.eventFields.recurrenceRule]) {\n        var eveId = eventObj[this.parent.eventFields.recurrenceID] || eventObj[this.parent.eventFields.id];\n        if (eventObj[this.parent.eventFields.id] === eventObj[this.parent.eventFields.recurrenceID]) {\n          eventObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n          currentAction = 'EditOccurrence';\n        }\n        if (this.parent.enableRecurrenceValidation && this.parent.eventWindow.editOccurrenceValidation(eveId, eventObj, this.actionObj.event)) {\n          return;\n        }\n      } else {\n        currentAction = null;\n      }\n      if (eventObj[this.parent.eventFields.startTimezone] || eventObj[this.parent.eventFields.endTimezone]) {\n        this.parent.eventBase.timezoneConvert(eventObj);\n      }\n      this.parent.crudModule.saveEvent(eventObj, currentAction);\n    }\n  };\n  ActionBase.prototype.calculateIntervalTime = function (date) {\n    var intervalTime = new Date(+date);\n    intervalTime.setMinutes(Math.floor(intervalTime.getMinutes() / this.actionObj.interval) * this.actionObj.interval);\n    return intervalTime;\n  };\n  ActionBase.prototype.getContentAreaDimension = function () {\n    var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var trElement = [].slice.call(viewElement.querySelector('tr').children);\n    if (!this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.isAdaptive && !this.parent.enableAdaptiveUI) {\n      trElement = this.getResourceElements(trElement);\n    }\n    var leftOffset = trElement[0].getBoundingClientRect();\n    var rightOffset = trElement.slice(-1)[0].getBoundingClientRect();\n    var viewDimension = {\n      bottom: viewElement.scrollHeight - 5,\n      left: this.parent.enableRtl ? rightOffset.left : leftOffset.left,\n      right: this.parent.enableRtl ? leftOffset.right : rightOffset.right,\n      top: 0,\n      leftOffset: this.parent.enableRtl ? rightOffset.right : leftOffset.right,\n      rightOffset: this.parent.enableRtl ? leftOffset.left : rightOffset.left\n    };\n    return viewDimension;\n  };\n  ActionBase.prototype.getPageCoordinates = function (e) {\n    var eventArgs = e.event;\n    return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] : eventArgs || e;\n  };\n  ActionBase.prototype.getIndex = function (index) {\n    var contentElements = [].slice.call(this.parent.getContentTable().querySelector('tr').children);\n    var indexes = {\n      minIndex: 0,\n      maxIndex: contentElements.length - 1\n    };\n    if (this.actionObj.action === 'resize' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeView.isTimelineView()) {\n      var groupElements = this.getResourceElements(contentElements);\n      indexes.minIndex = groupElements[0].cellIndex;\n      indexes.maxIndex = groupElements.slice(-1)[0].cellIndex;\n    }\n    if (index < indexes.minIndex) {\n      index = indexes.minIndex;\n    }\n    if (index > indexes.maxIndex) {\n      index = indexes.maxIndex;\n    }\n    return index;\n  };\n  ActionBase.prototype.updateTimePosition = function (date, multiData) {\n    var index = 0;\n    for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n      var cloneElement = _a[_i];\n      var timeElement = cloneElement.querySelector('.' + cls.APPOINTMENT_TIME);\n      if (timeElement) {\n        var startTime = this.actionObj.start;\n        var endTime = this.actionObj.end;\n        if (multiData && multiData.length > 0) {\n          startTime = multiData[index][this.parent.eventFields.startTime];\n          endTime = multiData[index][this.parent.eventFields.endTime];\n        }\n        timeElement.innerHTML = this.parent.getTimeString(startTime) + ' - ' + this.parent.getTimeString(endTime);\n      }\n      index++;\n    }\n    if (!this.parent.activeViewOptions.timeScale.enable || !this.parent.isAdaptive || this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n      return;\n    }\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n    if (!timeIndicator) {\n      timeIndicator = createElement('div', {\n        className: cls.CLONE_TIME_INDICATOR_CLASS\n      });\n      var wrapperClass = this.parent.activeView.isTimelineView() ? cls.DATE_HEADER_WRAP_CLASS : cls.TIME_CELLS_WRAP_CLASS;\n      this.parent.element.querySelector('.' + wrapperClass).appendChild(timeIndicator);\n    }\n    timeIndicator.innerHTML = this.parent.getTimeString(date);\n    var offsetValue = 0;\n    if (this.parent.activeView.isTimelineView()) {\n      if (this.parent.enableRtl) {\n        var rightValue = parseInt(this.actionObj.clone.style.right, 10);\n        offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ? rightValue + this.actionObj.clone.offsetWidth : rightValue;\n        timeIndicator.style.right = formatUnit(offsetValue);\n      } else {\n        var leftValue = parseInt(this.actionObj.clone.style.left, 10);\n        offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ? leftValue : leftValue + this.actionObj.clone.offsetWidth;\n        timeIndicator.style.left = formatUnit(offsetValue);\n      }\n    } else {\n      offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.top ? this.actionObj.clone.offsetTop : this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight;\n      timeIndicator.style.top = formatUnit(offsetValue);\n    }\n  };\n  ActionBase.prototype.getResourceElements = function (table) {\n    var _this = this;\n    return table.filter(function (element) {\n      return parseInt(element.getAttribute('data-group-index'), 10) === _this.actionObj.groupIndex;\n    });\n  };\n  ActionBase.prototype.getOriginalElement = function (element) {\n    var originalElement;\n    var guid = element.getAttribute('data-guid');\n    var isMorePopup = element.offsetParent && element.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS);\n    if (isMorePopup || this.parent.activeView.isTimelineView()) {\n      originalElement = [].slice.call(this.parent.element.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n    } else {\n      var tr = closest(element, 'tr');\n      if (tr) {\n        originalElement = [].slice.call(tr.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n      }\n    }\n    return originalElement;\n  };\n  ActionBase.prototype.createCloneElement = function (element) {\n    var cloneWrapper = createElement('div', {\n      innerHTML: element.outerHTML\n    });\n    var cloneElement = cloneWrapper.children[0];\n    var cloneClassLists = [cls.CLONE_ELEMENT_CLASS];\n    cloneClassLists.push(this.actionObj.action === 'drag' ? cls.DRAG_CLONE_CLASS : cls.RESIZE_CLONE_CLASS);\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n      cloneClassLists.push(cls.MONTH_CLONE_ELEMENT_CLASS);\n    }\n    addClass([cloneElement], cloneClassLists);\n    addClass([element], cls.EVENT_ACTION_CLASS);\n    if (!isNullOrUndefined(element.parentElement)) {\n      element.parentElement.appendChild(cloneElement);\n    }\n    cloneElement.style.width = formatUnit(cloneElement.offsetWidth - 2);\n    var dragElement = document.querySelector(this.parent.eventDragArea);\n    if (this.parent.eventDragArea && this.actionObj.action === 'drag' && dragElement) {\n      dragElement.appendChild(cloneElement);\n    }\n    setStyleAttribute(cloneElement, {\n      border: '0px'\n    });\n    return cloneElement;\n  };\n  ActionBase.prototype.removeCloneElementClasses = function () {\n    var elements = this.actionObj.originalElement;\n    if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear' || this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n      elements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.EVENT_ACTION_CLASS));\n    }\n    removeClass(elements, cls.EVENT_ACTION_CLASS);\n  };\n  ActionBase.prototype.removeCloneElement = function () {\n    this.actionObj.originalElement = [];\n    var dynamicEle = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n    for (var _i = 0, dynamicEle_1 = dynamicEle; _i < dynamicEle_1.length; _i++) {\n      var cloneEle = dynamicEle_1[_i];\n      remove(cloneEle);\n    }\n    for (var _a = 0, _b = this.actionObj.cloneElement; _a < _b.length; _a++) {\n      var cloneElement = _b[_a];\n      if (!isNullOrUndefined(cloneElement.parentNode)) {\n        remove(cloneElement);\n      }\n    }\n    this.actionObj.cloneElement = [];\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n    if (timeIndicator) {\n      remove(timeIndicator);\n    }\n  };\n  ActionBase.prototype.getCursorElement = function (e) {\n    var pages = this.getPageCoordinates(e);\n    return document.elementFromPoint(pages.clientX, pages.clientY);\n  };\n  ActionBase.prototype.autoScroll = function () {\n    var parent = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n    var xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n    var yInBounds = yIsScrollable && parent.scrollTop >= 0 && parent.scrollTop + parent.offsetHeight <= parent.scrollHeight;\n    var xInBounds = xIsScrollable && parent.scrollLeft >= 0 && parent.scrollLeft + parent.offsetWidth <= parent.scrollWidth;\n    if (this.actionObj.action === 'resize' && this.scrollEdges.right && parent.scrollLeft + parent.offsetWidth > parent.scrollWidth) {\n      var tdCollections = [].slice.call(this.parent.getContentTable().querySelector('tr').children).length - 1;\n      var cellIndex = Math.ceil((this.actionObj.clone.offsetLeft + this.actionObj.clone.offsetWidth) / this.actionObj.cellWidth);\n      xInBounds = cellIndex === tdCollections;\n    }\n    if (yInBounds && (this.scrollEdges.top || this.scrollEdges.bottom)) {\n      parent.scrollTop += this.scrollEdges.top ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n      if (this.actionObj.action === 'resize') {\n        if (parent.scrollHeight !== parent.offsetHeight + parent.scrollTop && parent.scrollTop > 0) {\n          this.actionObj.Y += this.scrollEdges.top ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n        }\n      }\n    }\n    if (xInBounds && (this.scrollEdges.left || this.scrollEdges.right)) {\n      parent.scrollLeft += this.scrollEdges.left ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n      if (this.actionObj.action === 'resize') {\n        if (parent.scrollWidth !== parent.offsetWidth + parent.scrollLeft && parent.scrollLeft > 0) {\n          this.actionObj.X += this.scrollEdges.left ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n        }\n      }\n    }\n  };\n  ActionBase.prototype.autoScrollValidation = function () {\n    if (!this.actionObj.scroll.enable) {\n      return false;\n    }\n    var res = this.parent.boundaryValidation(this.actionObj.pageY, this.actionObj.pageX);\n    this.scrollEdges = res;\n    return res.bottom || res.top || res.left || res.right;\n  };\n  ActionBase.prototype.actionClass = function (type) {\n    if (type === 'addClass') {\n      addClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n    } else {\n      removeClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n    }\n  };\n  ActionBase.prototype.updateScrollPosition = function (e) {\n    var _this = this;\n    if (this.actionObj.scroll.enable && isNullOrUndefined(this.actionObj.scrollInterval)) {\n      this.actionObj.scrollInterval = window.setInterval(function () {\n        if (_this.autoScrollValidation() && !_this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n          if (_this.parent.activeView.isTimelineView() && _this.parent.activeViewOptions.group.resources.length > 0 && _this.actionObj.groupIndex < 0) {\n            return;\n          }\n          _this.autoScroll();\n          if (_this.actionObj.action === 'drag') {\n            _this.parent.dragAndDropModule.updateDraggingDateTime(e);\n          } else {\n            _this.parent.resizeModule.updateResizingDirection(e);\n          }\n        }\n      }, this.actionObj.scroll.timeDelay);\n    }\n  };\n  ActionBase.prototype.updateOriginalElement = function (cloneElement) {\n    var query = '[data-id=\"' + cloneElement.getAttribute('data-id') + '\"]';\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      query = query.concat('[data-group-index = \"' + cloneElement.getAttribute('data-group-index') + '\"]');\n    }\n    var elements = [].slice.call(this.parent.element.querySelectorAll(query));\n    addClass(elements, cls.EVENT_ACTION_CLASS);\n    var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n    removeClass(eventWrappers, cls.EVENT_ACTION_CLASS);\n  };\n  ActionBase.prototype.getUpdatedEvent = function (startTime, endTime, eventObj) {\n    var event = JSON.parse(JSON.stringify(eventObj));\n    event[this.parent.eventFields.startTime] = startTime;\n    event[this.parent.eventFields.endTime] = endTime;\n    return event;\n  };\n  ActionBase.prototype.dynamicYearlyEventsRendering = function (event, isResize) {\n    if (isResize === void 0) {\n      isResize = false;\n    }\n    var appWidth = this.actionObj.cellWidth - 7;\n    if (isResize && (this.resizeEdges.left || this.resizeEdges.right)) {\n      appWidth = this.actionObj.cellWidth * event.count;\n    }\n    if (!isResize && this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length === 0) {\n      var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n      if (eventObj[this.parent.eventFields.startTime].getTime() === eventObj[this.parent.eventFields.endTime].getTime()) {\n        eventObj.isSpanned.count = 1;\n      }\n      appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n    }\n    var appointmentElement = this.createAppointmentElement(this.actionObj.groupIndex, event[this.parent.eventFields.subject]);\n    appointmentElement.setAttribute('drag', 'true');\n    addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n    setStyleAttribute(appointmentElement, {\n      'width': appWidth + 'px',\n      'border': '0px',\n      'pointer-events': 'none',\n      'position': 'absolute',\n      'overflow': 'hidden',\n      'padding': '3px'\n    });\n    if (this.actionObj.clone.style.backgroundColor !== '') {\n      setStyleAttribute(appointmentElement, {\n        'backgroundColor': this.actionObj.clone.style.backgroundColor\n      });\n    }\n    var date = util.resetTime(event[this.parent.eventFields.startTime]).getTime();\n    var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"]';\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"][data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n    }\n    var cellTd = this.parent.element.querySelector(query);\n    if (isNullOrUndefined(cellTd)) {\n      return;\n    }\n    if (isResize) {\n      var dateHeader = cellTd.querySelector('.' + cls.DATE_HEADER_CLASS);\n      var appHeight = this.actionObj.cellHeight * event.count - (dateHeader ? dateHeader.offsetHeight : 0) - 7;\n      if (this.resizeEdges.right || this.resizeEdges.left) {\n        appHeight = parseInt(this.actionObj.clone.style.height, 10);\n      }\n      setStyleAttribute(appointmentElement, {\n        'height': appHeight + 'px'\n      });\n    }\n    this.renderDynamicElement(cellTd, appointmentElement, true);\n    this.actionObj.cloneElement.push(appointmentElement);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ActionBase.prototype.renderDynamicElement = function (cellTd, element, isAppointment) {\n    if (isAppointment === void 0) {\n      isAppointment = false;\n    }\n    if (cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS)) {\n      cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).appendChild(element);\n    } else {\n      var wrapper = createElement('div', {\n        className: cls.APPOINTMENT_WRAPPER_CLASS\n      });\n      wrapper.appendChild(element);\n      cellTd.appendChild(wrapper);\n    }\n  };\n  ActionBase.prototype.createAppointmentElement = function (resIndex, innerText) {\n    var appointmentWrapper = createElement('div', {\n      className: cls.APPOINTMENT_CLASS,\n      innerHTML: innerText\n    });\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n    }\n    return appointmentWrapper;\n  };\n  ActionBase.prototype.dynamicEventsRendering = function (event) {\n    var _this = this;\n    var dateRender = this.parent.activeView.renderDates;\n    var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n    var workDays = this.parent.activeViewOptions.workDays;\n    var groupOrder;\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      var resources = this.parent.resourceBase.lastResourceLevel.filter(function (res) {\n        return res.groupIndex === _this.actionObj.groupIndex;\n      });\n      dateRender = resources[0].renderDates;\n      var elementSelector = \".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + this.actionObj.groupIndex + \"\\\"]\";\n      workCells = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n      workDays = resources[0].workDays;\n      groupOrder = resources[0].groupOrder;\n    }\n    this.monthEvent.dateRender = dateRender;\n    this.monthEvent.getSlotDates(workDays);\n    if (this.resizeEdges.left || this.resizeEdges.right) {\n      var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n      for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n        var wrapper = eventWrappers_1[_i];\n        remove(wrapper);\n      }\n    }\n    var spannedEvents = this.monthEvent.splitEvent(event, dateRender);\n    for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n      var event_1 = spannedEvents_1[_a];\n      var day = this.parent.getIndexOfDate(dateRender, util.resetTime(event_1[this.monthEvent.fields.startTime]));\n      var diffInDays = event_1.data.count;\n      var appWidth = diffInDays * this.actionObj.cellWidth - 7;\n      var appointmentElement = this.monthEvent.createAppointmentElement(event_1, this.actionObj.groupIndex, true);\n      appointmentElement.setAttribute('drag', 'true');\n      addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n      this.monthEvent.applyResourceColor(appointmentElement, event_1, 'backgroundColor', groupOrder);\n      setStyleAttribute(appointmentElement, {\n        'width': appWidth + 'px',\n        'border': '0px',\n        'pointer-events': 'none'\n      });\n      var cellTd = workCells[day];\n      if (cellTd && isNullOrUndefined(this.parent.eventDragArea)) {\n        this.monthEvent.renderElement(cellTd, appointmentElement, true);\n        this.actionObj.cloneElement.push(appointmentElement);\n      }\n    }\n  };\n  ActionBase.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.actionObj = {};\n    this.scrollArgs = {};\n    this.resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    this.scrollEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n  };\n  return ActionBase;\n}();\nexport { ActionBase };","map":{"version":3,"names":["addClass","createElement","extend","isNullOrUndefined","closest","setStyleAttribute","formatUnit","remove","removeClass","cls","util","ActionBase","parent","daysVariation","actionObj","X","Y","groupIndex","cellWidth","cellHeight","slotInterval","interval","actionIndex","cloneElement","originalElement","action","isAllDay","excludeSelectors","index","navigationInterval","scrollInterval","scrollArgs","element","width","height","resizeEdges","left","right","top","bottom","scrollEdges","prototype","getChangedData","multiData","_this","eventObj","event","eventFields","startTime","start","endTime","end","activeViewOptions","group","resources","length","getOriginalElement","indexCol_1","map","parseInt","getAttribute","indexOf","cloneIndex_1","clone","filter","push","forEach","data","resourceBase","getResourceData","saveChangedData","eventArgs","isMultiSelect","activeEventData","currentAction","eventsCollection","selectedData","_i","eventsCollection_1","isSameResource","recurrenceRule","eveId","recurrenceID","id","eventBase","getEventMaxID","enableRecurrenceValidation","eventWindow","editOccurrenceValidation","startTimezone","endTimezone","timezoneConvert","crudModule","saveEvent","calculateIntervalTime","date","intervalTime","Date","setMinutes","Math","floor","getMinutes","getContentAreaDimension","viewElement","querySelector","CONTENT_WRAP_CLASS","trElement","slice","call","children","activeView","isTimelineView","isAdaptive","enableAdaptiveUI","getResourceElements","leftOffset","getBoundingClientRect","rightOffset","viewDimension","scrollHeight","enableRtl","getPageCoordinates","e","changedTouches","getIndex","contentElements","getContentTable","indexes","minIndex","maxIndex","uiStateValues","isGroupAdaptive","groupElements","cellIndex","updateTimePosition","_a","timeElement","APPOINTMENT_TIME","innerHTML","getTimeString","timeScale","enable","currentView","timeIndicator","CLONE_TIME_INDICATOR_CLASS","className","wrapperClass","DATE_HEADER_WRAP_CLASS","TIME_CELLS_WRAP_CLASS","appendChild","offsetValue","rightValue","style","offsetWidth","leftValue","offsetTop","offsetHeight","table","guid","isMorePopup","offsetParent","classList","contains","MORE_EVENT_POPUP_CLASS","querySelectorAll","tr","createCloneElement","cloneWrapper","outerHTML","cloneClassLists","CLONE_ELEMENT_CLASS","DRAG_CLONE_CLASS","RESIZE_CLONE_CLASS","MONTH_CLONE_ELEMENT_CLASS","EVENT_ACTION_CLASS","parentElement","dragElement","document","eventDragArea","border","removeCloneElementClasses","elements","removeCloneElement","dynamicEle","dynamicEle_1","cloneEle","_b","parentNode","getCursorElement","pages","elementFromPoint","clientX","clientY","autoScroll","yIsScrollable","xIsScrollable","scrollWidth","yInBounds","scrollTop","xInBounds","scrollLeft","tdCollections","ceil","offsetLeft","scroll","scrollBy","autoScrollValidation","res","boundaryValidation","pageY","pageX","actionClass","type","updateScrollPosition","window","setInterval","ALLDAY_APPOINTMENT_CLASS","dragAndDropModule","updateDraggingDateTime","resizeModule","updateResizingDirection","timeDelay","updateOriginalElement","query","concat","eventWrappers","getUpdatedEvent","JSON","parse","stringify","dynamicYearlyEventsRendering","isResize","appWidth","count","orientation","yearEvent","isSpannedEvent","getTime","isSpanned","appointmentElement","createAppointmentElement","subject","setAttribute","backgroundColor","resetTime","WORK_CELLS_CLASS","cellTd","dateHeader","DATE_HEADER_CLASS","appHeight","renderDynamicElement","isAppointment","APPOINTMENT_WRAPPER_CLASS","wrapper","resIndex","innerText","appointmentWrapper","APPOINTMENT_CLASS","toString","dynamicEventsRendering","dateRender","renderDates","workCells","workDays","groupOrder","lastResourceLevel","elementSelector","monthEvent","getSlotDates","eventWrappers_1","spannedEvents","splitEvent","spannedEvents_1","event_1","day","getIndexOfDate","fields","diffInDays","applyResourceColor","renderElement","destroy","isDestroyed"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-schedule/src/schedule/actions/action-base.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, extend, isNullOrUndefined, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { formatUnit, remove, removeClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Base class for the common drag and resize related actions\n */\nvar ActionBase = /** @class */ (function () {\n    function ActionBase(parent) {\n        this.daysVariation = 0;\n        this.parent = parent;\n        this.actionObj = {\n            X: 0, Y: 0, groupIndex: 0, cellWidth: 0, cellHeight: 0, slotInterval: 0, interval: 0, actionIndex: 0,\n            cloneElement: [], originalElement: [], action: null, isAllDay: null, excludeSelectors: null,\n            index: 0, navigationInterval: null, scrollInterval: null\n        };\n        this.scrollArgs = { element: null, width: 0, height: 0 };\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    }\n    ActionBase.prototype.getChangedData = function (multiData) {\n        var _this = this;\n        var eventObj = extend({}, this.actionObj.event, null, true);\n        eventObj[this.parent.eventFields.startTime] = this.actionObj.start;\n        eventObj[this.parent.eventFields.endTime] = this.actionObj.end;\n        if (!isNullOrUndefined(this.actionObj.isAllDay)) {\n            eventObj[this.parent.eventFields.isAllDay] = this.actionObj.isAllDay;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var originalElement = this.getOriginalElement(this.actionObj.element);\n            if (originalElement) {\n                var indexCol_1 = originalElement.map(function (element) { return parseInt(element.getAttribute('data-group-index'), 10); });\n                if (indexCol_1.indexOf(this.actionObj.groupIndex) === -1 || (!isNullOrUndefined(multiData) && multiData.length > 0)) {\n                    var cloneIndex_1 = parseInt(this.actionObj.clone.getAttribute('data-group-index'), 10);\n                    indexCol_1 = indexCol_1.filter(function (index) { return index !== cloneIndex_1; });\n                    indexCol_1.push(this.actionObj.groupIndex);\n                    if (multiData && multiData.length > 0) {\n                        multiData.forEach(function (data) {\n                            _this.parent.resourceBase.getResourceData(data, _this.actionObj.groupIndex, indexCol_1);\n                        });\n                    }\n                    else {\n                        this.parent.resourceBase.getResourceData(eventObj, this.actionObj.groupIndex, indexCol_1);\n                    }\n                }\n            }\n        }\n        return eventObj;\n    };\n    ActionBase.prototype.saveChangedData = function (eventArgs, isMultiSelect) {\n        if (isMultiSelect === void 0) { isMultiSelect = false; }\n        this.parent.activeEventData.event = this.actionObj.event;\n        this.parent.currentAction = 'Save';\n        var currentAction;\n        var eventsCollection = [eventArgs.data];\n        if (isMultiSelect) {\n            eventsCollection = eventArgs.selectedData;\n        }\n        for (var _i = 0, eventsCollection_1 = eventsCollection; _i < eventsCollection_1.length; _i++) {\n            var eventObj = eventsCollection_1[_i];\n            var isSameResource = (this.parent.activeViewOptions.group.resources.length > 0) ?\n                parseInt(this.actionObj.element.getAttribute('data-group-index'), 10) === this.actionObj.groupIndex : true;\n            if (+eventObj[this.parent.eventFields.startTime] === +this.actionObj.event[this.parent.eventFields.startTime] &&\n                +eventObj[this.parent.eventFields.endTime] === +this.actionObj.event[this.parent.eventFields.endTime] && isSameResource) {\n                return;\n            }\n            if (eventObj[this.parent.eventFields.recurrenceRule]) {\n                var eveId = (eventObj[this.parent.eventFields.recurrenceID] || eventObj[this.parent.eventFields.id]);\n                if (eventObj[this.parent.eventFields.id] === eventObj[this.parent.eventFields.recurrenceID]) {\n                    eventObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n                    currentAction = 'EditOccurrence';\n                }\n                if (this.parent.enableRecurrenceValidation\n                    && this.parent.eventWindow.editOccurrenceValidation(eveId, eventObj, this.actionObj.event)) {\n                    return;\n                }\n            }\n            else {\n                currentAction = null;\n            }\n            if (eventObj[this.parent.eventFields.startTimezone] || eventObj[this.parent.eventFields.endTimezone]) {\n                this.parent.eventBase.timezoneConvert(eventObj);\n            }\n            this.parent.crudModule.saveEvent(eventObj, currentAction);\n        }\n    };\n    ActionBase.prototype.calculateIntervalTime = function (date) {\n        var intervalTime = new Date(+date);\n        intervalTime.setMinutes(Math.floor(intervalTime.getMinutes() / this.actionObj.interval) * this.actionObj.interval);\n        return intervalTime;\n    };\n    ActionBase.prototype.getContentAreaDimension = function () {\n        var viewElement = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var trElement = [].slice.call(viewElement.querySelector('tr').children);\n        if (!this.parent.activeView.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.isAdaptive && !this.parent.enableAdaptiveUI) {\n            trElement = this.getResourceElements(trElement);\n        }\n        var leftOffset = trElement[0].getBoundingClientRect();\n        var rightOffset = trElement.slice(-1)[0].getBoundingClientRect();\n        var viewDimension = {\n            bottom: viewElement.scrollHeight - 5,\n            left: this.parent.enableRtl ? rightOffset.left : leftOffset.left,\n            right: this.parent.enableRtl ? leftOffset.right : rightOffset.right,\n            top: 0,\n            leftOffset: this.parent.enableRtl ? rightOffset.right : leftOffset.right,\n            rightOffset: this.parent.enableRtl ? leftOffset.left : rightOffset.left\n        };\n        return viewDimension;\n    };\n    ActionBase.prototype.getPageCoordinates = function (e) {\n        var eventArgs = e.event;\n        return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] :\n            eventArgs || e;\n    };\n    ActionBase.prototype.getIndex = function (index) {\n        var contentElements = [].slice.call(this.parent.getContentTable().querySelector('tr').children);\n        var indexes = { minIndex: 0, maxIndex: contentElements.length - 1 };\n        if (this.actionObj.action === 'resize' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeView.isTimelineView()) {\n            var groupElements = this.getResourceElements(contentElements);\n            indexes.minIndex = groupElements[0].cellIndex;\n            indexes.maxIndex = groupElements.slice(-1)[0].cellIndex;\n        }\n        if (index < indexes.minIndex) {\n            index = indexes.minIndex;\n        }\n        if (index > indexes.maxIndex) {\n            index = indexes.maxIndex;\n        }\n        return index;\n    };\n    ActionBase.prototype.updateTimePosition = function (date, multiData) {\n        var index = 0;\n        for (var _i = 0, _a = this.actionObj.cloneElement; _i < _a.length; _i++) {\n            var cloneElement = _a[_i];\n            var timeElement = cloneElement.querySelector('.' + cls.APPOINTMENT_TIME);\n            if (timeElement) {\n                var startTime = this.actionObj.start;\n                var endTime = this.actionObj.end;\n                if (multiData && multiData.length > 0) {\n                    startTime = multiData[index][this.parent.eventFields.startTime];\n                    endTime = multiData[index][this.parent.eventFields.endTime];\n                }\n                timeElement.innerHTML = this.parent.getTimeString(startTime) + ' - ' +\n                    this.parent.getTimeString(endTime);\n            }\n            index++;\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable || !this.parent.isAdaptive || this.parent.currentView === 'Month' ||\n            this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (!timeIndicator) {\n            timeIndicator = createElement('div', { className: cls.CLONE_TIME_INDICATOR_CLASS });\n            var wrapperClass = this.parent.activeView.isTimelineView() ? cls.DATE_HEADER_WRAP_CLASS : cls.TIME_CELLS_WRAP_CLASS;\n            this.parent.element.querySelector('.' + wrapperClass).appendChild(timeIndicator);\n        }\n        timeIndicator.innerHTML = this.parent.getTimeString(date);\n        var offsetValue = 0;\n        if (this.parent.activeView.isTimelineView()) {\n            if (this.parent.enableRtl) {\n                var rightValue = parseInt(this.actionObj.clone.style.right, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    rightValue + this.actionObj.clone.offsetWidth : rightValue;\n                timeIndicator.style.right = formatUnit(offsetValue);\n            }\n            else {\n                var leftValue = parseInt(this.actionObj.clone.style.left, 10);\n                offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.left ?\n                    leftValue : leftValue + this.actionObj.clone.offsetWidth;\n                timeIndicator.style.left = formatUnit(offsetValue);\n            }\n        }\n        else {\n            offsetValue = this.actionObj.action === 'drag' || this.resizeEdges.top ? this.actionObj.clone.offsetTop :\n                this.actionObj.clone.offsetTop + this.actionObj.clone.offsetHeight;\n            timeIndicator.style.top = formatUnit(offsetValue);\n        }\n    };\n    ActionBase.prototype.getResourceElements = function (table) {\n        var _this = this;\n        return table.filter(function (element) {\n            return parseInt(element.getAttribute('data-group-index'), 10) === _this.actionObj.groupIndex;\n        });\n    };\n    ActionBase.prototype.getOriginalElement = function (element) {\n        var originalElement;\n        var guid = element.getAttribute('data-guid');\n        var isMorePopup = element.offsetParent && element.offsetParent.classList.contains(cls.MORE_EVENT_POPUP_CLASS);\n        if (isMorePopup || this.parent.activeView.isTimelineView()) {\n            originalElement = [].slice.call(this.parent.element.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n        }\n        else {\n            var tr = closest(element, 'tr');\n            if (tr) {\n                originalElement = [].slice.call(tr.querySelectorAll('[data-guid=\"' + guid + '\"]'));\n            }\n        }\n        return originalElement;\n    };\n    ActionBase.prototype.createCloneElement = function (element) {\n        var cloneWrapper = createElement('div', { innerHTML: element.outerHTML });\n        var cloneElement = cloneWrapper.children[0];\n        var cloneClassLists = [cls.CLONE_ELEMENT_CLASS];\n        cloneClassLists.push((this.actionObj.action === 'drag') ? cls.DRAG_CLONE_CLASS : cls.RESIZE_CLONE_CLASS);\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineMonth') {\n            cloneClassLists.push(cls.MONTH_CLONE_ELEMENT_CLASS);\n        }\n        addClass([cloneElement], cloneClassLists);\n        addClass([element], cls.EVENT_ACTION_CLASS);\n        if (!isNullOrUndefined(element.parentElement)) {\n            element.parentElement.appendChild(cloneElement);\n        }\n        cloneElement.style.width = formatUnit(cloneElement.offsetWidth - 2);\n        var dragElement = document.querySelector(this.parent.eventDragArea);\n        if (this.parent.eventDragArea && this.actionObj.action === 'drag' && dragElement) {\n            dragElement.appendChild(cloneElement);\n        }\n        setStyleAttribute(cloneElement, { border: '0px' });\n        return cloneElement;\n    };\n    ActionBase.prototype.removeCloneElementClasses = function () {\n        var elements = this.actionObj.originalElement;\n        if (this.parent.currentView === 'Month' || this.parent.currentView === 'TimelineYear' ||\n            this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n            elements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.EVENT_ACTION_CLASS));\n        }\n        removeClass(elements, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.removeCloneElement = function () {\n        this.actionObj.originalElement = [];\n        var dynamicEle = [].slice.call(this.parent.element.querySelectorAll('.e-dynamic-clone'));\n        for (var _i = 0, dynamicEle_1 = dynamicEle; _i < dynamicEle_1.length; _i++) {\n            var cloneEle = dynamicEle_1[_i];\n            remove(cloneEle);\n        }\n        for (var _a = 0, _b = this.actionObj.cloneElement; _a < _b.length; _a++) {\n            var cloneElement = _b[_a];\n            if (!isNullOrUndefined(cloneElement.parentNode)) {\n                remove(cloneElement);\n            }\n        }\n        this.actionObj.cloneElement = [];\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CLONE_TIME_INDICATOR_CLASS);\n        if (timeIndicator) {\n            remove(timeIndicator);\n        }\n    };\n    ActionBase.prototype.getCursorElement = function (e) {\n        var pages = this.getPageCoordinates(e);\n        return document.elementFromPoint(pages.clientX, pages.clientY);\n    };\n    ActionBase.prototype.autoScroll = function () {\n        var parent = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var yIsScrollable = parent.offsetHeight <= parent.scrollHeight;\n        var xIsScrollable = parent.offsetWidth <= parent.scrollWidth;\n        var yInBounds = yIsScrollable && parent.scrollTop >= 0 && parent.scrollTop + parent.offsetHeight <= parent.scrollHeight;\n        var xInBounds = xIsScrollable && parent.scrollLeft >= 0 && parent.scrollLeft + parent.offsetWidth <= parent.scrollWidth;\n        if (this.actionObj.action === 'resize' && this.scrollEdges.right && (parent.scrollLeft + parent.offsetWidth) > parent.scrollWidth) {\n            var tdCollections = ([].slice.call(this.parent.getContentTable().querySelector('tr').children)).length - 1;\n            var cellIndex = Math.ceil((this.actionObj.clone.offsetLeft + (this.actionObj.clone.offsetWidth)) /\n                this.actionObj.cellWidth);\n            xInBounds = cellIndex === tdCollections;\n        }\n        if (yInBounds && (this.scrollEdges.top || this.scrollEdges.bottom)) {\n            parent.scrollTop += this.scrollEdges.top ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollHeight !== parent.offsetHeight + parent.scrollTop && parent.scrollTop > 0) {\n                    this.actionObj.Y += this.scrollEdges.top ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n        if (xInBounds && (this.scrollEdges.left || this.scrollEdges.right)) {\n            parent.scrollLeft += this.scrollEdges.left ? -this.actionObj.scroll.scrollBy : this.actionObj.scroll.scrollBy;\n            if (this.actionObj.action === 'resize') {\n                if (parent.scrollWidth !== parent.offsetWidth + parent.scrollLeft && parent.scrollLeft > 0) {\n                    this.actionObj.X += this.scrollEdges.left ? this.actionObj.scroll.scrollBy : -this.actionObj.scroll.scrollBy;\n                }\n            }\n        }\n    };\n    ActionBase.prototype.autoScrollValidation = function () {\n        if (!this.actionObj.scroll.enable) {\n            return false;\n        }\n        var res = this.parent.boundaryValidation(this.actionObj.pageY, this.actionObj.pageX);\n        this.scrollEdges = res;\n        return res.bottom || res.top || res.left || res.right;\n    };\n    ActionBase.prototype.actionClass = function (type) {\n        if (type === 'addClass') {\n            addClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n        else {\n            removeClass([this.parent.element], cls.EVENT_ACTION_CLASS);\n        }\n    };\n    ActionBase.prototype.updateScrollPosition = function (e) {\n        var _this = this;\n        if (this.actionObj.scroll.enable && isNullOrUndefined(this.actionObj.scrollInterval)) {\n            this.actionObj.scrollInterval = window.setInterval(function () {\n                if (_this.autoScrollValidation() && !_this.actionObj.clone.classList.contains(cls.ALLDAY_APPOINTMENT_CLASS)) {\n                    if (_this.parent.activeView.isTimelineView() && _this.parent.activeViewOptions.group.resources.length > 0\n                        && _this.actionObj.groupIndex < 0) {\n                        return;\n                    }\n                    _this.autoScroll();\n                    if (_this.actionObj.action === 'drag') {\n                        _this.parent.dragAndDropModule.updateDraggingDateTime(e);\n                    }\n                    else {\n                        _this.parent.resizeModule.updateResizingDirection(e);\n                    }\n                }\n            }, this.actionObj.scroll.timeDelay);\n        }\n    };\n    ActionBase.prototype.updateOriginalElement = function (cloneElement) {\n        var query = '[data-id=\"' + cloneElement.getAttribute('data-id') + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            query = query.concat('[data-group-index = \"' + cloneElement.getAttribute('data-group-index') + '\"]');\n        }\n        var elements = [].slice.call(this.parent.element.querySelectorAll(query));\n        addClass(elements, cls.EVENT_ACTION_CLASS);\n        var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n        removeClass(eventWrappers, cls.EVENT_ACTION_CLASS);\n    };\n    ActionBase.prototype.getUpdatedEvent = function (startTime, endTime, eventObj) {\n        var event = JSON.parse(JSON.stringify(eventObj));\n        event[this.parent.eventFields.startTime] = startTime;\n        event[this.parent.eventFields.endTime] = endTime;\n        return event;\n    };\n    ActionBase.prototype.dynamicYearlyEventsRendering = function (event, isResize) {\n        if (isResize === void 0) { isResize = false; }\n        var appWidth = this.actionObj.cellWidth - 7;\n        if (isResize && (this.resizeEdges.left || this.resizeEdges.right)) {\n            appWidth = this.actionObj.cellWidth * event.count;\n        }\n        if (!isResize && (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length === 0)) {\n            var eventObj = this.yearEvent.isSpannedEvent(event, event[this.parent.eventFields.startTime]);\n            if (eventObj[this.parent.eventFields.startTime].getTime() ===\n                eventObj[this.parent.eventFields.endTime].getTime()) {\n                eventObj.isSpanned.count = 1;\n            }\n            appWidth = eventObj.isSpanned.count * this.actionObj.cellWidth;\n        }\n        var appointmentElement = this.createAppointmentElement(this.actionObj.groupIndex, event[this.parent.eventFields.subject]);\n        appointmentElement.setAttribute('drag', 'true');\n        addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n        setStyleAttribute(appointmentElement, {\n            'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none',\n            'position': 'absolute', 'overflow': 'hidden', 'padding': '3px'\n        });\n        if (this.actionObj.clone.style.backgroundColor !== '') {\n            setStyleAttribute(appointmentElement, { 'backgroundColor': this.actionObj.clone.style.backgroundColor });\n        }\n        var date = util.resetTime(event[this.parent.eventFields.startTime]).getTime();\n        var query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"]';\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            query = '.' + cls.WORK_CELLS_CLASS + '[data-date=\"' + date + '\"][data-group-index=\"' + this.actionObj.groupIndex + '\"]';\n        }\n        var cellTd = this.parent.element.querySelector(query);\n        if (isNullOrUndefined(cellTd)) {\n            return;\n        }\n        if (isResize) {\n            var dateHeader = cellTd.querySelector('.' + cls.DATE_HEADER_CLASS);\n            var appHeight = this.actionObj.cellHeight * event.count -\n                (dateHeader ? dateHeader.offsetHeight : 0) - 7;\n            if (this.resizeEdges.right || this.resizeEdges.left) {\n                appHeight = parseInt(this.actionObj.clone.style.height, 10);\n            }\n            setStyleAttribute(appointmentElement, { 'height': appHeight + 'px' });\n        }\n        this.renderDynamicElement(cellTd, appointmentElement, true);\n        this.actionObj.cloneElement.push(appointmentElement);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ActionBase.prototype.renderDynamicElement = function (cellTd, element, isAppointment) {\n        if (isAppointment === void 0) { isAppointment = false; }\n        if (cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS)) {\n            cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS).appendChild(element);\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(element);\n            cellTd.appendChild(wrapper);\n        }\n    };\n    ActionBase.prototype.createAppointmentElement = function (resIndex, innerText) {\n        var appointmentWrapper = createElement('div', {\n            className: cls.APPOINTMENT_CLASS,\n            innerHTML: innerText\n        });\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            appointmentWrapper.setAttribute('data-group-index', resIndex.toString());\n        }\n        return appointmentWrapper;\n    };\n    ActionBase.prototype.dynamicEventsRendering = function (event) {\n        var _this = this;\n        var dateRender = this.parent.activeView.renderDates;\n        var workCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        var workDays = this.parent.activeViewOptions.workDays;\n        var groupOrder;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            var resources = this.parent.resourceBase.lastResourceLevel.\n                filter(function (res) { return res.groupIndex === _this.actionObj.groupIndex; });\n            dateRender = resources[0].renderDates;\n            var elementSelector = \".\" + cls.WORK_CELLS_CLASS + \"[data-group-index=\\\"\" + this.actionObj.groupIndex + \"\\\"]\";\n            workCells = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n            workDays = resources[0].workDays;\n            groupOrder = resources[0].groupOrder;\n        }\n        this.monthEvent.dateRender = dateRender;\n        this.monthEvent.getSlotDates(workDays);\n        if (this.resizeEdges.left || this.resizeEdges.right) {\n            var eventWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CLONE_ELEMENT_CLASS));\n            for (var _i = 0, eventWrappers_1 = eventWrappers; _i < eventWrappers_1.length; _i++) {\n                var wrapper = eventWrappers_1[_i];\n                remove(wrapper);\n            }\n        }\n        var spannedEvents = this.monthEvent.splitEvent(event, dateRender);\n        for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n            var event_1 = spannedEvents_1[_a];\n            var day = this.parent.getIndexOfDate(dateRender, util.resetTime(event_1[this.monthEvent.fields.startTime]));\n            var diffInDays = event_1.data.count;\n            var appWidth = (diffInDays * this.actionObj.cellWidth) - 7;\n            var appointmentElement = this.monthEvent.createAppointmentElement(event_1, this.actionObj.groupIndex, true);\n            appointmentElement.setAttribute('drag', 'true');\n            addClass([appointmentElement], cls.CLONE_ELEMENT_CLASS);\n            this.monthEvent.applyResourceColor(appointmentElement, event_1, 'backgroundColor', groupOrder);\n            setStyleAttribute(appointmentElement, { 'width': appWidth + 'px', 'border': '0px', 'pointer-events': 'none' });\n            var cellTd = workCells[day];\n            if (cellTd && isNullOrUndefined(this.parent.eventDragArea)) {\n                this.monthEvent.renderElement(cellTd, appointmentElement, true);\n                this.actionObj.cloneElement.push(appointmentElement);\n            }\n        }\n    };\n    ActionBase.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.actionObj = {};\n        this.scrollArgs = {};\n        this.resizeEdges = { left: false, right: false, top: false, bottom: false };\n        this.scrollEdges = { left: false, right: false, top: false, bottom: false };\n    };\n    return ActionBase;\n}());\nexport { ActionBase };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}