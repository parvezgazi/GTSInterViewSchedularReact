{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { isNullOrUndefined, extend, EventHandler, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, removeClass, append, prepend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * vertical view\n */\nvar VerticalView = /** @class */function (_super) {\n  __extends(VerticalView, _super);\n  function VerticalView(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.viewClass = 'e-day-view';\n    _this.isInverseTableSelect = true;\n    _this.baseCssClass = 'e-vertical-view';\n    _this.appointment = null;\n    return _this;\n  }\n  VerticalView.prototype.getModuleName = function () {\n    return 'verticalView';\n  };\n  VerticalView.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.scrollUiUpdate, this);\n    this.parent.on(event.dataReady, this.renderEvents, this);\n  };\n  VerticalView.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.scrollUiUpdate);\n      this.parent.off(event.dataReady, this.renderEvents);\n    }\n  };\n  VerticalView.prototype.renderEvents = function () {\n    this.appointment = this.parent.activeViewOptions.timeScale.enable ? new VerticalEvent(this.parent) : new MonthEvent(this.parent);\n    this.appointment.renderAppointments();\n    this.parent.notify(event.eventsLoaded, {});\n  };\n  VerticalView.prototype.onContentScroll = function (e) {\n    this.parent.removeNewEventElement();\n    var target = e.target;\n    this.parent.notify(event.virtualScroll, e);\n    this.scrollLeftPanel(target);\n    this.scrollTopPanel(target);\n    if (!this.parent.isAdaptive) {\n      this.parent.uiStateValues.top = target.scrollTop;\n    }\n    this.parent.uiStateValues.left = target.scrollLeft;\n    if (!isNullOrUndefined(this.parent.quickPopup)) {\n      this.parent.quickPopup.quickPopupHide();\n    }\n    this.setPersistence();\n  };\n  VerticalView.prototype.onAdaptiveMove = function (e) {\n    if (this.parent.uiStateValues.action) {\n      e.preventDefault();\n    }\n  };\n  VerticalView.prototype.onAdaptiveScroll = function (e) {\n    if (this.parent && !this.parent.isDestroyed) {\n      this.parent.removeNewEventElement();\n      this.parent.uiStateValues.top = e.target.scrollTop;\n    }\n  };\n  VerticalView.prototype.scrollLeftPanel = function (target) {\n    var leftPanel = this.getLeftPanelElement();\n    if (!isNullOrUndefined(leftPanel)) {\n      leftPanel.scrollTop = target.scrollTop;\n    }\n  };\n  VerticalView.prototype.scrollUiUpdate = function (args) {\n    if (!this.parent) {\n      return;\n    }\n    var dateHeader = this.parent.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n    var headerBarHeight = this.getHeaderBarHeight();\n    var timeCells = this.getLeftPanelElement();\n    var content = this.getScrollableElement();\n    var header = this.getDatesHeaderElement();\n    var scrollerHeight = this.parent.element.offsetHeight - headerBarHeight - header.offsetHeight;\n    this.setColWidth(content);\n    this.setContentHeight(content, timeCells, scrollerHeight);\n    var scrollBarWidth = util.getScrollBarWidth();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    header.style[args.cssProperties.rtlPadding] = '';\n    var isDateHeaderScroll = this.parent.enableAllDayScroll ? !(content.offsetWidth - content.clientWidth <= dateHeader.offsetWidth - dateHeader.clientWidth && dateHeader.classList.contains('e-all-day-scroll')) : true;\n    if (content.offsetWidth - content.clientWidth > 0 && isDateHeaderScroll) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      header.firstElementChild.style[args.cssProperties.border] = '';\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      header.style[args.cssProperties.padding] = '';\n    }\n    if (!args.isPreventScrollUpdate) {\n      if (this.parent.uiStateValues.isInitial) {\n        this.scrollToWorkHour();\n        this.parent.uiStateValues.isInitial = false;\n      } else {\n        if (timeCells) {\n          timeCells.scrollTop = this.parent.uiStateValues.top;\n        }\n        content.scrollTop = this.parent.uiStateValues.top;\n        content.scrollLeft = this.parent.uiStateValues.left;\n      }\n    }\n    if (this.parent.activeViewOptions.timeScale.enable) {\n      this.highlightCurrentTime();\n    }\n    this.retainScrollPosition();\n  };\n  VerticalView.prototype.setContentHeight = function (element, leftPanelElement, height) {\n    if (this.parent.isAdaptive && !this.isTimelineView()) {\n      element.style.height = this.parent.height === 'auto' ? 'auto' : formatUnit(height);\n    } else {\n      if (!isNullOrUndefined(leftPanelElement)) {\n        leftPanelElement.style.height = this.parent.height === 'auto' ? 'auto' : formatUnit(height - this.getScrollXIndent(element));\n      }\n      element.style.height = this.parent.height === 'auto' ? 'auto' : formatUnit(height);\n    }\n  };\n  VerticalView.prototype.scrollToWorkHour = function () {\n    if (this.parent.workHours.highlight) {\n      var firstWorkHourCell = this.element.querySelector('.' + cls.WORK_HOURS_CLASS);\n      if (firstWorkHourCell) {\n        this.getScrollableElement().scrollTop = firstWorkHourCell.offsetTop;\n        this.parent.uiStateValues.top = firstWorkHourCell.offsetTop;\n        this.parent.uiStateValues.left = 0;\n      }\n    }\n  };\n  VerticalView.prototype.scrollToHour = function (hour, scrollDate) {\n    var date = this.parent.getStartEndTime(hour);\n    if (isNullOrUndefined(date) || !isNullOrUndefined(scrollDate)) {\n      return;\n    }\n    this.getScrollableElement().scrollTop = this.getTopFromDateTime(date);\n  };\n  VerticalView.prototype.generateColumnLevels = function () {\n    var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n    var columnLevels = [];\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      columnLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        var resStartHour = resourceLevel.resourceData[resourceLevel.resource.startHourField];\n        var resEndHour = resourceLevel.resourceData[resourceLevel.resource.endHourField];\n        var dateSlots = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays, resStartHour, resEndHour);\n        columnLevels = [dateSlots];\n      }\n    } else {\n      columnLevels.push(level);\n    }\n    this.colLevels = columnLevels;\n    return columnLevels;\n  };\n  // eslint-disable-next-line max-len\n  VerticalView.prototype.getDateSlots = function (renderDates, workDays, workStartHour, workEndHour) {\n    if (workStartHour === void 0) {\n      workStartHour = this.parent.workHours.start;\n    }\n    if (workEndHour === void 0) {\n      workEndHour = this.parent.workHours.end;\n    }\n    var dateCol = [];\n    var start = this.parent.getStartEndTime(workStartHour);\n    var end = this.parent.getStartEndTime(workEndHour);\n    for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n      var col = renderDates_1[_i];\n      var classList = [cls.HEADER_CELLS_CLASS];\n      if (this.isCurrentDate(col)) {\n        classList.push(cls.CURRENT_DAY_CLASS);\n      }\n      dateCol.push({\n        date: col,\n        type: 'dateHeader',\n        className: classList,\n        colSpan: 1,\n        workDays: workDays,\n        startHour: new Date(+start),\n        endHour: new Date(+end)\n      });\n    }\n    return dateCol;\n  };\n  VerticalView.prototype.isWorkHourRange = function (date) {\n    return this.getStartHour().getTime() <= date.getTime() && this.getEndHour().getTime() >= date.getTime();\n  };\n  VerticalView.prototype.highlightCurrentTime = function () {\n    var _this = this;\n    if (this.parent.activeViewOptions.headerRows.length > 0 && this.parent.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n      return;\n    }\n    if (this.parent.showTimeIndicator && this.isWorkHourRange(this.parent.getCurrentTime())) {\n      var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n      if (currentDateIndex.length > 0) {\n        var workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        if (workCells.length > 0) {\n          this.changeCurrentTimePosition();\n        }\n        if (isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n          var currentDate = this.parent.getCurrentTime();\n          var interval = util.MS_PER_MINUTE - (currentDate.getSeconds() * 1000 + currentDate.getMilliseconds());\n          if (interval <= util.MS_PER_MINUTE - 1000) {\n            window.setTimeout(function () {\n              if (!isNullOrUndefined(_this.currentTimeIndicatorTimer)) {\n                _this.clearCurrentTimeIndicatorTimer();\n                _this.changeCurrentTimePosition();\n                _this.updateCurrentTimeIndicatorTimer();\n              }\n            }, interval);\n          }\n          this.updateCurrentTimeIndicatorTimer();\n        }\n      } else {\n        this.clearCurrentTimeIndicatorTimer();\n      }\n    } else {\n      this.clearCurrentTimeIndicatorTimer();\n    }\n  };\n  VerticalView.prototype.getCurrentTimeIndicatorIndex = function () {\n    var currentDateIndex = [];\n    if (!isNullOrUndefined(this.parent.resourceBase) && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      var count = 0;\n      for (var _i = 0, _a = this.parent.resourceBase.lastResourceLevel; _i < _a.length; _i++) {\n        var resource = _a[_i];\n        var index = this.parent.getIndexOfDate(resource.renderDates, util.resetTime(this.parent.getCurrentTime()));\n        if (index >= 0) {\n          var resIndex = this.parent.activeViewOptions.group.byDate ? this.parent.resourceBase.lastResourceLevel.length * index + count : count + index;\n          currentDateIndex.push(resIndex);\n        }\n        count += this.parent.activeViewOptions.group.byDate ? 1 : resource.renderDates.length;\n      }\n    } else {\n      var renderDates = this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0 ? this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates : this.renderDates;\n      var index = this.parent.getIndexOfDate(renderDates, util.resetTime(this.parent.getCurrentTime()));\n      if (index >= 0) {\n        currentDateIndex.push(index);\n      }\n    }\n    return currentDateIndex;\n  };\n  VerticalView.prototype.clearCurrentTimeIndicatorTimer = function () {\n    if (!isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n      window.clearInterval(this.currentTimeIndicatorTimer);\n      this.currentTimeIndicatorTimer = null;\n      this.removeCurrentTimeIndicatorElements();\n    }\n  };\n  VerticalView.prototype.updateCurrentTimeIndicatorTimer = function () {\n    var _this = this;\n    this.currentTimeIndicatorTimer = window.setInterval(function () {\n      _this.changeCurrentTimePosition();\n    }, util.MS_PER_MINUTE);\n  };\n  VerticalView.prototype.removeCurrentTimeIndicatorElements = function () {\n    var queryString = '.' + cls.PREVIOUS_TIMELINE_CLASS + ',.' + cls.CURRENT_TIMELINE_CLASS + ',.' + cls.CURRENT_TIME_CLASS;\n    var timeIndicator = [].slice.call(this.element.querySelectorAll(queryString));\n    for (var _i = 0, timeIndicator_1 = timeIndicator; _i < timeIndicator_1.length; _i++) {\n      var indicator = timeIndicator_1[_i];\n      remove(indicator);\n    }\n  };\n  VerticalView.prototype.changeCurrentTimePosition = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.removeCurrentTimeIndicatorElements();\n    var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n    var firstRow = this.parent.getContentTable().rows[0];\n    var top = this.getTopFromDateTime(this.parent.getCurrentTime());\n    var topInPx = formatUnit(top);\n    var rowIndex = Math.floor(top / firstRow.cells[0].offsetHeight);\n    var timeCellsWrap = this.getLeftPanelElement();\n    var timeTrs = [].slice.call(timeCellsWrap.querySelectorAll('tr'));\n    if (isNullOrUndefined(rowIndex) || isNaN(rowIndex) || rowIndex === timeTrs.length) {\n      return;\n    }\n    var curTimeWrap = [].slice.call(this.element.querySelectorAll('.' + cls.TIMELINE_WRAPPER_CLASS));\n    for (var i = 0, length_1 = currentDateIndex[0]; i < length_1; i++) {\n      curTimeWrap[i].appendChild(createElement('div', {\n        className: cls.PREVIOUS_TIMELINE_CLASS,\n        styles: 'top:' + topInPx\n      }));\n    }\n    for (var _i = 0, currentDateIndex_1 = currentDateIndex; _i < currentDateIndex_1.length; _i++) {\n      var day = currentDateIndex_1[_i];\n      curTimeWrap[day].appendChild(createElement('div', {\n        className: cls.CURRENT_TIMELINE_CLASS,\n        styles: 'top:' + topInPx\n      }));\n    }\n    var currentTimeEle = createElement('div', {\n      innerHTML: this.parent.getTimeString(this.parent.getCurrentTime()),\n      className: cls.CURRENT_TIME_CLASS,\n      styles: 'top:' + topInPx\n    });\n    if (rowIndex <= timeTrs.length) {\n      removeClass(timeCellsWrap.querySelectorAll('.' + cls.HIDE_CHILDS_CLASS), cls.HIDE_CHILDS_CLASS);\n      if (timeTrs[rowIndex]) {\n        addClass([timeTrs[rowIndex].lastElementChild], cls.HIDE_CHILDS_CLASS);\n      }\n      prepend([currentTimeEle], timeCellsWrap);\n      currentTimeEle.style.top = formatUnit(currentTimeEle.offsetTop - currentTimeEle.offsetHeight / 2);\n    }\n  };\n  VerticalView.prototype.getTopFromDateTime = function (date) {\n    var startHour = this.getStartHour();\n    var diffInMinutes = (date.getHours() - startHour.getHours()) * 60 + (date.getMinutes() - startHour.getMinutes());\n    return diffInMinutes * this.getWorkCellHeight() * this.parent.activeViewOptions.timeScale.slotCount / this.parent.activeViewOptions.timeScale.interval;\n  };\n  VerticalView.prototype.getWorkCellHeight = function () {\n    return parseFloat(this.element.querySelector('.' + cls.WORK_CELLS_CLASS).getBoundingClientRect().height.toFixed(2));\n  };\n  VerticalView.prototype.getTdContent = function (date, type, groupIndex) {\n    var cntEle;\n    var wrapper = createElement('div');\n    var templateName = '';\n    var templateId = this.parent.element.id + '_';\n    switch (type) {\n      case 'dateHeader':\n        if (this.parent.activeViewOptions.dateHeaderTemplate) {\n          templateName = 'dateHeaderTemplate';\n          var args = {\n            date: date,\n            type: type\n          };\n          var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n          cntEle = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false));\n        } else {\n          wrapper.innerHTML = this.parent.activeView.isTimelineView() ? \"<span class=\\\"e-header-date e-navigate\\\">\" + this.getTimelineDate(date) + \"</span>\" : \"<div class=\\\"e-header-day\\\">\" + util.capitalizeFirstWord(this.getDayName(date), 'single') + \"</div>\" + (\"<div class=\\\"e-header-date e-navigate\\\" role=\\\"link\\\">\" + this.getDate(date) + \"</div>\");\n          cntEle = [].slice.call(wrapper.childNodes);\n        }\n        break;\n      case 'majorSlot':\n        if (this.parent.activeViewOptions.timeScale.majorSlotTemplate) {\n          templateName = 'majorSlotTemplate';\n          var args = {\n            date: date,\n            type: type\n          };\n          cntEle = [].slice.call(this.parent.getMajorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false));\n        } else {\n          wrapper.innerHTML = \"<span>\" + this.getTime(date) + \"</span>\";\n          cntEle = [].slice.call(wrapper.childNodes);\n        }\n        break;\n      case 'minorSlot':\n        if (this.parent.activeViewOptions.timeScale.minorSlotTemplate) {\n          templateName = 'minorSlotTemplate';\n          var args = {\n            date: date,\n            type: type\n          };\n          cntEle = [].slice.call(this.parent.getMinorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false));\n        } else {\n          cntEle = [].slice.call(wrapper.childNodes);\n        }\n        break;\n      case 'alldayCells':\n        if (this.parent.activeViewOptions.cellTemplate) {\n          var viewName = this.parent.activeViewOptions.cellTemplateName;\n          templateName = 'cellTemplate';\n          var args = {\n            date: date,\n            type: type,\n            groupIndex: groupIndex\n          };\n          cntEle = [].slice.call(this.parent.getCellTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false));\n        }\n        break;\n    }\n    return cntEle;\n  };\n  VerticalView.prototype.refreshHeader = function () {\n    remove(this.element.querySelector('tbody tr'));\n    this.renderHeader();\n    this.parent.notify(event.contentReady, {});\n  };\n  VerticalView.prototype.renderLayout = function (type) {\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var clsList = [this.baseCssClass, this.viewClass];\n    clsList.push(type);\n    if (this.parent.activeViewOptions.group.byDate) {\n      clsList.push('e-by-date');\n    }\n    if (!this.parent.activeViewOptions.timeScale.enable) {\n      addClass([this.element], [cls.TIMESCALE_DISABLE, this.viewClass]);\n    }\n    if (this.parent.activeViewOptions.allowVirtualScrolling) {\n      clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n    }\n    if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n      clsList.push(cls.IGNORE_WHITESPACE);\n    }\n    this.renderPanel(type);\n    addClass([this.element], clsList);\n    this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    this.colLevels = this.generateColumnLevels();\n    this.renderHeader();\n    this.renderContent();\n    if (this.parent.uiStateValues.isGroupAdaptive && !this.parent.element.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n      this.renderResourceMobileLayout();\n    }\n    this.parent.notify(event.contentReady, {});\n  };\n  VerticalView.prototype.renderHeader = function () {\n    var tr = createElement('tr');\n    var dateTd = createElement('td');\n    dateTd.appendChild(this.renderDatesHeader());\n    if (this.parent.activeViewOptions.timeScale.enable) {\n      var indentTd = createElement('td', {\n        className: cls.LEFT_INDENT_CLASS\n      });\n      indentTd.appendChild(this.renderLeftIndent());\n      tr.appendChild(indentTd);\n    }\n    tr.appendChild(dateTd);\n    prepend([tr], this.element.querySelector('tbody'));\n  };\n  VerticalView.prototype.renderContent = function () {\n    var tr = createElement('tr');\n    var workTd = createElement('td');\n    if (this.parent.isAdaptive) {\n      workTd.setAttribute('colspan', this.parent.activeViewOptions.timeScale.enable ? '2' : '1');\n      var scrollContainer = createElement('div', {\n        className: cls.SCROLL_CONTAINER_CLASS\n      });\n      if (this.parent.activeViewOptions.timeScale.enable) {\n        scrollContainer.appendChild(this.renderTimeCells());\n      }\n      scrollContainer.appendChild(this.renderContentArea());\n      workTd.appendChild(scrollContainer);\n      EventHandler.add(scrollContainer, 'scroll', this.onAdaptiveScroll, this);\n      EventHandler.add(scrollContainer, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n      tr.appendChild(workTd);\n    } else {\n      workTd.appendChild(this.renderContentArea());\n      if (this.parent.activeViewOptions.timeScale.enable) {\n        var timesTd = createElement('td');\n        timesTd.appendChild(this.renderTimeCells());\n        tr.appendChild(timesTd);\n      }\n      tr.appendChild(workTd);\n    }\n    this.element.querySelector('tbody').appendChild(tr);\n  };\n  VerticalView.prototype.renderLeftIndent = function () {\n    var wrap = createElement('div', {\n      className: cls.LEFT_INDENT_WRAP_CLASS\n    });\n    var tbl = this.createTableLayout();\n    var trEle = createElement('tr');\n    var rowCount = this.colLevels.length;\n    var nth;\n    for (var i = 0; i < rowCount; i++) {\n      var ntr_1 = trEle.cloneNode();\n      var data_1 = {\n        className: [this.colLevels[i][0] && this.colLevels[i][0].className[0]],\n        type: 'emptyCells'\n      };\n      if (this.parent.activeViewOptions.showWeekNumber && data_1.className.indexOf(cls.HEADER_CELLS_CLASS) !== -1) {\n        data_1.className.push(cls.WEEK_NUMBER_CLASS);\n        var weekNo = this.parent.getWeekNumberContent(this.renderDates);\n        data_1.template = [createElement('span', {\n          innerHTML: '' + weekNo,\n          attrs: {\n            title: this.parent.localeObj.getConstant('week') + ' ' + weekNo\n          }\n        })];\n      }\n      nth = this.createTd(data_1);\n      this.parent.renderHeaderIndentTemplate(data_1, nth);\n      ntr_1.appendChild(nth);\n      tbl.querySelector('tbody').appendChild(ntr_1);\n    }\n    var ntr = trEle.cloneNode();\n    var appointmentExpandCollapse = createElement('div', {\n      attrs: {\n        'tabindex': '0',\n        'role': 'list',\n        title: this.parent.localeObj.getConstant('expandAllDaySection'),\n        'aria-disabled': 'false',\n        'aria-label': 'Expand section'\n      },\n      className: cls.ALLDAY_APPOINTMENT_SECTION_CLASS + ' ' + cls.APPOINTMENT_ROW_EXPAND_CLASS + ' ' + cls.ICON + ' ' + cls.DISABLE_CLASS\n    });\n    var data = {\n      className: [cls.ALLDAY_CELLS_CLASS],\n      type: 'emptyCells'\n    };\n    nth = this.createTd(data);\n    nth.appendChild(appointmentExpandCollapse);\n    this.parent.renderHeaderIndentTemplate(data, nth);\n    ntr.appendChild(nth);\n    tbl.querySelector('tbody').appendChild(ntr);\n    wrap.appendChild(tbl);\n    return wrap;\n  };\n  VerticalView.prototype.renderDatesHeader = function () {\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    var wrap = createElement('div', {\n      className: cls.DATE_HEADER_WRAP_CLASS\n    });\n    container.appendChild(wrap);\n    var tbl = this.createTableLayout();\n    var trEle = createElement('tr');\n    var rowCount = this.colLevels.length;\n    var lastLevel = this.colLevels[rowCount - 1];\n    for (var i = 0; i < rowCount; i++) {\n      var ntr = trEle.cloneNode();\n      addClass([ntr], cls.HEADER_ROW_CLASS);\n      var level = this.colLevels[i];\n      for (var j = 0; j < level.length; j++) {\n        ntr.appendChild(this.createTd(level[j]));\n      }\n      tbl.querySelector('tbody').appendChild(ntr);\n    }\n    this.createAllDayRow(tbl, lastLevel);\n    this.createColGroup(tbl, lastLevel);\n    wrap.appendChild(tbl);\n    return container;\n  };\n  VerticalView.prototype.createAllDayRow = function (table, tdData) {\n    var ntr = createElement('tr');\n    addClass([ntr], cls.ALLDAY_ROW_CLASS);\n    for (var j = 0; j < tdData.length; j++) {\n      var td = extend({}, tdData[j]);\n      td.className = [cls.ALLDAY_CELLS_CLASS];\n      td.type = 'alldayCells';\n      var ntd = this.createTd(td);\n      ntd.setAttribute('data-date', td.date.getTime().toString());\n      if (!isNullOrUndefined(td.groupIndex)) {\n        ntd.setAttribute('data-group-index', '' + td.groupIndex);\n      } else if (this.parent.uiStateValues.isGroupAdaptive) {\n        ntd.setAttribute('data-group-index', '' + this.parent.uiStateValues.groupIndex);\n      }\n      this.wireCellEvents(ntd);\n      ntr.appendChild(ntd);\n    }\n    table.querySelector('tbody').appendChild(ntr);\n    var thead = createElement('thead');\n    thead.appendChild(this.createEventWrapper('allDay'));\n    prepend([thead], table);\n  };\n  VerticalView.prototype.createTd = function (td) {\n    var tdEle = createElement('td');\n    this.addAttributes(td, tdEle);\n    if (td.date && td.type) {\n      var ele = this.getTdContent(td.date, td.type, td.groupIndex);\n      if (ele && ele.length) {\n        append(ele, tdEle);\n      }\n    }\n    if (!this.parent.isMinMaxDate(util.resetTime(new Date('' + td.date)))) {\n      addClass([tdEle], cls.DISABLE_DATES);\n    }\n    if (td.type === 'resourceHeader') {\n      this.setResourceHeaderContent(tdEle, td);\n    }\n    if (td.type === 'dateHeader' && td.className.indexOf(cls.HEADER_CELLS_CLASS) >= 0) {\n      tdEle.setAttribute('data-date', td.date.getTime().toString());\n      if (!isNullOrUndefined(td.groupIndex)) {\n        tdEle.setAttribute('data-group-index', '' + td.groupIndex);\n      }\n      this.wireMouseEvents(tdEle);\n    }\n    var args = {\n      elementType: td.type,\n      element: tdEle,\n      date: td.date,\n      groupIndex: td.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tdEle;\n  };\n  VerticalView.prototype.wireCellEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    this.wireMouseEvents(element);\n  };\n  VerticalView.prototype.wireMouseEvents = function (element) {\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n  VerticalView.prototype.renderTimeCells = function () {\n    var _this = this;\n    var wrap = createElement('div', {\n      className: cls.TIME_CELLS_WRAP_CLASS\n    });\n    var tbl = this.createTableLayout();\n    var trEle = createElement('tr');\n    var handler = function (r) {\n      r.type = r.first ? 'majorSlot' : 'minorSlot';\n      r.className = r.last ? [cls.TIME_CELLS_CLASS, cls.TIME_SLOT_CLASS] : [cls.TIME_SLOT_CLASS];\n      var ntr = trEle.cloneNode();\n      var data = {\n        date: r.date,\n        type: r.type,\n        className: r.className\n      };\n      ntr.appendChild(_this.createTd(data));\n      tbl.querySelector('tbody').appendChild(ntr);\n      return r;\n    };\n    this.getTimeSlotRows(handler);\n    wrap.appendChild(tbl);\n    return wrap;\n  };\n  VerticalView.prototype.renderContentArea = function () {\n    var wrap = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.addAutoHeightClass(tbl);\n    this.renderContentTable(tbl);\n    this.createColGroup(tbl, this.colLevels.slice(-1)[0]);\n    wrap.appendChild(tbl);\n    this.wireCellEvents(tbl.querySelector('tbody'));\n    EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n    EventHandler.add(wrap, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n    return wrap;\n  };\n  VerticalView.prototype.renderContentTable = function (table) {\n    var _this = this;\n    var tr = createElement('tr', {\n      attrs: {\n        role: 'row'\n      }\n    });\n    var td = createElement('td', {\n      attrs: {\n        role: 'gridcell',\n        'aria-selected': 'false'\n      }\n    });\n    var tbody = table.querySelector('tbody');\n    var handler = function (r) {\n      var ntr = tr.cloneNode();\n      for (var _i = 0, _a = _this.colLevels[_this.colLevels.length - 1]; _i < _a.length; _i++) {\n        var tdData = _a[_i];\n        var ntd = _this.createContentTd(tdData, r, td);\n        ntr.appendChild(ntd);\n      }\n      tbody.appendChild(ntr);\n      return r;\n    };\n    this.getTimeSlotRows(handler);\n    this.renderContentTableHeader(table);\n  };\n  VerticalView.prototype.createContentTd = function (tdData, r, td) {\n    var ntd = td.cloneNode();\n    if (tdData.colSpan) {\n      ntd.setAttribute('colspan', tdData.colSpan.toString());\n    }\n    var clsName = this.getContentTdClass(r);\n    var cellDate = util.resetTime(tdData.date);\n    if (!this.parent.isMinMaxDate(cellDate)) {\n      clsName.push(cls.DISABLE_DATES);\n    }\n    util.setTime(cellDate, util.getDateInMs(r.date));\n    var type = 'workCells';\n    if (tdData.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n      clsName.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n      type = 'resourceGroupCells';\n    }\n    if (this.parent.workHours.highlight && (this.parent.activeViewOptions.timeScale.enable && this.isWorkHour(cellDate, tdData.startHour, tdData.endHour, tdData.workDays) || !this.parent.activeViewOptions.timeScale.enable && this.isWorkDay(cellDate, tdData.workDays))) {\n      clsName.push(cls.WORK_HOURS_CLASS);\n    }\n    addClass([ntd], clsName);\n    if (this.parent.activeViewOptions.cellTemplate) {\n      var args_1 = {\n        date: cellDate,\n        type: type,\n        groupIndex: tdData.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellTemplateName;\n      var templateId = scheduleId + viewName + 'cellTemplate';\n      var tooltipTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n      append(tooltipTemplate, ntd);\n    }\n    ntd.setAttribute('data-date', cellDate.getTime().toString());\n    if (!isNullOrUndefined(tdData.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n      var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : tdData.groupIndex;\n      ntd.setAttribute('data-group-index', '' + groupIndex);\n    }\n    var args = {\n      elementType: type,\n      element: ntd,\n      date: cellDate,\n      groupIndex: tdData.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return ntd;\n  };\n  VerticalView.prototype.getContentTdClass = function (r) {\n    return r.last ? [cls.WORK_CELLS_CLASS] : [cls.WORK_CELLS_CLASS, cls.ALTERNATE_CELLS_CLASS];\n  };\n  VerticalView.prototype.renderContentTableHeader = function (table) {\n    var thead = createElement('thead');\n    thead.appendChild(this.createEventWrapper());\n    if (this.parent.activeViewOptions.timeScale.enable) {\n      thead.appendChild(this.createEventWrapper('timeIndicator'));\n    }\n    prepend([thead], table);\n  };\n  VerticalView.prototype.createEventWrapper = function (type) {\n    if (type === void 0) {\n      type = '';\n    }\n    var tr = createElement('tr');\n    var levels = this.colLevels.slice(-1)[0];\n    for (var i = 0, len = levels.length; i < len; i++) {\n      var col = levels[i];\n      var appointmentWrap = createElement('td', {\n        className: type === 'allDay' ? cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS : type === 'timeIndicator' ? cls.TIMELINE_WRAPPER_CLASS : cls.DAY_WRAPPER_CLASS,\n        attrs: {\n          'data-date': col.date.getTime().toString()\n        }\n      });\n      if (!isNullOrUndefined(col.groupIndex)) {\n        appointmentWrap.setAttribute('data-group-index', col.groupIndex.toString());\n      }\n      if (type === '') {\n        var innerWrapper = createElement('div', {\n          id: cls.APPOINTMENT_WRAPPER_CLASS + '-' + i.toString(),\n          className: cls.APPOINTMENT_WRAPPER_CLASS\n        });\n        appointmentWrap.appendChild(innerWrapper);\n      }\n      tr.appendChild(appointmentWrap);\n    }\n    return tr;\n  };\n  VerticalView.prototype.getScrollableElement = function () {\n    if (this.parent.isAdaptive && !this.isTimelineView()) {\n      return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n    } else {\n      return this.getContentAreaElement();\n    }\n  };\n  VerticalView.prototype.getLeftPanelElement = function () {\n    return this.element.querySelector('.' + cls.TIME_CELLS_WRAP_CLASS);\n  };\n  VerticalView.prototype.getEndDateFromStartDate = function (start) {\n    var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n    var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n    var end = new Date(start.getTime());\n    end.setMilliseconds(end.getMilliseconds() + msInterval);\n    return end;\n  };\n  VerticalView.prototype.getTimeSlotRows = function (handler) {\n    var rows = [];\n    var startHour = this.getStartHour();\n    var endHour = this.getEndHour();\n    var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n    var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n    var length = Math.round(util.MS_PER_DAY / msInterval);\n    var msStartHour = startHour.getTime();\n    var msEndHour = endHour.getTime();\n    if (msStartHour !== msEndHour) {\n      length = Math.abs(msEndHour - msStartHour) / msInterval - (new Date(msEndHour).getTimezoneOffset() - new Date(msStartHour).getTimezoneOffset()) / (60 / this.parent.activeViewOptions.timeScale.slotCount);\n    }\n    if (!this.parent.activeViewOptions.timeScale.enable) {\n      length = 1;\n    }\n    var start = this.parent.getStartEndTime(this.parent.workHours.start);\n    var end = this.parent.getStartEndTime(this.parent.workHours.end);\n    for (var i = 0; i < length; i++) {\n      var dt = new Date(msStartHour + msInterval * i);\n      if (util.isDaylightSavingTime(dt) || new Date(msStartHour).getTimezoneOffset() !== dt.getTimezoneOffset()) {\n        var timeOffset = new Date(msStartHour).getTimezoneOffset() - dt.getTimezoneOffset();\n        dt = new Date(dt.getTime() - 1000 * 60 * timeOffset);\n      }\n      var majorTickDivider = i % (msMajorInterval / msInterval);\n      var row = {\n        date: new Date('' + dt),\n        startHour: start,\n        endHour: end,\n        first: majorTickDivider === 0,\n        middle: majorTickDivider < this.parent.activeViewOptions.timeScale.slotCount - 1,\n        last: majorTickDivider === this.parent.activeViewOptions.timeScale.slotCount - 1,\n        type: ''\n      };\n      if (handler) {\n        handler(row);\n      }\n      rows.push(row);\n    }\n    return rows;\n  };\n  VerticalView.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.clearCurrentTimeIndicatorTimer();\n    if (this.element) {\n      if (this.appointment) {\n        this.appointment.destroy();\n        this.appointment = null;\n      }\n      var contentScrollableEle = this.getContentAreaElement();\n      if (contentScrollableEle) {\n        EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n        EventHandler.remove(contentScrollableEle, Browser.touchMoveEvent, this.onAdaptiveMove);\n      }\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      if (this.parent.scheduleTouchModule) {\n        this.parent.scheduleTouchModule.resetValues();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return VerticalView;\n}(ViewBase);\nexport { VerticalView };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isNullOrUndefined","extend","EventHandler","formatUnit","Browser","createElement","remove","addClass","removeClass","append","prepend","ViewBase","VerticalEvent","MonthEvent","util","event","cls","VerticalView","_super","parent","_this","call","viewClass","isInverseTableSelect","baseCssClass","appointment","getModuleName","addEventListener","on","scrollUiUpdate","dataReady","renderEvents","removeEventListener","off","activeViewOptions","timeScale","enable","renderAppointments","notify","eventsLoaded","onContentScroll","e","removeNewEventElement","target","virtualScroll","scrollLeftPanel","scrollTopPanel","isAdaptive","uiStateValues","top","scrollTop","left","scrollLeft","quickPopup","quickPopupHide","setPersistence","onAdaptiveMove","action","preventDefault","onAdaptiveScroll","isDestroyed","leftPanel","getLeftPanelElement","args","dateHeader","element","querySelector","DATE_HEADER_WRAP_CLASS","headerBarHeight","getHeaderBarHeight","timeCells","content","getScrollableElement","header","getDatesHeaderElement","scrollerHeight","offsetHeight","setColWidth","setContentHeight","scrollBarWidth","getScrollBarWidth","firstElementChild","style","cssProperties","rtlBorder","rtlPadding","isDateHeaderScroll","enableAllDayScroll","offsetWidth","clientWidth","classList","contains","border","padding","isPreventScrollUpdate","isInitial","scrollToWorkHour","highlightCurrentTime","retainScrollPosition","leftPanelElement","height","isTimelineView","getScrollXIndent","workHours","highlight","firstWorkHourCell","WORK_HOURS_CLASS","offsetTop","scrollToHour","hour","scrollDate","date","getStartEndTime","getTopFromDateTime","generateColumnLevels","level","getDateSlots","renderDates","workDays","columnLevels","group","resources","length","resourceBase","generateResourceLevels","isGroupAdaptive","lastResourceLevel","resourceLevel","groupIndex","resStartHour","resourceData","resource","startHourField","resEndHour","endHourField","dateSlots","push","colLevels","workStartHour","workEndHour","start","end","dateCol","_i","renderDates_1","col","HEADER_CELLS_CLASS","isCurrentDate","CURRENT_DAY_CLASS","type","className","colSpan","startHour","Date","endHour","isWorkHourRange","getStartHour","getTime","getEndHour","headerRows","slice","option","showTimeIndicator","getCurrentTime","currentDateIndex","getCurrentTimeIndicatorIndex","workCells","querySelectorAll","WORK_CELLS_CLASS","changeCurrentTimePosition","currentTimeIndicatorTimer","currentDate","interval","MS_PER_MINUTE","getSeconds","getMilliseconds","window","setTimeout","clearCurrentTimeIndicatorTimer","updateCurrentTimeIndicatorTimer","count","_a","index","getIndexOfDate","resetTime","resIndex","byDate","clearInterval","removeCurrentTimeIndicatorElements","setInterval","queryString","PREVIOUS_TIMELINE_CLASS","CURRENT_TIMELINE_CLASS","CURRENT_TIME_CLASS","timeIndicator","timeIndicator_1","indicator","firstRow","getContentTable","rows","topInPx","rowIndex","Math","floor","cells","timeCellsWrap","timeTrs","isNaN","curTimeWrap","TIMELINE_WRAPPER_CLASS","i","length_1","appendChild","styles","currentDateIndex_1","day","currentTimeEle","innerHTML","getTimeString","HIDE_CHILDS_CLASS","lastElementChild","diffInMinutes","getHours","getMinutes","getWorkCellHeight","slotCount","parseFloat","getBoundingClientRect","toFixed","getTdContent","cntEle","wrapper","templateName","templateId","id","dateHeaderTemplate","viewName","dateHeaderTemplateName","getDateHeaderTemplate","activeView","getTimelineDate","capitalizeFirstWord","getDayName","getDate","childNodes","majorSlotTemplate","getMajorSlotTemplate","minorSlotTemplate","getMinorSlotTemplate","cellTemplate","cellTemplateName","getCellTemplate","refreshHeader","renderHeader","contentReady","renderLayout","setPanel","TABLE_WRAP_CLASS","clsList","TIMESCALE_DISABLE","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","rowAutoHeight","eventSettings","ignoreWhitespace","IGNORE_WHITESPACE","renderPanel","createTableLayout","OUTER_TABLE_CLASS","setAttribute","renderContent","RESOURCE_TOOLBAR_CONTAINER","renderResourceMobileLayout","tr","dateTd","renderDatesHeader","indentTd","LEFT_INDENT_CLASS","renderLeftIndent","workTd","scrollContainer","SCROLL_CONTAINER_CLASS","renderTimeCells","renderContentArea","add","touchMoveEvent","timesTd","wrap","LEFT_INDENT_WRAP_CLASS","tbl","trEle","rowCount","nth","ntr_1","cloneNode","data_1","showWeekNumber","indexOf","WEEK_NUMBER_CLASS","weekNo","getWeekNumberContent","template","attrs","title","localeObj","getConstant","createTd","renderHeaderIndentTemplate","ntr","appointmentExpandCollapse","ALLDAY_APPOINTMENT_SECTION_CLASS","APPOINTMENT_ROW_EXPAND_CLASS","ICON","DISABLE_CLASS","data","ALLDAY_CELLS_CLASS","container","DATE_HEADER_CONTAINER_CLASS","lastLevel","HEADER_ROW_CLASS","j","createAllDayRow","createColGroup","table","tdData","ALLDAY_ROW_CLASS","td","ntd","toString","wireCellEvents","thead","createEventWrapper","tdEle","addAttributes","ele","isMinMaxDate","DISABLE_DATES","setResourceHeaderContent","wireMouseEvents","elementType","trigger","renderCell","workCellAction","cellMouseDown","cellClick","cellDblClick","TIME_CELLS_WRAP_CLASS","handler","r","first","last","TIME_CELLS_CLASS","TIME_SLOT_CLASS","getTimeSlotRows","CONTENT_WRAP_CLASS","CONTENT_TABLE_CLASS","addAutoHeightClass","renderContentTable","role","tbody","createContentTd","renderContentTableHeader","clsName","getContentTdClass","cellDate","setTime","getDateInMs","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","isWorkHour","isWorkDay","args_1","scheduleId","tooltipTemplate","ALTERNATE_CELLS_CLASS","levels","len","appointmentWrap","ALLDAY_APPOINTMENT_WRAPPER_CLASS","DAY_WRAPPER_CLASS","innerWrapper","APPOINTMENT_WRAPPER_CLASS","getContentAreaElement","getEndDateFromStartDate","msMajorInterval","msInterval","setMilliseconds","round","MS_PER_DAY","msStartHour","msEndHour","abs","getTimezoneOffset","dt","isDaylightSavingTime","timeOffset","majorTickDivider","row","middle","destroy","contentScrollableEle","scheduleTouchModule","resetValues"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/vertical-view.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend, EventHandler, formatUnit, Browser } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, removeClass, append, prepend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * vertical view\n */\nvar VerticalView = /** @class */ (function (_super) {\n    __extends(VerticalView, _super);\n    function VerticalView(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-day-view';\n        _this.isInverseTableSelect = true;\n        _this.baseCssClass = 'e-vertical-view';\n        _this.appointment = null;\n        return _this;\n    }\n    VerticalView.prototype.getModuleName = function () {\n        return 'verticalView';\n    };\n    VerticalView.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.scrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.renderEvents, this);\n    };\n    VerticalView.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.scrollUiUpdate);\n            this.parent.off(event.dataReady, this.renderEvents);\n        }\n    };\n    VerticalView.prototype.renderEvents = function () {\n        this.appointment = this.parent.activeViewOptions.timeScale.enable ?\n            new VerticalEvent(this.parent) : new MonthEvent(this.parent);\n        this.appointment.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    VerticalView.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        var target = e.target;\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollLeftPanel(target);\n        this.scrollTopPanel(target);\n        if (!this.parent.isAdaptive) {\n            this.parent.uiStateValues.top = target.scrollTop;\n        }\n        this.parent.uiStateValues.left = target.scrollLeft;\n        if (!isNullOrUndefined(this.parent.quickPopup)) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        this.setPersistence();\n    };\n    VerticalView.prototype.onAdaptiveMove = function (e) {\n        if (this.parent.uiStateValues.action) {\n            e.preventDefault();\n        }\n    };\n    VerticalView.prototype.onAdaptiveScroll = function (e) {\n        if (this.parent && !this.parent.isDestroyed) {\n            this.parent.removeNewEventElement();\n            this.parent.uiStateValues.top = e.target.scrollTop;\n        }\n    };\n    VerticalView.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (!isNullOrUndefined(leftPanel)) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    VerticalView.prototype.scrollUiUpdate = function (args) {\n        if (!this.parent) {\n            return;\n        }\n        var dateHeader = this.parent.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var headerBarHeight = this.getHeaderBarHeight();\n        var timeCells = this.getLeftPanelElement();\n        var content = this.getScrollableElement();\n        var header = this.getDatesHeaderElement();\n        var scrollerHeight = this.parent.element.offsetHeight - headerBarHeight - header.offsetHeight;\n        this.setColWidth(content);\n        this.setContentHeight(content, timeCells, scrollerHeight);\n        var scrollBarWidth = util.getScrollBarWidth();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        header.style[args.cssProperties.rtlPadding] = '';\n        var isDateHeaderScroll = this.parent.enableAllDayScroll ? !((content.offsetWidth - content.clientWidth) <=\n            (dateHeader.offsetWidth - dateHeader.clientWidth) && dateHeader.classList.contains('e-all-day-scroll')) : true;\n        if (content.offsetWidth - content.clientWidth > 0 && isDateHeaderScroll) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            header.style[args.cssProperties.padding] = '';\n        }\n        if (!args.isPreventScrollUpdate) {\n            if (this.parent.uiStateValues.isInitial) {\n                this.scrollToWorkHour();\n                this.parent.uiStateValues.isInitial = false;\n            }\n            else {\n                if (timeCells) {\n                    timeCells.scrollTop = this.parent.uiStateValues.top;\n                }\n                content.scrollTop = this.parent.uiStateValues.top;\n                content.scrollLeft = this.parent.uiStateValues.left;\n            }\n        }\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            this.highlightCurrentTime();\n        }\n        this.retainScrollPosition();\n    };\n    VerticalView.prototype.setContentHeight = function (element, leftPanelElement, height) {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            element.style.height = (this.parent.height === 'auto') ? 'auto' : formatUnit(height);\n        }\n        else {\n            if (!isNullOrUndefined(leftPanelElement)) {\n                leftPanelElement.style.height = (this.parent.height === 'auto') ? 'auto'\n                    : formatUnit(height - this.getScrollXIndent(element));\n            }\n            element.style.height = (this.parent.height === 'auto') ? 'auto' : formatUnit(height);\n        }\n    };\n    VerticalView.prototype.scrollToWorkHour = function () {\n        if (this.parent.workHours.highlight) {\n            var firstWorkHourCell = this.element.querySelector('.' + cls.WORK_HOURS_CLASS);\n            if (firstWorkHourCell) {\n                this.getScrollableElement().scrollTop = firstWorkHourCell.offsetTop;\n                this.parent.uiStateValues.top = firstWorkHourCell.offsetTop;\n                this.parent.uiStateValues.left = 0;\n            }\n        }\n    };\n    VerticalView.prototype.scrollToHour = function (hour, scrollDate) {\n        var date = this.parent.getStartEndTime(hour);\n        if (isNullOrUndefined(date) || !isNullOrUndefined(scrollDate)) {\n            return;\n        }\n        this.getScrollableElement().scrollTop = this.getTopFromDateTime(date);\n    };\n    VerticalView.prototype.generateColumnLevels = function () {\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        var columnLevels = [];\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            columnLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                var resStartHour = resourceLevel.resourceData[resourceLevel.resource.startHourField];\n                var resEndHour = resourceLevel.resourceData[resourceLevel.resource.endHourField];\n                var dateSlots = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays, resStartHour, resEndHour);\n                columnLevels = [dateSlots];\n            }\n        }\n        else {\n            columnLevels.push(level);\n        }\n        this.colLevels = columnLevels;\n        return columnLevels;\n    };\n    // eslint-disable-next-line max-len\n    VerticalView.prototype.getDateSlots = function (renderDates, workDays, workStartHour, workEndHour) {\n        if (workStartHour === void 0) { workStartHour = this.parent.workHours.start; }\n        if (workEndHour === void 0) { workEndHour = this.parent.workHours.end; }\n        var dateCol = [];\n        var start = this.parent.getStartEndTime(workStartHour);\n        var end = this.parent.getStartEndTime(workEndHour);\n        for (var _i = 0, renderDates_1 = renderDates; _i < renderDates_1.length; _i++) {\n            var col = renderDates_1[_i];\n            var classList = [cls.HEADER_CELLS_CLASS];\n            if (this.isCurrentDate(col)) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateCol.push({\n                date: col, type: 'dateHeader', className: classList, colSpan: 1,\n                workDays: workDays, startHour: new Date(+start), endHour: new Date(+end)\n            });\n        }\n        return dateCol;\n    };\n    VerticalView.prototype.isWorkHourRange = function (date) {\n        return (this.getStartHour().getTime() <= date.getTime()) && (this.getEndHour().getTime() >= date.getTime());\n    };\n    VerticalView.prototype.highlightCurrentTime = function () {\n        var _this = this;\n        if (this.parent.activeViewOptions.headerRows.length > 0 &&\n            this.parent.activeViewOptions.headerRows.slice(-1)[0].option !== 'Hour') {\n            return;\n        }\n        if (this.parent.showTimeIndicator && this.isWorkHourRange(this.parent.getCurrentTime())) {\n            var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n            if (currentDateIndex.length > 0) {\n                var workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n                if (workCells.length > 0) {\n                    this.changeCurrentTimePosition();\n                }\n                if (isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n                    var currentDate = this.parent.getCurrentTime();\n                    var interval = util.MS_PER_MINUTE - ((currentDate.getSeconds() * 1000) + currentDate.getMilliseconds());\n                    if (interval <= (util.MS_PER_MINUTE - 1000)) {\n                        window.setTimeout(function () {\n                            if (!isNullOrUndefined(_this.currentTimeIndicatorTimer)) {\n                                _this.clearCurrentTimeIndicatorTimer();\n                                _this.changeCurrentTimePosition();\n                                _this.updateCurrentTimeIndicatorTimer();\n                            }\n                        }, interval);\n                    }\n                    this.updateCurrentTimeIndicatorTimer();\n                }\n            }\n            else {\n                this.clearCurrentTimeIndicatorTimer();\n            }\n        }\n        else {\n            this.clearCurrentTimeIndicatorTimer();\n        }\n    };\n    VerticalView.prototype.getCurrentTimeIndicatorIndex = function () {\n        var currentDateIndex = [];\n        if (!isNullOrUndefined(this.parent.resourceBase) && (this.parent.activeViewOptions.group.resources.length > 0) &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            var count = 0;\n            for (var _i = 0, _a = this.parent.resourceBase.lastResourceLevel; _i < _a.length; _i++) {\n                var resource = _a[_i];\n                var index = this.parent.getIndexOfDate(resource.renderDates, util.resetTime(this.parent.getCurrentTime()));\n                if (index >= 0) {\n                    var resIndex = this.parent.activeViewOptions.group.byDate ?\n                        (this.parent.resourceBase.lastResourceLevel.length * index) + count : count + index;\n                    currentDateIndex.push(resIndex);\n                }\n                count += this.parent.activeViewOptions.group.byDate ? 1 : resource.renderDates.length;\n            }\n        }\n        else {\n            var renderDates = (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0)\n                ? this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates : this.renderDates;\n            var index = this.parent.getIndexOfDate(renderDates, util.resetTime(this.parent.getCurrentTime()));\n            if (index >= 0) {\n                currentDateIndex.push(index);\n            }\n        }\n        return currentDateIndex;\n    };\n    VerticalView.prototype.clearCurrentTimeIndicatorTimer = function () {\n        if (!isNullOrUndefined(this.currentTimeIndicatorTimer)) {\n            window.clearInterval(this.currentTimeIndicatorTimer);\n            this.currentTimeIndicatorTimer = null;\n            this.removeCurrentTimeIndicatorElements();\n        }\n    };\n    VerticalView.prototype.updateCurrentTimeIndicatorTimer = function () {\n        var _this = this;\n        this.currentTimeIndicatorTimer = window.setInterval(function () { _this.changeCurrentTimePosition(); }, util.MS_PER_MINUTE);\n    };\n    VerticalView.prototype.removeCurrentTimeIndicatorElements = function () {\n        var queryString = '.' + cls.PREVIOUS_TIMELINE_CLASS + ',.' + cls.CURRENT_TIMELINE_CLASS + ',.' + cls.CURRENT_TIME_CLASS;\n        var timeIndicator = [].slice.call(this.element.querySelectorAll(queryString));\n        for (var _i = 0, timeIndicator_1 = timeIndicator; _i < timeIndicator_1.length; _i++) {\n            var indicator = timeIndicator_1[_i];\n            remove(indicator);\n        }\n    };\n    VerticalView.prototype.changeCurrentTimePosition = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.removeCurrentTimeIndicatorElements();\n        var currentDateIndex = this.getCurrentTimeIndicatorIndex();\n        var firstRow = this.parent.getContentTable().rows[0];\n        var top = this.getTopFromDateTime(this.parent.getCurrentTime());\n        var topInPx = formatUnit(top);\n        var rowIndex = Math.floor(top / firstRow.cells[0].offsetHeight);\n        var timeCellsWrap = this.getLeftPanelElement();\n        var timeTrs = [].slice.call(timeCellsWrap.querySelectorAll('tr'));\n        if (isNullOrUndefined(rowIndex) || isNaN(rowIndex) || rowIndex === timeTrs.length) {\n            return;\n        }\n        var curTimeWrap = [].slice.call(this.element.querySelectorAll('.' + cls.TIMELINE_WRAPPER_CLASS));\n        for (var i = 0, length_1 = currentDateIndex[0]; i < length_1; i++) {\n            curTimeWrap[i].appendChild(createElement('div', { className: cls.PREVIOUS_TIMELINE_CLASS, styles: 'top:' + topInPx }));\n        }\n        for (var _i = 0, currentDateIndex_1 = currentDateIndex; _i < currentDateIndex_1.length; _i++) {\n            var day = currentDateIndex_1[_i];\n            curTimeWrap[day].appendChild(createElement('div', { className: cls.CURRENT_TIMELINE_CLASS, styles: 'top:' + topInPx }));\n        }\n        var currentTimeEle = createElement('div', {\n            innerHTML: this.parent.getTimeString(this.parent.getCurrentTime()),\n            className: cls.CURRENT_TIME_CLASS,\n            styles: 'top:' + topInPx\n        });\n        if (rowIndex <= timeTrs.length) {\n            removeClass(timeCellsWrap.querySelectorAll('.' + cls.HIDE_CHILDS_CLASS), cls.HIDE_CHILDS_CLASS);\n            if (timeTrs[rowIndex]) {\n                addClass([timeTrs[rowIndex].lastElementChild], cls.HIDE_CHILDS_CLASS);\n            }\n            prepend([currentTimeEle], timeCellsWrap);\n            currentTimeEle.style.top = formatUnit(currentTimeEle.offsetTop - (currentTimeEle.offsetHeight / 2));\n        }\n    };\n    VerticalView.prototype.getTopFromDateTime = function (date) {\n        var startHour = this.getStartHour();\n        var diffInMinutes = ((date.getHours() - startHour.getHours()) * 60) + (date.getMinutes() - startHour.getMinutes());\n        return (diffInMinutes * this.getWorkCellHeight() * this.parent.activeViewOptions.timeScale.slotCount) /\n            this.parent.activeViewOptions.timeScale.interval;\n    };\n    VerticalView.prototype.getWorkCellHeight = function () {\n        return parseFloat(this.element.querySelector('.' + cls.WORK_CELLS_CLASS).getBoundingClientRect().height.toFixed(2));\n    };\n    VerticalView.prototype.getTdContent = function (date, type, groupIndex) {\n        var cntEle;\n        var wrapper = createElement('div');\n        var templateName = '';\n        var templateId = this.parent.element.id + '_';\n        switch (type) {\n            case 'dateHeader':\n                if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                    templateName = 'dateHeaderTemplate';\n                    var args = { date: date, type: type };\n                    var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                    cntEle = [].slice.call(this.parent.getDateHeaderTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false));\n                }\n                else {\n                    wrapper.innerHTML = this.parent.activeView.isTimelineView() ?\n                        \"<span class=\\\"e-header-date e-navigate\\\">\" + this.getTimelineDate(date) + \"</span>\" :\n                        \"<div class=\\\"e-header-day\\\">\" + util.capitalizeFirstWord(this.getDayName(date), 'single') + \"</div>\" +\n                            (\"<div class=\\\"e-header-date e-navigate\\\" role=\\\"link\\\">\" + this.getDate(date) + \"</div>\");\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'majorSlot':\n                if (this.parent.activeViewOptions.timeScale.majorSlotTemplate) {\n                    templateName = 'majorSlotTemplate';\n                    var args = { date: date, type: type };\n                    cntEle = [].slice.call(this.parent.getMajorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false));\n                }\n                else {\n                    wrapper.innerHTML = \"<span>\" + this.getTime(date) + \"</span>\";\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'minorSlot':\n                if (this.parent.activeViewOptions.timeScale.minorSlotTemplate) {\n                    templateName = 'minorSlotTemplate';\n                    var args = { date: date, type: type };\n                    cntEle = [].slice.call(this.parent.getMinorSlotTemplate()(args, this.parent, templateName, templateId + templateName, false));\n                }\n                else {\n                    cntEle = [].slice.call(wrapper.childNodes);\n                }\n                break;\n            case 'alldayCells':\n                if (this.parent.activeViewOptions.cellTemplate) {\n                    var viewName = this.parent.activeViewOptions.cellTemplateName;\n                    templateName = 'cellTemplate';\n                    var args = { date: date, type: type, groupIndex: groupIndex };\n                    cntEle = [].slice.call(this.parent.getCellTemplate()(args, this.parent, templateName, templateId + viewName + templateName, false));\n                }\n                break;\n        }\n        return cntEle;\n    };\n    VerticalView.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n    };\n    VerticalView.prototype.renderLayout = function (type) {\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.baseCssClass, this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            addClass([this.element], [cls.TIMESCALE_DISABLE, this.viewClass]);\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        this.renderPanel(type);\n        addClass([this.element], clsList);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        if (this.parent.uiStateValues.isGroupAdaptive && !this.parent.element.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n    };\n    VerticalView.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            var indentTd = createElement('td', { className: cls.LEFT_INDENT_CLASS });\n            indentTd.appendChild(this.renderLeftIndent());\n            tr.appendChild(indentTd);\n        }\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    VerticalView.prototype.renderContent = function () {\n        var tr = createElement('tr');\n        var workTd = createElement('td');\n        if (this.parent.isAdaptive) {\n            workTd.setAttribute('colspan', (this.parent.activeViewOptions.timeScale.enable ? '2' : '1'));\n            var scrollContainer = createElement('div', { className: cls.SCROLL_CONTAINER_CLASS });\n            if (this.parent.activeViewOptions.timeScale.enable) {\n                scrollContainer.appendChild(this.renderTimeCells());\n            }\n            scrollContainer.appendChild(this.renderContentArea());\n            workTd.appendChild(scrollContainer);\n            EventHandler.add(scrollContainer, 'scroll', this.onAdaptiveScroll, this);\n            EventHandler.add(scrollContainer, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n            tr.appendChild(workTd);\n        }\n        else {\n            workTd.appendChild(this.renderContentArea());\n            if (this.parent.activeViewOptions.timeScale.enable) {\n                var timesTd = createElement('td');\n                timesTd.appendChild(this.renderTimeCells());\n                tr.appendChild(timesTd);\n            }\n            tr.appendChild(workTd);\n        }\n        this.element.querySelector('tbody').appendChild(tr);\n    };\n    VerticalView.prototype.renderLeftIndent = function () {\n        var wrap = createElement('div', { className: cls.LEFT_INDENT_WRAP_CLASS });\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr');\n        var rowCount = this.colLevels.length;\n        var nth;\n        for (var i = 0; i < rowCount; i++) {\n            var ntr_1 = trEle.cloneNode();\n            var data_1 = { className: [(this.colLevels[i][0] && this.colLevels[i][0].className[0])], type: 'emptyCells' };\n            if (this.parent.activeViewOptions.showWeekNumber && data_1.className.indexOf(cls.HEADER_CELLS_CLASS) !== -1) {\n                data_1.className.push(cls.WEEK_NUMBER_CLASS);\n                var weekNo = this.parent.getWeekNumberContent(this.renderDates);\n                data_1.template = [createElement('span', {\n                        innerHTML: '' + weekNo,\n                        attrs: { title: this.parent.localeObj.getConstant('week') + ' ' + weekNo }\n                    })];\n            }\n            nth = this.createTd(data_1);\n            this.parent.renderHeaderIndentTemplate(data_1, nth);\n            ntr_1.appendChild(nth);\n            tbl.querySelector('tbody').appendChild(ntr_1);\n        }\n        var ntr = trEle.cloneNode();\n        var appointmentExpandCollapse = createElement('div', {\n            attrs: {\n                'tabindex': '0', 'role': 'list',\n                title: this.parent.localeObj.getConstant('expandAllDaySection'), 'aria-disabled': 'false', 'aria-label': 'Expand section'\n            },\n            className: cls.ALLDAY_APPOINTMENT_SECTION_CLASS + ' ' + cls.APPOINTMENT_ROW_EXPAND_CLASS + ' ' +\n                cls.ICON + ' ' + cls.DISABLE_CLASS\n        });\n        var data = { className: [cls.ALLDAY_CELLS_CLASS], type: 'emptyCells' };\n        nth = this.createTd(data);\n        nth.appendChild(appointmentExpandCollapse);\n        this.parent.renderHeaderIndentTemplate(data, nth);\n        ntr.appendChild(nth);\n        tbl.querySelector('tbody').appendChild(ntr);\n        wrap.appendChild(tbl);\n        return wrap;\n    };\n    VerticalView.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr');\n        var rowCount = this.colLevels.length;\n        var lastLevel = this.colLevels[rowCount - 1];\n        for (var i = 0; i < rowCount; i++) {\n            var ntr = trEle.cloneNode();\n            addClass([ntr], cls.HEADER_ROW_CLASS);\n            var level = this.colLevels[i];\n            for (var j = 0; j < level.length; j++) {\n                ntr.appendChild(this.createTd(level[j]));\n            }\n            tbl.querySelector('tbody').appendChild(ntr);\n        }\n        this.createAllDayRow(tbl, lastLevel);\n        this.createColGroup(tbl, lastLevel);\n        wrap.appendChild(tbl);\n        return container;\n    };\n    VerticalView.prototype.createAllDayRow = function (table, tdData) {\n        var ntr = createElement('tr');\n        addClass([ntr], cls.ALLDAY_ROW_CLASS);\n        for (var j = 0; j < tdData.length; j++) {\n            var td = extend({}, tdData[j]);\n            td.className = [cls.ALLDAY_CELLS_CLASS];\n            td.type = 'alldayCells';\n            var ntd = this.createTd(td);\n            ntd.setAttribute('data-date', td.date.getTime().toString());\n            if (!isNullOrUndefined(td.groupIndex)) {\n                ntd.setAttribute('data-group-index', '' + td.groupIndex);\n            }\n            else if (this.parent.uiStateValues.isGroupAdaptive) {\n                ntd.setAttribute('data-group-index', '' + this.parent.uiStateValues.groupIndex);\n            }\n            this.wireCellEvents(ntd);\n            ntr.appendChild(ntd);\n        }\n        table.querySelector('tbody').appendChild(ntr);\n        var thead = createElement('thead');\n        thead.appendChild(this.createEventWrapper('allDay'));\n        prepend([thead], table);\n    };\n    VerticalView.prototype.createTd = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.date && td.type) {\n            var ele = this.getTdContent(td.date, td.type, td.groupIndex);\n            if (ele && ele.length) {\n                append(ele, tdEle);\n            }\n        }\n        if (!this.parent.isMinMaxDate(util.resetTime(new Date('' + td.date)))) {\n            addClass([tdEle], cls.DISABLE_DATES);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader' && td.className.indexOf(cls.HEADER_CELLS_CLASS) >= 0) {\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (!isNullOrUndefined(td.groupIndex)) {\n                tdEle.setAttribute('data-group-index', '' + td.groupIndex);\n            }\n            this.wireMouseEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    VerticalView.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        this.wireMouseEvents(element);\n    };\n    VerticalView.prototype.wireMouseEvents = function (element) {\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    VerticalView.prototype.renderTimeCells = function () {\n        var _this = this;\n        var wrap = createElement('div', { className: cls.TIME_CELLS_WRAP_CLASS });\n        var tbl = this.createTableLayout();\n        var trEle = createElement('tr');\n        var handler = function (r) {\n            r.type = r.first ? 'majorSlot' : 'minorSlot';\n            r.className = r.last ? [cls.TIME_CELLS_CLASS, cls.TIME_SLOT_CLASS] : [cls.TIME_SLOT_CLASS];\n            var ntr = trEle.cloneNode();\n            var data = { date: r.date, type: r.type, className: r.className };\n            ntr.appendChild(_this.createTd(data));\n            tbl.querySelector('tbody').appendChild(ntr);\n            return r;\n        };\n        this.getTimeSlotRows(handler);\n        wrap.appendChild(tbl);\n        return wrap;\n    };\n    VerticalView.prototype.renderContentArea = function () {\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.addAutoHeightClass(tbl);\n        this.renderContentTable(tbl);\n        this.createColGroup(tbl, this.colLevels.slice(-1)[0]);\n        wrap.appendChild(tbl);\n        this.wireCellEvents(tbl.querySelector('tbody'));\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        EventHandler.add(wrap, Browser.touchMoveEvent, this.onAdaptiveMove, this);\n        return wrap;\n    };\n    VerticalView.prototype.renderContentTable = function (table) {\n        var _this = this;\n        var tr = createElement('tr', { attrs: { role: 'row' } });\n        var td = createElement('td', { attrs: { role: 'gridcell', 'aria-selected': 'false' } });\n        var tbody = table.querySelector('tbody');\n        var handler = function (r) {\n            var ntr = tr.cloneNode();\n            for (var _i = 0, _a = _this.colLevels[_this.colLevels.length - 1]; _i < _a.length; _i++) {\n                var tdData = _a[_i];\n                var ntd = _this.createContentTd(tdData, r, td);\n                ntr.appendChild(ntd);\n            }\n            tbody.appendChild(ntr);\n            return r;\n        };\n        this.getTimeSlotRows(handler);\n        this.renderContentTableHeader(table);\n    };\n    VerticalView.prototype.createContentTd = function (tdData, r, td) {\n        var ntd = td.cloneNode();\n        if (tdData.colSpan) {\n            ntd.setAttribute('colspan', tdData.colSpan.toString());\n        }\n        var clsName = this.getContentTdClass(r);\n        var cellDate = util.resetTime(tdData.date);\n        if (!this.parent.isMinMaxDate(cellDate)) {\n            clsName.push(cls.DISABLE_DATES);\n        }\n        util.setTime(cellDate, util.getDateInMs(r.date));\n        var type = 'workCells';\n        if (tdData.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            clsName.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && ((this.parent.activeViewOptions.timeScale.enable &&\n            this.isWorkHour(cellDate, tdData.startHour, tdData.endHour, tdData.workDays)) ||\n            (!this.parent.activeViewOptions.timeScale.enable && this.isWorkDay(cellDate, tdData.workDays)))) {\n            clsName.push(cls.WORK_HOURS_CLASS);\n        }\n        addClass([ntd], clsName);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: cellDate, type: type, groupIndex: tdData.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var tooltipTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n            append(tooltipTemplate, ntd);\n        }\n        ntd.setAttribute('data-date', cellDate.getTime().toString());\n        if (!isNullOrUndefined(tdData.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                tdData.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        var args = { elementType: type, element: ntd, date: cellDate, groupIndex: tdData.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    VerticalView.prototype.getContentTdClass = function (r) {\n        return r.last ? [cls.WORK_CELLS_CLASS] : [cls.WORK_CELLS_CLASS, cls.ALTERNATE_CELLS_CLASS];\n    };\n    VerticalView.prototype.renderContentTableHeader = function (table) {\n        var thead = createElement('thead');\n        thead.appendChild(this.createEventWrapper());\n        if (this.parent.activeViewOptions.timeScale.enable) {\n            thead.appendChild(this.createEventWrapper('timeIndicator'));\n        }\n        prepend([thead], table);\n    };\n    VerticalView.prototype.createEventWrapper = function (type) {\n        if (type === void 0) { type = ''; }\n        var tr = createElement('tr');\n        var levels = this.colLevels.slice(-1)[0];\n        for (var i = 0, len = levels.length; i < len; i++) {\n            var col = levels[i];\n            var appointmentWrap = createElement('td', {\n                className: (type === 'allDay') ? cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS : (type === 'timeIndicator') ?\n                    cls.TIMELINE_WRAPPER_CLASS : cls.DAY_WRAPPER_CLASS, attrs: { 'data-date': col.date.getTime().toString() }\n            });\n            if (!isNullOrUndefined(col.groupIndex)) {\n                appointmentWrap.setAttribute('data-group-index', col.groupIndex.toString());\n            }\n            if (type === '') {\n                var innerWrapper = createElement('div', {\n                    id: cls.APPOINTMENT_WRAPPER_CLASS + '-' + i.toString(),\n                    className: cls.APPOINTMENT_WRAPPER_CLASS\n                });\n                appointmentWrap.appendChild(innerWrapper);\n            }\n            tr.appendChild(appointmentWrap);\n        }\n        return tr;\n    };\n    VerticalView.prototype.getScrollableElement = function () {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n        }\n        else {\n            return this.getContentAreaElement();\n        }\n    };\n    VerticalView.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.TIME_CELLS_WRAP_CLASS);\n    };\n    VerticalView.prototype.getEndDateFromStartDate = function (start) {\n        var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n        var end = new Date(start.getTime());\n        end.setMilliseconds(end.getMilliseconds() + msInterval);\n        return end;\n    };\n    VerticalView.prototype.getTimeSlotRows = function (handler) {\n        var rows = [];\n        var startHour = this.getStartHour();\n        var endHour = this.getEndHour();\n        var msMajorInterval = this.parent.activeViewOptions.timeScale.interval * util.MS_PER_MINUTE;\n        var msInterval = msMajorInterval / this.parent.activeViewOptions.timeScale.slotCount;\n        var length = Math.round(util.MS_PER_DAY / msInterval);\n        var msStartHour = startHour.getTime();\n        var msEndHour = endHour.getTime();\n        if (msStartHour !== msEndHour) {\n            length = (Math.abs(msEndHour - msStartHour) / msInterval) - ((new Date(msEndHour).getTimezoneOffset()\n                - new Date(msStartHour).getTimezoneOffset()) / (60 / this.parent.activeViewOptions.timeScale.slotCount));\n        }\n        if (!this.parent.activeViewOptions.timeScale.enable) {\n            length = 1;\n        }\n        var start = this.parent.getStartEndTime(this.parent.workHours.start);\n        var end = this.parent.getStartEndTime(this.parent.workHours.end);\n        for (var i = 0; i < length; i++) {\n            var dt = new Date(msStartHour + (msInterval * i));\n            if (util.isDaylightSavingTime(dt) || new Date(msStartHour).getTimezoneOffset() !== dt.getTimezoneOffset()) {\n                var timeOffset = new Date(msStartHour).getTimezoneOffset() - dt.getTimezoneOffset();\n                dt = new Date(dt.getTime() - (1000 * 60 * timeOffset));\n            }\n            var majorTickDivider = i % (msMajorInterval / msInterval);\n            var row = {\n                date: new Date('' + dt),\n                startHour: start,\n                endHour: end,\n                first: (majorTickDivider === 0),\n                middle: (majorTickDivider < this.parent.activeViewOptions.timeScale.slotCount - 1),\n                last: (majorTickDivider === this.parent.activeViewOptions.timeScale.slotCount - 1),\n                type: ''\n            };\n            if (handler) {\n                handler(row);\n            }\n            rows.push(row);\n        }\n        return rows;\n    };\n    VerticalView.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.clearCurrentTimeIndicatorTimer();\n        if (this.element) {\n            if (this.appointment) {\n                this.appointment.destroy();\n                this.appointment = null;\n            }\n            var contentScrollableEle = this.getContentAreaElement();\n            if (contentScrollableEle) {\n                EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n                EventHandler.remove(contentScrollableEle, Browser.touchMoveEvent, this.onAdaptiveMove);\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return VerticalView;\n}(ViewBase));\nexport { VerticalView };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}