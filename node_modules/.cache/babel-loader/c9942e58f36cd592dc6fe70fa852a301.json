{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = {\n  left: 0,\n  top: 0,\n  bottom: 0,\n  right: 0\n};\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = {\n  isDragged: false\n};\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */function (_super) {\n  __extends(Position, _super);\n  function Position() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(0)], Position.prototype, \"left\", void 0);\n  __decorate([Property(0)], Position.prototype, \"top\", void 0);\n  return Position;\n}(ChildProperty);\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */function (_super) {\n  __extends(Draggable, _super);\n  function Draggable(element, options) {\n    var _this = _super.call(this, options, element) || this;\n    _this.dragLimit = Draggable_1.getDefaultPosition();\n    _this.borderWidth = Draggable_1.getDefaultPosition();\n    _this.padding = Draggable_1.getDefaultPosition();\n    _this.diffX = 0;\n    _this.prevLeft = 0;\n    _this.prevTop = 0;\n    _this.dragProcessStarted = false;\n    /* tslint:disable no-any */\n    _this.tapHoldTimer = 0;\n    _this.externalInitialize = false;\n    _this.diffY = 0;\n    _this.parentScrollX = 0;\n    _this.parentScrollY = 0;\n    _this.droppables = {};\n    _this.bind();\n    return _this;\n  }\n  Draggable_1 = Draggable;\n  Draggable.prototype.bind = function () {\n    this.toggleEvents();\n    if (Browser.isIE) {\n      addClass([this.element], 'e-block-touch');\n    }\n    this.droppables[this.scope] = {};\n  };\n  Draggable.getDefaultPosition = function () {\n    return extend({}, defaultPosition);\n  };\n  Draggable.prototype.toggleEvents = function (isUnWire) {\n    var ele;\n    if (!isUndefined(this.handle)) {\n      ele = select(this.handle, this.element);\n    }\n    var handler = this.enableTapHold && Browser.isDevice && Browser.isTouch ? this.mobileInitialize : this.initialize;\n    if (isUnWire) {\n      EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n    } else {\n      EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n    }\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.mobileInitialize = function (evt) {\n    var _this = this;\n    var target = evt.currentTarget;\n    this.tapHoldTimer = setTimeout(function () {\n      _this.externalInitialize = true;\n      _this.removeTapholdTimer();\n      _this.initialize(evt, target);\n    }, this.tapHoldThreshold);\n    EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n    EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.removeTapholdTimer = function () {\n    clearTimeout(this.tapHoldTimer);\n    EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n    EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.getScrollableParent = function (element, axis) {\n    var scroll = {\n      'vertical': 'scrollHeight',\n      'horizontal': 'scrollWidth'\n    };\n    var client = {\n      'vertical': 'clientHeight',\n      'horizontal': 'clientWidth'\n    };\n    if (isNullOrUndefined(element)) {\n      return null;\n    }\n    if (element[scroll[axis]] > element[client[axis]]) {\n      if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n        if (axis === 'vertical') {\n          this.parentScrollY = this.parentScrollY + (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n          this.tempScrollHeight = element.scrollHeight;\n        } else {\n          this.parentScrollX = this.parentScrollX + (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n          this.tempScrollWidth = element.scrollWidth;\n        }\n        if (!isNullOrUndefined(element)) {\n          return this.getScrollableParent(element.parentNode, axis);\n        } else {\n          return element;\n        }\n      } else {\n        return this.getScrollableParent(element.parentNode, axis);\n      }\n    } else {\n      return this.getScrollableParent(element.parentNode, axis);\n    }\n  };\n  Draggable.prototype.getScrollableValues = function () {\n    this.parentScrollX = 0;\n    this.parentScrollY = 0;\n    var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n    var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n    var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n  };\n  Draggable.prototype.initialize = function (evt, curTarget) {\n    this.currentStateTarget = evt.target;\n    if (this.isDragStarted()) {\n      return;\n    } else {\n      this.isDragStarted(true);\n      this.externalInitialize = false;\n    }\n    this.target = evt.currentTarget || curTarget;\n    this.dragProcessStarted = false;\n    if (this.abort) {\n      /* tslint:disable no-any */\n      var abortSelectors = this.abort;\n      if (typeof abortSelectors === 'string') {\n        abortSelectors = [abortSelectors];\n      }\n      for (var i = 0; i < abortSelectors.length; i++) {\n        if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n          /* istanbul ignore next */\n          if (this.isDragStarted()) {\n            this.isDragStarted(true);\n          }\n          return;\n        }\n      }\n    }\n    if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n      evt.preventDefault();\n    }\n    this.element.setAttribute('aria-grabbed', 'true');\n    var intCoord = this.getCoordinates(evt);\n    this.initialPosition = {\n      x: intCoord.pageX,\n      y: intCoord.pageY\n    };\n    if (!this.clone) {\n      var pos = this.element.getBoundingClientRect();\n      this.getScrollableValues();\n      if (evt.clientX === evt.pageX) {\n        this.parentScrollX = 0;\n      }\n      if (evt.clientY === evt.pageY) {\n        this.parentScrollY = 0;\n      }\n      this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n      this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n    }\n    if (this.externalInitialize) {\n      this.intDragStart(evt);\n    } else {\n      EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n      EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n    }\n    this.toggleEvents(true);\n    if (evt.type !== 'touchstart' && this.isPreventSelect) {\n      document.body.classList.add('e-prevent-select');\n    }\n    this.externalInitialize = false;\n    EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n  };\n  Draggable.prototype.intDragStart = function (evt) {\n    this.removeTapholdTimer();\n    var isChangeTouch = !isUndefined(evt.changedTouches);\n    if (isChangeTouch && evt.changedTouches.length !== 1) {\n      return;\n    }\n    if (isChangeTouch) {\n      evt.preventDefault();\n    }\n    var intCordinate = this.getCoordinates(evt);\n    var pos;\n    var styleProp = getComputedStyle(this.element);\n    this.margin = {\n      left: parseInt(styleProp.marginLeft, 10),\n      top: parseInt(styleProp.marginTop, 10),\n      right: parseInt(styleProp.marginRight, 10),\n      bottom: parseInt(styleProp.marginBottom, 10)\n    };\n    var element = this.element;\n    if (this.clone && this.dragTarget) {\n      var intClosest = closest(evt.target, this.dragTarget);\n      if (!isNullOrUndefined(intClosest)) {\n        element = intClosest;\n      }\n    }\n    /* istanbul ignore next */\n    if (this.isReplaceDragEle) {\n      element = this.currentStateCheck(evt.target, element);\n    }\n    this.offset = this.calculateParentPosition(element);\n    this.position = this.getMousePosition(evt, this.isDragScroll);\n    var x = this.initialPosition.x - intCordinate.pageX;\n    var y = this.initialPosition.y - intCordinate.pageY;\n    var distance = Math.sqrt(x * x + y * y);\n    if (distance >= this.distance || this.externalInitialize) {\n      var ele = this.getHelperElement(evt);\n      if (!ele || isNullOrUndefined(ele)) {\n        return;\n      }\n      var dragTargetElement = this.helperElement = ele;\n      this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n      if (this.dragStart) {\n        var curTarget = this.getProperTargetElement(evt);\n        var args = {\n          event: evt,\n          element: element,\n          target: curTarget,\n          bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n          dragElement: dragTargetElement\n        };\n        this.trigger('dragStart', args);\n      }\n      if (this.dragArea) {\n        this.setDragArea();\n      } else {\n        this.dragLimit = {\n          left: 0,\n          right: 0,\n          bottom: 0,\n          top: 0\n        };\n        this.borderWidth = {\n          top: 0,\n          left: 0\n        };\n      }\n      pos = {\n        left: this.position.left - this.parentClientRect.left,\n        top: this.position.top - this.parentClientRect.top\n      };\n      if (this.clone && !this.enableTailMode) {\n        this.diffX = this.position.left - this.offset.left;\n        this.diffY = this.position.top - this.offset.top;\n      }\n      this.getScrollableValues();\n      // when drag element has margin-top\n      var styles = getComputedStyle(element);\n      var marginTop = parseFloat(styles.marginTop);\n      /* istanbul ignore next */\n      if (this.clone && marginTop !== 0) {\n        pos.top += marginTop;\n      }\n      var posValue = this.getProcessedPositionValue({\n        top: pos.top - this.diffY + 'px',\n        left: pos.left - this.diffX + 'px'\n      });\n      this.dragElePosition = {\n        top: pos.top,\n        left: pos.left\n      };\n      setStyleAttribute(dragTargetElement, this.getDragPosition({\n        position: 'absolute',\n        left: posValue.left,\n        top: posValue.top\n      }));\n      EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n      EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n      if (!isBlazor()) {\n        this.bindDragEvents(dragTargetElement);\n      }\n    }\n  };\n  Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n    if (isVisible(dragTargetElement)) {\n      EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n      EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n      this.setGlobalDroppables(false, this.element, dragTargetElement);\n    } else {\n      this.toggleEvents();\n      document.body.classList.remove('e-prevent-select');\n    }\n  };\n  Draggable.prototype.elementInViewport = function (el) {\n    this.top = el.offsetTop;\n    this.left = el.offsetLeft;\n    this.width = el.offsetWidth;\n    this.height = el.offsetHeight;\n    while (el.offsetParent) {\n      el = el.offsetParent;\n      this.top += el.offsetTop;\n      this.left += el.offsetLeft;\n    }\n    return this.top >= window.pageYOffset && this.left >= window.pageXOffset && this.top + this.height <= window.pageYOffset + window.innerHeight && this.left + this.width <= window.pageXOffset + window.innerWidth;\n  };\n  Draggable.prototype.getProcessedPositionValue = function (value) {\n    if (this.queryPositionInfo) {\n      return this.queryPositionInfo(value);\n    }\n    return value;\n  };\n  Draggable.prototype.calculateParentPosition = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n    var rect = ele.getBoundingClientRect();\n    var style = getComputedStyle(ele);\n    return {\n      left: rect.left + window.pageXOffset - parseInt(style.marginLeft, 10),\n      top: rect.top + window.pageYOffset - parseInt(style.marginTop, 10)\n    };\n  };\n  // tslint:disable-next-line:max-func-body-length\n  Draggable.prototype.intDrag = function (evt) {\n    if (!isUndefined(evt.changedTouches) && evt.changedTouches.length !== 1) {\n      return;\n    }\n    var left;\n    var top;\n    this.position = this.getMousePosition(evt, this.isDragScroll);\n    var docHeight = this.getDocumentWidthHeight('Height');\n    if (docHeight < this.position.top) {\n      this.position.top = docHeight;\n    }\n    var docWidth = this.getDocumentWidthHeight('Width');\n    if (docWidth < this.position.left) {\n      this.position.left = docWidth;\n    }\n    if (this.drag) {\n      var curTarget = this.getProperTargetElement(evt);\n      this.trigger('drag', {\n        event: evt,\n        element: this.element,\n        target: curTarget\n      });\n    }\n    var eleObj = this.checkTargetElement(evt);\n    if (eleObj.target && eleObj.instance) {\n      /* tslint:disable no-any */\n      var flag = true;\n      if (this.hoverObject) {\n        if (this.hoverObject.instance !== eleObj.instance) {\n          this.triggerOutFunction(evt, eleObj);\n        } else {\n          flag = false;\n        }\n      }\n      if (flag) {\n        eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n        eleObj.instance.intOver(evt, eleObj.target);\n        this.hoverObject = eleObj;\n      }\n    } else if (this.hoverObject) {\n      this.triggerOutFunction(evt, eleObj);\n    }\n    var helperElement = this.droppables[this.scope].helper;\n    this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n    var tLeft = this.parentClientRect.left;\n    var tTop = this.parentClientRect.top;\n    var intCoord = this.getCoordinates(evt);\n    var pagex = intCoord.pageX;\n    var pagey = intCoord.pageY;\n    var dLeft = this.position.left - this.diffX;\n    var dTop = this.position.top - this.diffY;\n    var styles = getComputedStyle(helperElement);\n    var marginTop = parseFloat(styles.marginTop);\n    if (this.dragArea) {\n      if (this.pageX !== pagex || this.skipDistanceCheck) {\n        var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft) + parseFloat(styles.marginRight));\n        if (this.dragLimit.left > dLeft && dLeft > 0) {\n          left = this.dragLimit.left;\n        } else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n          left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n        } else {\n          left = dLeft < 0 ? this.dragLimit.left : dLeft;\n        }\n      }\n      if (this.pageY !== pagey || this.skipDistanceCheck) {\n        var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop) + parseFloat(styles.marginBottom));\n        if (this.dragLimit.top > dTop && dTop > 0) {\n          top = this.dragLimit.top;\n        } else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n          top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n        } else {\n          top = dTop < 0 ? this.dragLimit.top : dTop;\n        }\n      }\n    } else {\n      left = dLeft;\n      top = dTop;\n    }\n    var iTop = tTop + this.borderWidth.top;\n    var iLeft = tLeft + this.borderWidth.left;\n    if (this.dragProcessStarted) {\n      if (isNullOrUndefined(top)) {\n        top = this.prevTop;\n      }\n      if (isNullOrUndefined(left)) {\n        left = this.prevLeft;\n      }\n    }\n    var draEleTop;\n    var draEleLeft;\n    if (this.dragArea) {\n      this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n      draEleTop = top - iTop < 0 ? this.dragLimit.top : top - iTop;\n      draEleLeft = left - iLeft < 0 ? this.dragElePosition.left : left - iLeft;\n      // when drag-element has margin-top\n      /* istanbul ignore next */\n      if (marginTop > 0) {\n        if (this.clone) {\n          draEleTop += this.element.offsetTop;\n          if (dTop < 0) {\n            if (this.element.offsetTop + dTop >= 0) {\n              draEleTop = this.element.offsetTop + dTop;\n            } else {\n              draEleTop -= this.element.offsetTop;\n            }\n          }\n          draEleTop = this.dragLimit.bottom < draEleTop ? this.dragLimit.bottom : draEleTop;\n        }\n        if (top - iTop < 0) {\n          if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n            var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n            if (tempDraEleTop + marginTop + iTop < 0) {\n              draEleTop -= marginTop + iTop;\n            } else {\n              draEleTop = tempDraEleTop;\n            }\n          } else {\n            draEleTop -= marginTop + iTop;\n          }\n        }\n      }\n    } else {\n      draEleTop = top - iTop;\n      draEleLeft = left - iLeft;\n    }\n    var dragValue = this.getProcessedPositionValue({\n      top: draEleTop + 'px',\n      left: draEleLeft + 'px'\n    });\n    setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n    if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n      this.helperElement.scrollIntoView();\n    }\n    this.dragProcessStarted = true;\n    this.prevLeft = left;\n    this.prevTop = top;\n    this.position.left = left;\n    this.position.top = top;\n    this.pageX = pagex;\n    this.pageY = pagey;\n  };\n  Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n    this.hoverObject.instance.intOut(evt, eleObj.target);\n    this.hoverObject.instance.dragData[this.scope] = null;\n    this.hoverObject = null;\n  };\n  Draggable.prototype.getDragPosition = function (dragValue) {\n    var temp = extend({}, dragValue);\n    if (this.axis) {\n      if (this.axis === 'x') {\n        delete temp.top;\n      } else if (this.axis === 'y') {\n        delete temp.left;\n      }\n    }\n    return temp;\n  };\n  Draggable.prototype.getDocumentWidthHeight = function (str) {\n    var docBody = document.body;\n    var docEle = document.documentElement;\n    var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n    return returnValue;\n  };\n  Draggable.prototype.intDragStop = function (evt) {\n    this.dragProcessStarted = false;\n    if (!isUndefined(evt.changedTouches) && evt.changedTouches.length !== 1) {\n      return;\n    }\n    var type = ['touchend', 'pointerup', 'mouseup'];\n    if (type.indexOf(evt.type) !== -1) {\n      if (this.dragStop) {\n        var curTarget = this.getProperTargetElement(evt);\n        this.trigger('dragStop', {\n          event: evt,\n          element: this.element,\n          target: curTarget,\n          helper: this.helperElement\n        });\n      }\n      this.intDestroy(evt);\n    } else {\n      this.element.setAttribute('aria-grabbed', 'false');\n    }\n    var eleObj = this.checkTargetElement(evt);\n    if (eleObj.target && eleObj.instance) {\n      eleObj.instance.dragStopCalled = true;\n      eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n      eleObj.instance.intDrop(evt, eleObj.target);\n    }\n    this.setGlobalDroppables(true);\n    document.body.classList.remove('e-prevent-select');\n  };\n  /**\n   * @private\n   */\n  Draggable.prototype.intDestroy = function (evt) {\n    this.dragProcessStarted = false;\n    this.toggleEvents();\n    document.body.classList.remove('e-prevent-select');\n    this.element.setAttribute('aria-grabbed', 'false');\n    EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n    EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n    EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n    EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    if (this.isDragStarted()) {\n      this.isDragStarted(true);\n    }\n  };\n  // triggers when property changed\n  Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n    //No Code to handle\n  };\n  Draggable.prototype.getModuleName = function () {\n    return 'draggable';\n  };\n  Draggable.prototype.isDragStarted = function (change) {\n    if (change) {\n      isDraggedObject.isDragged = !isDraggedObject.isDragged;\n    }\n    return isDraggedObject.isDragged;\n  };\n  Draggable.prototype.setDragArea = function () {\n    var eleWidthBound;\n    var eleHeightBound;\n    var top = 0;\n    var left = 0;\n    var ele;\n    var type = typeof this.dragArea;\n    if (type === 'string') {\n      ele = select(this.dragArea);\n    } else {\n      ele = this.dragArea;\n    }\n    if (ele) {\n      var elementArea = ele.getBoundingClientRect();\n      eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n      eleHeightBound = ele.scrollHeight ? ele.scrollHeight : elementArea.bottom - elementArea.top;\n      var keys = ['Top', 'Left', 'Bottom', 'Right'];\n      var styles = getComputedStyle(ele);\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var tborder = styles['border' + key + 'Width'];\n        var tpadding = styles['padding' + key];\n        var lowerKey = key.toLowerCase();\n        this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n        this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n      }\n      top = elementArea.top;\n      left = elementArea.left;\n      this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n      this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n      this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n      this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n    }\n  };\n  Draggable.prototype.getProperTargetElement = function (evt) {\n    var intCoord = this.getCoordinates(evt);\n    var ele;\n    var prevStyle = this.helperElement.style.pointerEvents || '';\n    if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n      this.helperElement.style.pointerEvents = 'none';\n      ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n      this.helperElement.style.pointerEvents = prevStyle;\n    } else {\n      ele = evt.target;\n    }\n    return ele;\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n    var elem;\n    if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n      elem = this.currentStateTarget;\n    } else {\n      elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n    }\n    return elem;\n  };\n  Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n    /* tslint:disable no-any */\n    var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n    var intCoord = this.getCoordinates(evt);\n    var pageX;\n    var pageY;\n    var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n    /* istanbul ignore next */\n    if (isdragscroll) {\n      pageX = this.clone ? intCoord.pageX : intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft) - this.relativeXPosition;\n      pageY = this.clone ? intCoord.pageY : intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop) - this.relativeYPosition;\n    } else {\n      pageX = this.clone ? intCoord.pageX : intCoord.pageX + window.pageXOffset - this.relativeXPosition;\n      pageY = this.clone ? intCoord.pageY : intCoord.pageY + window.pageYOffset - this.relativeYPosition;\n    }\n    if (!this.clone) {\n      this.getScrollableValues();\n      pageY -= this.tempScrollHeight ? this.parentScrollY : 0;\n      pageX -= this.tempScrollWidth ? this.parentScrollY : 0;\n    }\n    return {\n      left: pageX - (this.margin.left + this.cursorAt.left),\n      top: pageY - (this.margin.top + this.cursorAt.top)\n    };\n  };\n  Draggable.prototype.getCoordinates = function (evt) {\n    if (evt.type.indexOf('touch') > -1) {\n      return evt.changedTouches[0];\n    }\n    return evt;\n  };\n  Draggable.prototype.getHelperElement = function (evt) {\n    var element;\n    if (this.clone) {\n      if (this.helper) {\n        element = this.helper({\n          sender: evt,\n          element: this.target\n        });\n      } else {\n        element = createElement('div', {\n          className: 'e-drag-helper e-block-touch',\n          innerHTML: 'Draggable'\n        });\n        document.body.appendChild(element);\n      }\n    } else {\n      element = this.element;\n    }\n    return element;\n  };\n  Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n    this.droppables[this.scope] = reset ? null : {\n      draggable: drag,\n      helper: helper,\n      draggedElement: this.element\n    };\n  };\n  Draggable.prototype.checkTargetElement = function (evt) {\n    var target = this.getProperTargetElement(evt);\n    var dropIns = this.getDropInstance(target);\n    if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n      var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n      if (parent_1) {\n        dropIns = this.getDropInstance(parent_1);\n      }\n    }\n    return {\n      target: target,\n      instance: dropIns\n    };\n  };\n  Draggable.prototype.getDropInstance = function (ele) {\n    var name = 'getModuleName';\n    var drop;\n    var eleInst = ele && ele.ej2_instances;\n    if (eleInst) {\n      for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n        var inst = eleInst_1[_i];\n        if (inst[name]() === 'droppable') {\n          drop = inst;\n          break;\n        }\n      }\n    }\n    return drop;\n  };\n  Draggable.prototype.destroy = function () {\n    this.toggleEvents(true);\n    _super.prototype.destroy.call(this);\n  };\n  var Draggable_1;\n  __decorate([Complex({}, Position)], Draggable.prototype, \"cursorAt\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"clone\", void 0);\n  __decorate([Property()], Draggable.prototype, \"dragArea\", void 0);\n  __decorate([Property()], Draggable.prototype, \"isDragScroll\", void 0);\n  __decorate([Property()], Draggable.prototype, \"isReplaceDragEle\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"isPreventSelect\", void 0);\n  __decorate([Event()], Draggable.prototype, \"drag\", void 0);\n  __decorate([Event()], Draggable.prototype, \"dragStart\", void 0);\n  __decorate([Event()], Draggable.prototype, \"dragStop\", void 0);\n  __decorate([Property(1)], Draggable.prototype, \"distance\", void 0);\n  __decorate([Property()], Draggable.prototype, \"handle\", void 0);\n  __decorate([Property()], Draggable.prototype, \"abort\", void 0);\n  __decorate([Property()], Draggable.prototype, \"helper\", void 0);\n  __decorate([Property('default')], Draggable.prototype, \"scope\", void 0);\n  __decorate([Property('')], Draggable.prototype, \"dragTarget\", void 0);\n  __decorate([Property()], Draggable.prototype, \"axis\", void 0);\n  __decorate([Property()], Draggable.prototype, \"queryPositionInfo\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableTailMode\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"skipDistanceCheck\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"preventDefault\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableAutoScroll\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableTapHold\", void 0);\n  __decorate([Property(750)], Draggable.prototype, \"tapHoldThreshold\", void 0);\n  Draggable = Draggable_1 = __decorate([NotifyPropertyChanges], Draggable);\n  return Draggable;\n}(Base);\nexport { Draggable };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Base","Browser","isVisible","Property","Complex","NotifyPropertyChanges","Event","EventHandler","ChildProperty","select","closest","setStyleAttribute","addClass","createElement","extend","isUndefined","isNullOrUndefined","compareElementParent","isBlazor","defaultPosition","left","top","bottom","right","positionProp","axisMapper","axisValueMapper","isDraggedObject","isDragged","Position","_super","apply","Draggable","element","options","_this","call","dragLimit","Draggable_1","getDefaultPosition","borderWidth","padding","diffX","prevLeft","prevTop","dragProcessStarted","tapHoldTimer","externalInitialize","diffY","parentScrollX","parentScrollY","droppables","bind","toggleEvents","isIE","scope","isUnWire","ele","handle","handler","enableTapHold","isDevice","isTouch","mobileInitialize","initialize","remove","touchStartEvent","add","evt","currentTarget","setTimeout","removeTapholdTimer","tapHoldThreshold","document","touchMoveEvent","touchEndEvent","clearTimeout","getScrollableParent","axis","scroll","client","scrollTop","scrollLeft","tempScrollHeight","scrollHeight","tempScrollWidth","scrollWidth","parentNode","getScrollableValues","isModalDialog","classList","contains","verticalScrollParent","horizontalScrollParent","curTarget","currentStateTarget","isDragStarted","abort","abortSelectors","preventDefault","changedTouches","type","setAttribute","intCoord","getCoordinates","initialPosition","x","pageX","y","pageY","clone","pos","getBoundingClientRect","clientX","clientY","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isPreventSelect","body","trigger","documentElement","isChangeTouch","intCordinate","styleProp","getComputedStyle","margin","parseInt","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","isReplaceDragEle","currentStateCheck","offset","calculateParentPosition","position","getMousePosition","isDragScroll","distance","Math","sqrt","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","getProperTargetElement","args","event","bindEvents","bindDragEvents","dragElement","dragArea","setDragArea","enableTailMode","styles","parseFloat","posValue","getProcessedPositionValue","dragElePosition","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","el","offsetTop","offsetLeft","width","offsetWidth","height","offsetHeight","window","pageYOffset","pageXOffset","innerHeight","innerWidth","value","queryPositionInfo","rect","style","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","instance","flag","hoverObject","triggerOutFunction","dragData","intOver","helper","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","draEleTop","draEleLeft","tempDraEleTop","dragValue","enableAutoScroll","scrollIntoView","intOut","temp","str","docBody","docEle","returnValue","max","indexOf","dragStop","dragStopCalled","intDrop","onPropertyChanged","newProp","oldProp","getModuleName","change","eleWidthBound","eleHeightBound","elementArea","keys","tborder","tpadding","lowerKey","toLowerCase","isNaN","prevStyle","pointerEvents","elementFromPoint","oldEle","elem","isdragscroll","dragEle","srcElement","undefined","isOffsetParent","cursorAt","sender","className","innerHTML","appendChild","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","parentElement","name","drop","eleInst","ej2_instances","_i","eleInst_1","inst","destroy"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-buttons/node_modules/@syncfusion/ej2-base/src/draggable.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = { isDragged: false };\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.prevLeft = 0;\n        _this.prevTop = 0;\n        _this.dragProcessStarted = false;\n        /* tslint:disable no-any */\n        _this.tapHoldTimer = 0;\n        _this.externalInitialize = false;\n        _this.diffY = 0;\n        _this.parentScrollX = 0;\n        _this.parentScrollY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        var handler = (this.enableTapHold && Browser.isDevice && Browser.isTouch) ? this.mobileInitialize : this.initialize;\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n        }\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.mobileInitialize = function (evt) {\n        var _this = this;\n        var target = evt.currentTarget;\n        this.tapHoldTimer = setTimeout(function () {\n            _this.externalInitialize = true;\n            _this.removeTapholdTimer();\n            _this.initialize(evt, target);\n        }, this.tapHoldThreshold);\n        EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.removeTapholdTimer = function () {\n        clearTimeout(this.tapHoldTimer);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n        EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.getScrollableParent = function (element, axis) {\n        var scroll = { 'vertical': 'scrollHeight', 'horizontal': 'scrollWidth' };\n        var client = { 'vertical': 'clientHeight', 'horizontal': 'clientWidth' };\n        if (isNullOrUndefined(element)) {\n            return null;\n        }\n        if (element[scroll[axis]] > element[client[axis]]) {\n            if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n                if (axis === 'vertical') {\n                    this.parentScrollY = this.parentScrollY +\n                        (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n                    this.tempScrollHeight = element.scrollHeight;\n                }\n                else {\n                    this.parentScrollX = this.parentScrollX +\n                        (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n                    this.tempScrollWidth = element.scrollWidth;\n                }\n                if (!isNullOrUndefined(element)) {\n                    return this.getScrollableParent(element.parentNode, axis);\n                }\n                else {\n                    return element;\n                }\n            }\n            else {\n                return this.getScrollableParent(element.parentNode, axis);\n            }\n        }\n        else {\n            return this.getScrollableParent(element.parentNode, axis);\n        }\n    };\n    Draggable.prototype.getScrollableValues = function () {\n        this.parentScrollX = 0;\n        this.parentScrollY = 0;\n        var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n        var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n        var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n    };\n    Draggable.prototype.initialize = function (evt, curTarget) {\n        this.currentStateTarget = evt.target;\n        if (this.isDragStarted()) {\n            return;\n        }\n        else {\n            this.isDragStarted(true);\n            this.externalInitialize = false;\n        }\n        this.target = (evt.currentTarget || curTarget);\n        this.dragProcessStarted = false;\n        if (this.abort) {\n            /* tslint:disable no-any */\n            var abortSelectors = this.abort;\n            if (typeof abortSelectors === 'string') {\n                abortSelectors = [abortSelectors];\n            }\n            for (var i = 0; i < abortSelectors.length; i++) {\n                if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n                    /* istanbul ignore next */\n                    if (this.isDragStarted()) {\n                        this.isDragStarted(true);\n                    }\n                    return;\n                }\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.getScrollableValues();\n            if (evt.clientX === evt.pageX) {\n                this.parentScrollX = 0;\n            }\n            if (evt.clientY === evt.pageY) {\n                this.parentScrollY = 0;\n            }\n            this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n            this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n        }\n        if (this.externalInitialize) {\n            this.intDragStart(evt);\n        }\n        else {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        }\n        this.toggleEvents(true);\n        if (evt.type !== 'touchstart' && this.isPreventSelect) {\n            document.body.classList.add('e-prevent-select');\n        }\n        this.externalInitialize = false;\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        this.removeTapholdTimer();\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (isChangeTouch) {\n            evt.preventDefault();\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        /* istanbul ignore next */\n        if (this.isReplaceDragEle) {\n            element = this.currentStateCheck(evt.target, element);\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if ((distance >= this.distance || this.externalInitialize)) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                var args = {\n                    event: evt,\n                    element: element,\n                    target: curTarget,\n                    bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n                    dragElement: dragTargetElement\n                };\n                this.trigger('dragStart', args);\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            this.getScrollableValues();\n            // when drag element has margin-top\n            var styles = getComputedStyle(element);\n            var marginTop = parseFloat(styles.marginTop);\n            /* istanbul ignore next */\n            if (this.clone && marginTop !== 0) {\n                pos.top += marginTop;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            this.dragElePosition = { top: pos.top, left: pos.left };\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (!isBlazor()) {\n                this.bindDragEvents(dragTargetElement);\n            }\n        }\n    };\n    Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n        if (isVisible(dragTargetElement)) {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n            this.setGlobalDroppables(false, this.element, dragTargetElement);\n        }\n        else {\n            this.toggleEvents();\n            document.body.classList.remove('e-prevent-select');\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            var flag = true;\n            if (this.hoverObject) {\n                if (this.hoverObject.instance !== eleObj.instance) {\n                    this.triggerOutFunction(evt, eleObj);\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n                eleObj.instance.intOver(evt, eleObj.target);\n                this.hoverObject = eleObj;\n            }\n        }\n        else if (this.hoverObject) {\n            this.triggerOutFunction(evt, eleObj);\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        var styles = getComputedStyle(helperElement);\n        var marginTop = parseFloat(styles.marginTop);\n        if (this.dragArea) {\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft && dLeft > 0) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n                    left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n                }\n                else {\n                    left = dLeft < 0 ? this.dragLimit.left : dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop && dTop > 0) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n                    top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n                }\n                else {\n                    top = dTop < 0 ? this.dragLimit.top : dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        if (this.dragProcessStarted) {\n            if (isNullOrUndefined(top)) {\n                top = this.prevTop;\n            }\n            if (isNullOrUndefined(left)) {\n                left = this.prevLeft;\n            }\n        }\n        var draEleTop;\n        var draEleLeft;\n        if (this.dragArea) {\n            this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n            draEleTop = (top - iTop) < 0 ? this.dragLimit.top : (top - iTop);\n            draEleLeft = (left - iLeft) < 0 ? this.dragElePosition.left : (left - iLeft);\n            // when drag-element has margin-top\n            /* istanbul ignore next */\n            if (marginTop > 0) {\n                if (this.clone) {\n                    draEleTop += this.element.offsetTop;\n                    if (dTop < 0) {\n                        if ((this.element.offsetTop + dTop) >= 0) {\n                            draEleTop = this.element.offsetTop + dTop;\n                        }\n                        else {\n                            draEleTop -= this.element.offsetTop;\n                        }\n                    }\n                    draEleTop = (this.dragLimit.bottom < draEleTop) ? this.dragLimit.bottom : draEleTop;\n                }\n                if ((top - iTop) < 0) {\n                    if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n                        var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n                        if ((tempDraEleTop + marginTop + iTop) < 0) {\n                            draEleTop -= marginTop + iTop;\n                        }\n                        else {\n                            draEleTop = tempDraEleTop;\n                        }\n                    }\n                    else {\n                        draEleTop -= marginTop + iTop;\n                    }\n                }\n            }\n        }\n        else {\n            draEleTop = top - iTop;\n            draEleLeft = left - iLeft;\n        }\n        var dragValue = this.getProcessedPositionValue({ top: draEleTop + 'px', left: draEleLeft + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll) {\n            this.helperElement.scrollIntoView();\n        }\n        this.dragProcessStarted = true;\n        this.prevLeft = left;\n        this.prevTop = top;\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n        this.hoverObject.instance.intOut(evt, eleObj.target);\n        this.hoverObject.instance.dragData[this.scope] = null;\n        this.hoverObject = null;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        this.dragProcessStarted = false;\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    /**\n     * @private\n     */\n    Draggable.prototype.intDestroy = function (evt) {\n        this.dragProcessStarted = false;\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n        if (this.isDragStarted()) {\n            this.isDragStarted(true);\n        }\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.isDragStarted = function (change) {\n        if (change) {\n            isDraggedObject.isDragged = !isDraggedObject.isDragged;\n        }\n        return isDraggedObject.isDragged;\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n            eleHeightBound = ele.scrollHeight ? ele.scrollHeight : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.pointerEvents || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.pointerEvents = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.pointerEvents = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n        var elem;\n        if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n            elem = this.currentStateTarget;\n        }\n        else {\n            elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n        }\n        return elem;\n    };\n    Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n        /* tslint:disable no-any */\n        var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n        var intCoord = this.getCoordinates(evt);\n        var pageX;\n        var pageY;\n        var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n        /* istanbul ignore next */\n        if (isdragscroll) {\n            pageX = this.clone ? intCoord.pageX :\n                (intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft)) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY :\n                (intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop)) - this.relativeYPosition;\n        }\n        else {\n            pageX = this.clone ? intCoord.pageX : (intCoord.pageX + window.pageXOffset) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY : (intCoord.pageY + window.pageYOffset) - this.relativeYPosition;\n        }\n        if (!this.clone) {\n            this.getScrollableValues();\n            pageY -= this.tempScrollHeight ? this.parentScrollY : 0;\n            pageX -= this.tempScrollWidth ? this.parentScrollY : 0;\n        }\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    var Draggable_1;\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isDragScroll\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isReplaceDragEle\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"isPreventSelect\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTapHold\", void 0);\n    __decorate([\n        Property(750)\n    ], Draggable.prototype, \"tapHoldThreshold\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n}(Base));\nexport { Draggable };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}