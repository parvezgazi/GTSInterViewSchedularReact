{"ast":null,"code":"import { append, addClass, remove, isNullOrUndefined, setStyleAttribute, createElement } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Virtual Scroll\n */\nvar VirtualScroll = /** @class */function () {\n  function VirtualScroll(parent) {\n    this.translateY = 0;\n    this.itemSize = 60;\n    this.bufferCount = 3;\n    this.renderedLength = 0;\n    this.averageRowHeight = 0;\n    this.isScrollHeightNull = true;\n    this.parent = parent;\n    this.addEventListener();\n  }\n  VirtualScroll.prototype.addEventListener = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.virtualScroll, this.virtualScrolling, this);\n  };\n  VirtualScroll.prototype.removeEventListener = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.virtualScroll, this.virtualScrolling);\n  };\n  VirtualScroll.prototype.getRenderedCount = function () {\n    this.setItemSize();\n    return Math.ceil(this.parent.element.clientHeight / this.itemSize) + this.bufferCount;\n  };\n  VirtualScroll.prototype.setTranslateValue = function () {\n    var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n    this.renderVirtualTrackHeight(conWrap, resWrap);\n    this.setTranslate(resWrap, conWrap, eventWrap, timeIndicator);\n  };\n  VirtualScroll.prototype.renderVirtualTrackHeight = function (contentWrap, resourceWrap) {\n    this.parent.resourceBase.setExpandedResources();\n    if (this.isScrollHeightNull) {\n      var wrap = createElement('div', {\n        className: cls.VIRTUAL_TRACK_CLASS\n      });\n      var resWrap = [].slice.call(resourceWrap.querySelectorAll('table td'));\n      var startIndex_1 = parseInt(resWrap[0].getAttribute('data-group-index'), 10);\n      var endIndex_1 = parseInt(resWrap[resWrap.length - 1].getAttribute('data-group-index'), 10);\n      this.parent.resourceBase.renderedResources = this.parent.resourceBase.expandedResources.filter(function (resource) {\n        return resource.groupIndex >= startIndex_1 && resource.groupIndex <= endIndex_1;\n      });\n      this.setItemSize();\n      wrap.style.height = this.parent.resourceBase.expandedResources.length * this.itemSize + 'px';\n      this.isScrollHeightNull = false;\n      var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n      if (!isNullOrUndefined(virtual)) {\n        remove(virtual);\n      }\n      contentWrap.appendChild(wrap);\n    }\n  };\n  VirtualScroll.prototype.renderVirtualTrack = function (contentWrap) {\n    var wrap = createElement('div', {\n      className: cls.VIRTUAL_TRACK_CLASS\n    });\n    wrap.style.height = this.parent.resourceBase.expandedResources.length * this.itemSize + 'px';\n    contentWrap.appendChild(wrap);\n  };\n  VirtualScroll.prototype.updateVirtualScrollHeight = function () {\n    var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n    var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n    var lastRenderIndex = this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n    if (lastRenderIndex !== lastResourceIndex) {\n      var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n      this.renderedLength = conTable.querySelector('tbody').children.length;\n      virtual.style.height = conTable.offsetHeight + (this.parent.resourceBase.expandedResources.length - this.renderedLength) * conTable.offsetHeight / this.renderedLength + 'px';\n    } else {\n      virtual.style.height = '';\n    }\n    this.averageRowHeight = virtual.offsetHeight / this.parent.resourceBase.expandedResources.length;\n  };\n  VirtualScroll.prototype.updateVirtualTrackHeight = function (wrap) {\n    var resourceCount = this.parent.resourceBase.renderedResources.length;\n    if (resourceCount !== this.getRenderedCount()) {\n      wrap.style.height = this.parent.element.querySelector('.e-content-wrap').clientHeight + 'px';\n      var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n      var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n      var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n      this.translateY = 0;\n      this.setTranslate(resWrap, conWrap, eventWrap);\n    } else {\n      var lastRenderIndex = this.parent.resourceBase.renderedResources[resourceCount - 1].groupIndex;\n      var lastCollIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n      var renderedResCount = resourceCount + (lastCollIndex - lastRenderIndex);\n      renderedResCount = renderedResCount > this.parent.resourceBase.expandedResources.length ? this.parent.resourceBase.expandedResources.length : renderedResCount;\n      wrap.style.height = renderedResCount * this.itemSize + 'px';\n    }\n  };\n  VirtualScroll.prototype.setItemSize = function () {\n    this.itemSize = util.getElementHeightFromClass(this.parent.activeView.element, cls.WORK_CELLS_CLASS) || this.itemSize;\n  };\n  VirtualScroll.prototype.renderEvents = function () {\n    this.setTabIndex();\n    this.parent.refreshEvents(false);\n    this.parent.notify(events.contentReady, {});\n    this.parent.hideSpinner();\n  };\n  VirtualScroll.prototype.virtualScrolling = function () {\n    var _this = this;\n    if (this.parent.quickPopup) {\n      this.parent.quickPopup.quickPopupHide();\n      this.parent.quickPopup.morePopup.hide();\n    }\n    var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n    var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n    var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n    this.renderedLength = resWrap.querySelector('tbody').children.length;\n    var firstTDIndex = parseInt(resWrap.querySelector('tbody td').getAttribute('data-group-index'), 10);\n    var scrollHeight = this.parent.rowAutoHeight ? conTable.offsetHeight - conWrap.offsetHeight : this.bufferCount * this.itemSize;\n    addClass([conWrap], 'e-transition');\n    var resCollection = [];\n    if (conWrap.scrollTop - this.translateY < 0) {\n      resCollection = this.upScroll(conWrap, firstTDIndex);\n    } else if (conWrap.scrollTop - this.translateY > scrollHeight) {\n      resCollection = this.downScroll(conWrap, firstTDIndex);\n    }\n    if (!isNullOrUndefined(resCollection) && resCollection.length > 0) {\n      this.parent.showSpinner();\n      var selectedEle = this.parent.getSelectedElements();\n      this.focusedEle = selectedEle[selectedEle.length - 1] || this.focusedEle;\n      this.updateContent(resWrap, conWrap, eventWrap, resCollection);\n      this.setTranslate(resWrap, conWrap, eventWrap, timeIndicator);\n      if (this.parent.dragAndDropModule && this.parent.dragAndDropModule.actionObj.action === 'drag') {\n        this.parent.dragAndDropModule.navigationWrapper();\n      }\n      window.clearTimeout(this.timeValue);\n      this.timeValue = window.setTimeout(function () {\n        _this.renderEvents();\n      }, 250);\n    }\n  };\n  VirtualScroll.prototype.upScroll = function (conWrap, firstTDIndex) {\n    var index = 0;\n    index = ~~(conWrap.scrollTop / this.itemSize) + Math.ceil(conWrap.clientHeight / this.itemSize) - this.renderedLength;\n    if (this.parent.rowAutoHeight) {\n      index = index > firstTDIndex ? firstTDIndex - this.bufferCount : index;\n    }\n    index = index > 0 ? index : 0;\n    var prevSetCollection = this.getBufferCollection(index, index + this.renderedLength);\n    this.parent.resourceBase.renderedResources = prevSetCollection;\n    if (firstTDIndex === 0) {\n      this.translateY = conWrap.scrollTop;\n    } else {\n      var height = this.parent.rowAutoHeight ? this.averageRowHeight : this.itemSize;\n      height = height > 0 ? height : this.itemSize;\n      this.translateY = conWrap.scrollTop - this.bufferCount * height > 0 ? conWrap.scrollTop - this.bufferCount * height : 0;\n    }\n    return prevSetCollection;\n  };\n  VirtualScroll.prototype.downScroll = function (conWrap, firstTDIndex) {\n    var lastResource = this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n    var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n    if (lastResource === lastResourceIndex) {\n      return null;\n    }\n    var nextSetResIndex = 0;\n    nextSetResIndex = ~~(conWrap.scrollTop / this.itemSize);\n    if (this.parent.rowAutoHeight) {\n      nextSetResIndex = ~~((conWrap.scrollTop - this.translateY) / this.averageRowHeight) + firstTDIndex;\n      nextSetResIndex = nextSetResIndex > firstTDIndex + this.bufferCount ? nextSetResIndex : firstTDIndex + this.bufferCount;\n    }\n    var lastIndex = nextSetResIndex + this.renderedLength;\n    lastIndex = lastIndex > this.parent.resourceBase.expandedResources.length ? nextSetResIndex + (this.parent.resourceBase.expandedResources.length - nextSetResIndex) : lastIndex;\n    var nextSetCollection = this.getBufferCollection(lastIndex - this.renderedLength, lastIndex);\n    this.translateY = conWrap.scrollTop;\n    return nextSetCollection;\n  };\n  VirtualScroll.prototype.updateContent = function (resWrap, conWrap, eventWrap, resCollection) {\n    var renderedLength = resWrap.querySelector('tbody').children.length;\n    if (document.activeElement && document.activeElement.classList.contains(cls.RESOURCE_CELLS_CLASS)) {\n      this.isResourceCell = true;\n      this.parent.element.focus();\n    }\n    for (var i = 0; i < renderedLength; i++) {\n      remove(resWrap.querySelector('tbody tr'));\n      remove(conWrap.querySelector('tbody tr'));\n      remove(eventWrap.querySelector('div'));\n    }\n    this.parent.resourceBase.renderedResources = resCollection;\n    var resourceRows = this.parent.resourceBase.getContentRows(resCollection, true);\n    var contentRows = this.parent.activeView.getContentRows();\n    var eventRows = this.parent.activeView.getEventRows(resCollection.length);\n    append(resourceRows, resWrap.querySelector('tbody'));\n    append(contentRows, conWrap.querySelector('tbody'));\n    append(eventRows, eventWrap);\n  };\n  VirtualScroll.prototype.getBufferCollection = function (startIndex, endIndex) {\n    return this.parent.resourceBase.expandedResources.slice(startIndex, endIndex);\n  };\n  VirtualScroll.prototype.setTranslate = function (resWrap, conWrap, eventWrap, timeIndicator) {\n    setStyleAttribute(resWrap.querySelector('table'), {\n      transform: \"translateY(\" + this.translateY + \"px)\"\n    });\n    setStyleAttribute(conWrap.querySelector('table'), {\n      transform: \"translateY(\" + this.translateY + \"px)\"\n    });\n    setStyleAttribute(eventWrap, {\n      transform: \"translateY(\" + this.translateY + \"px)\"\n    });\n    if (!isNullOrUndefined(timeIndicator)) {\n      setStyleAttribute(timeIndicator, {\n        transform: \"translateY(\" + this.translateY + \"px)\"\n      });\n    }\n  };\n  VirtualScroll.prototype.updateFocusedWorkCell = function () {\n    if (this.focusedEle) {\n      var date = parseInt(this.focusedEle.getAttribute('data-date'), 10);\n      var groupIndex = parseInt(this.focusedEle.getAttribute('data-group-index'), 10);\n      var ele = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + date + \"\\\"][data-group-index=\\\"\" + groupIndex + \"\\\"]\");\n      if (ele) {\n        this.parent.addSelectedClass([ele], ele, true);\n      }\n      this.focusedEle = null;\n    }\n  };\n  VirtualScroll.prototype.setTabIndex = function () {\n    var resColWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n    var resCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.RESOURCE_CELLS_CLASS));\n    if (resCells && resColWrap) {\n      resCells.forEach(function (element) {\n        if (element.getBoundingClientRect().top >= resColWrap.getBoundingClientRect().top) {\n          element.setAttribute('tabindex', '0');\n        }\n      });\n    }\n    var focusResCell = this.parent.element.querySelector(\".\" + cls.RESOURCE_CELLS_CLASS + \"[tabindex=\\\"\" + 0 + \"\\\"]\");\n    if (this.isResourceCell && focusResCell) {\n      focusResCell.focus();\n      this.isResourceCell = false;\n    }\n  };\n  VirtualScroll.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return VirtualScroll;\n}();\nexport { VirtualScroll };","map":{"version":3,"names":["append","addClass","remove","isNullOrUndefined","setStyleAttribute","createElement","events","cls","util","VirtualScroll","parent","translateY","itemSize","bufferCount","renderedLength","averageRowHeight","isScrollHeightNull","addEventListener","prototype","isDestroyed","on","virtualScroll","virtualScrolling","removeEventListener","off","getRenderedCount","setItemSize","Math","ceil","element","clientHeight","setTranslateValue","resWrap","querySelector","RESOURCE_COLUMN_WRAP_CLASS","conWrap","CONTENT_WRAP_CLASS","eventWrap","EVENT_TABLE_CLASS","timeIndicator","CURRENT_TIMELINE_CLASS","renderVirtualTrackHeight","setTranslate","contentWrap","resourceWrap","resourceBase","setExpandedResources","wrap","className","VIRTUAL_TRACK_CLASS","slice","call","querySelectorAll","startIndex_1","parseInt","getAttribute","endIndex_1","length","renderedResources","expandedResources","filter","resource","groupIndex","style","height","virtual","appendChild","renderVirtualTrack","updateVirtualScrollHeight","lastResourceIndex","lastRenderIndex","conTable","CONTENT_TABLE_CLASS","children","offsetHeight","updateVirtualTrackHeight","resourceCount","lastCollIndex","renderedResCount","getElementHeightFromClass","activeView","WORK_CELLS_CLASS","renderEvents","setTabIndex","refreshEvents","notify","contentReady","hideSpinner","_this","quickPopup","quickPopupHide","morePopup","hide","firstTDIndex","scrollHeight","rowAutoHeight","resCollection","scrollTop","upScroll","downScroll","showSpinner","selectedEle","getSelectedElements","focusedEle","updateContent","dragAndDropModule","actionObj","action","navigationWrapper","window","clearTimeout","timeValue","setTimeout","index","prevSetCollection","getBufferCollection","lastResource","nextSetResIndex","lastIndex","nextSetCollection","document","activeElement","classList","contains","RESOURCE_CELLS_CLASS","isResourceCell","focus","i","resourceRows","getContentRows","contentRows","eventRows","getEventRows","startIndex","endIndex","transform","updateFocusedWorkCell","date","ele","addSelectedClass","resColWrap","resCells","forEach","getBoundingClientRect","top","setAttribute","focusResCell","destroy"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-schedule/src/schedule/actions/virtual-scroll.js"],"sourcesContent":["import { append, addClass, remove, isNullOrUndefined, setStyleAttribute, createElement } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * Virtual Scroll\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.translateY = 0;\n        this.itemSize = 60;\n        this.bufferCount = 3;\n        this.renderedLength = 0;\n        this.averageRowHeight = 0;\n        this.isScrollHeightNull = true;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.virtualScroll, this.virtualScrolling, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.virtualScroll, this.virtualScrolling);\n    };\n    VirtualScroll.prototype.getRenderedCount = function () {\n        this.setItemSize();\n        return Math.ceil(this.parent.element.clientHeight / this.itemSize) + this.bufferCount;\n    };\n    VirtualScroll.prototype.setTranslateValue = function () {\n        var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n        var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n        this.renderVirtualTrackHeight(conWrap, resWrap);\n        this.setTranslate(resWrap, conWrap, eventWrap, timeIndicator);\n    };\n    VirtualScroll.prototype.renderVirtualTrackHeight = function (contentWrap, resourceWrap) {\n        this.parent.resourceBase.setExpandedResources();\n        if (this.isScrollHeightNull) {\n            var wrap = createElement('div', { className: cls.VIRTUAL_TRACK_CLASS });\n            var resWrap = [].slice.call((resourceWrap).querySelectorAll('table td'));\n            var startIndex_1 = parseInt(resWrap[0].getAttribute('data-group-index'), 10);\n            var endIndex_1 = parseInt(resWrap[resWrap.length - 1].getAttribute('data-group-index'), 10);\n            this.parent.resourceBase.renderedResources = this.parent.resourceBase.expandedResources.filter(function (resource) {\n                return (resource.groupIndex >= startIndex_1 && resource.groupIndex <= endIndex_1);\n            });\n            this.setItemSize();\n            wrap.style.height = (this.parent.resourceBase.expandedResources.length * this.itemSize) + 'px';\n            this.isScrollHeightNull = false;\n            var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n            if (!isNullOrUndefined(virtual)) {\n                remove(virtual);\n            }\n            contentWrap.appendChild(wrap);\n        }\n    };\n    VirtualScroll.prototype.renderVirtualTrack = function (contentWrap) {\n        var wrap = createElement('div', { className: cls.VIRTUAL_TRACK_CLASS });\n        wrap.style.height = (this.parent.resourceBase.expandedResources.length * this.itemSize) + 'px';\n        contentWrap.appendChild(wrap);\n    };\n    VirtualScroll.prototype.updateVirtualScrollHeight = function () {\n        var virtual = this.parent.element.querySelector('.' + cls.VIRTUAL_TRACK_CLASS);\n        var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n        var lastRenderIndex = this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n        if (lastRenderIndex !== lastResourceIndex) {\n            var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n            this.renderedLength = conTable.querySelector('tbody').children.length;\n            virtual.style.height = (conTable.offsetHeight + (this.parent.resourceBase.expandedResources.length - (this.renderedLength)) *\n                conTable.offsetHeight / this.renderedLength) + 'px';\n        }\n        else {\n            virtual.style.height = '';\n        }\n        this.averageRowHeight = virtual.offsetHeight / this.parent.resourceBase.expandedResources.length;\n    };\n    VirtualScroll.prototype.updateVirtualTrackHeight = function (wrap) {\n        var resourceCount = this.parent.resourceBase.renderedResources.length;\n        if (resourceCount !== this.getRenderedCount()) {\n            wrap.style.height = this.parent.element.querySelector('.e-content-wrap').clientHeight + 'px';\n            var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n            var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n            this.translateY = 0;\n            this.setTranslate(resWrap, conWrap, eventWrap);\n        }\n        else {\n            var lastRenderIndex = this.parent.resourceBase.renderedResources[resourceCount - 1].groupIndex;\n            var lastCollIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n            var renderedResCount = resourceCount + (lastCollIndex - lastRenderIndex);\n            renderedResCount = (renderedResCount > this.parent.resourceBase.expandedResources.length) ?\n                this.parent.resourceBase.expandedResources.length : renderedResCount;\n            wrap.style.height = (renderedResCount * this.itemSize) + 'px';\n        }\n    };\n    VirtualScroll.prototype.setItemSize = function () {\n        this.itemSize = util.getElementHeightFromClass(this.parent.activeView.element, cls.WORK_CELLS_CLASS) || this.itemSize;\n    };\n    VirtualScroll.prototype.renderEvents = function () {\n        this.setTabIndex();\n        this.parent.refreshEvents(false);\n        this.parent.notify(events.contentReady, {});\n        this.parent.hideSpinner();\n    };\n    VirtualScroll.prototype.virtualScrolling = function () {\n        var _this = this;\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n            this.parent.quickPopup.morePopup.hide();\n        }\n        var resWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n        var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        var eventWrap = this.parent.element.querySelector('.' + cls.EVENT_TABLE_CLASS);\n        var timeIndicator = this.parent.element.querySelector('.' + cls.CURRENT_TIMELINE_CLASS);\n        var conTable = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n        this.renderedLength = resWrap.querySelector('tbody').children.length;\n        var firstTDIndex = parseInt(resWrap.querySelector('tbody td').getAttribute('data-group-index'), 10);\n        var scrollHeight = this.parent.rowAutoHeight ?\n            (conTable.offsetHeight - conWrap.offsetHeight) : this.bufferCount * this.itemSize;\n        addClass([conWrap], 'e-transition');\n        var resCollection = [];\n        if ((conWrap.scrollTop) - this.translateY < 0) {\n            resCollection = this.upScroll(conWrap, firstTDIndex);\n        }\n        else if (conWrap.scrollTop - this.translateY > scrollHeight) {\n            resCollection = this.downScroll(conWrap, firstTDIndex);\n        }\n        if (!isNullOrUndefined(resCollection) && resCollection.length > 0) {\n            this.parent.showSpinner();\n            var selectedEle = this.parent.getSelectedElements();\n            this.focusedEle = selectedEle[selectedEle.length - 1] || this.focusedEle;\n            this.updateContent(resWrap, conWrap, eventWrap, resCollection);\n            this.setTranslate(resWrap, conWrap, eventWrap, timeIndicator);\n            if (this.parent.dragAndDropModule && this.parent.dragAndDropModule.actionObj.action === 'drag') {\n                this.parent.dragAndDropModule.navigationWrapper();\n            }\n            window.clearTimeout(this.timeValue);\n            this.timeValue = window.setTimeout(function () { _this.renderEvents(); }, 250);\n        }\n    };\n    VirtualScroll.prototype.upScroll = function (conWrap, firstTDIndex) {\n        var index = 0;\n        index = (~~(conWrap.scrollTop / this.itemSize) + Math.ceil(conWrap.clientHeight / this.itemSize)) - this.renderedLength;\n        if (this.parent.rowAutoHeight) {\n            index = (index > firstTDIndex) ? firstTDIndex - this.bufferCount : index;\n        }\n        index = (index > 0) ? index : 0;\n        var prevSetCollection = this.getBufferCollection(index, index + this.renderedLength);\n        this.parent.resourceBase.renderedResources = prevSetCollection;\n        if (firstTDIndex === 0) {\n            this.translateY = conWrap.scrollTop;\n        }\n        else {\n            var height = (this.parent.rowAutoHeight) ? this.averageRowHeight : this.itemSize;\n            height = (height > 0) ? height : this.itemSize;\n            this.translateY = (conWrap.scrollTop - (this.bufferCount * height) > 0) ?\n                conWrap.scrollTop - (this.bufferCount * height) : 0;\n        }\n        return prevSetCollection;\n    };\n    VirtualScroll.prototype.downScroll = function (conWrap, firstTDIndex) {\n        var lastResource = this.parent.resourceBase.\n            renderedResources[this.parent.resourceBase.renderedResources.length - 1].groupIndex;\n        var lastResourceIndex = this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length - 1].groupIndex;\n        if (lastResource === lastResourceIndex) {\n            return null;\n        }\n        var nextSetResIndex = 0;\n        nextSetResIndex = ~~(conWrap.scrollTop / this.itemSize);\n        if (this.parent.rowAutoHeight) {\n            nextSetResIndex = ~~((conWrap.scrollTop - this.translateY) / this.averageRowHeight) + firstTDIndex;\n            nextSetResIndex = (nextSetResIndex > firstTDIndex + this.bufferCount) ? nextSetResIndex : firstTDIndex + this.bufferCount;\n        }\n        var lastIndex = nextSetResIndex + this.renderedLength;\n        lastIndex = (lastIndex > this.parent.resourceBase.expandedResources.length) ?\n            nextSetResIndex + (this.parent.resourceBase.expandedResources.length - nextSetResIndex) : lastIndex;\n        var nextSetCollection = this.getBufferCollection(lastIndex - this.renderedLength, lastIndex);\n        this.translateY = conWrap.scrollTop;\n        return nextSetCollection;\n    };\n    VirtualScroll.prototype.updateContent = function (resWrap, conWrap, eventWrap, resCollection) {\n        var renderedLength = resWrap.querySelector('tbody').children.length;\n        if (document.activeElement && document.activeElement.classList.contains(cls.RESOURCE_CELLS_CLASS)) {\n            this.isResourceCell = true;\n            this.parent.element.focus();\n        }\n        for (var i = 0; i < renderedLength; i++) {\n            remove(resWrap.querySelector('tbody tr'));\n            remove(conWrap.querySelector('tbody tr'));\n            remove(eventWrap.querySelector('div'));\n        }\n        this.parent.resourceBase.renderedResources = resCollection;\n        var resourceRows = this.parent.resourceBase.getContentRows(resCollection, true);\n        var contentRows = this.parent.activeView.getContentRows();\n        var eventRows = this.parent.activeView.getEventRows(resCollection.length);\n        append(resourceRows, resWrap.querySelector('tbody'));\n        append(contentRows, conWrap.querySelector('tbody'));\n        append(eventRows, eventWrap);\n    };\n    VirtualScroll.prototype.getBufferCollection = function (startIndex, endIndex) {\n        return this.parent.resourceBase.expandedResources.slice(startIndex, endIndex);\n    };\n    VirtualScroll.prototype.setTranslate = function (resWrap, conWrap, eventWrap, timeIndicator) {\n        setStyleAttribute(resWrap.querySelector('table'), { transform: \"translateY(\" + this.translateY + \"px)\" });\n        setStyleAttribute(conWrap.querySelector('table'), { transform: \"translateY(\" + this.translateY + \"px)\" });\n        setStyleAttribute(eventWrap, { transform: \"translateY(\" + this.translateY + \"px)\" });\n        if (!isNullOrUndefined(timeIndicator)) {\n            setStyleAttribute(timeIndicator, { transform: \"translateY(\" + this.translateY + \"px)\" });\n        }\n    };\n    VirtualScroll.prototype.updateFocusedWorkCell = function () {\n        if (this.focusedEle) {\n            var date = parseInt(this.focusedEle.getAttribute('data-date'), 10);\n            var groupIndex = parseInt(this.focusedEle.getAttribute('data-group-index'), 10);\n            var ele = this.parent.element.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + date + \"\\\"][data-group-index=\\\"\" + groupIndex + \"\\\"]\");\n            if (ele) {\n                this.parent.addSelectedClass([ele], ele, true);\n            }\n            this.focusedEle = null;\n        }\n    };\n    VirtualScroll.prototype.setTabIndex = function () {\n        var resColWrap = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n        var resCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.RESOURCE_CELLS_CLASS));\n        if (resCells && resColWrap) {\n            resCells.forEach(function (element) {\n                if (element.getBoundingClientRect().top >= resColWrap.getBoundingClientRect().top) {\n                    element.setAttribute('tabindex', '0');\n                }\n            });\n        }\n        var focusResCell = this.parent.element.querySelector(\".\" + cls.RESOURCE_CELLS_CLASS + \"[tabindex=\\\"\" + 0 + \"\\\"]\");\n        if (this.isResourceCell && focusResCell) {\n            focusResCell.focus();\n            this.isResourceCell = false;\n        }\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}