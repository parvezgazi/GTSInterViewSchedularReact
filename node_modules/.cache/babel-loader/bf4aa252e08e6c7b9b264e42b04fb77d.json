{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */function (_super) {\n  __extends(CalendarBase, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function CalendarBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.render = function () {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n    this.globalize = new Internationalization(this.locale);\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n      attributes(this.calendarElement, {\n        'role': 'calendar'\n      });\n    }\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  };\n  CalendarBase.prototype.rangeValidation = function (min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  };\n  CalendarBase.prototype.validateDate = function (value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  };\n  CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n  CalendarBase.prototype.minMaxUpdate = function (value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  };\n  CalendarBase.prototype.createHeader = function () {\n    var ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    var ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    var ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    var iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    attributes(this.nextIcon, ariaNextAttrs);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n    this.adjustLongHeaderSize();\n  };\n  CalendarBase.prototype.createContent = function () {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        tabIndex: '0',\n        'role': 'grid',\n        'aria-activedescendant': ''\n      }\n    });\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n  };\n  CalendarBase.prototype.getCultureValues = function () {\n    var culShortNames = [];\n    var cldrObj;\n    var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n    for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n      var obj = _a[_i];\n      culShortNames.push(getValue(obj, cldrObj));\n    }\n    return culShortNames;\n  };\n  CalendarBase.prototype.toCapitalize = function (text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  };\n  CalendarBase.prototype.createContentHeader = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n    var daysCount = 6;\n    var html = '';\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\"></th>';\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    }\n    // eslint-disable-next-line max-len\n    var shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);\n    for (var days = 0; days <= daysCount; days++) {\n      html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n    }\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  };\n  CalendarBase.prototype.createContentBody = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n      case 'Decade':\n        this.renderDecades();\n        break;\n      default:\n        this.renderMonths();\n    }\n  };\n  CalendarBase.prototype.updateFooter = function () {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n  };\n  CalendarBase.prototype.createContentFooter = function () {\n    if (this.showTodayButton) {\n      var minimum = new Date(+this.min);\n      var maximum = new Date(+this.max);\n      var l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  };\n  CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  };\n  CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  };\n  CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  };\n  CalendarBase.prototype.resetCalendar = function () {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  };\n  CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate;\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n    var view = this.getViewNumber(this.currentView());\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n    switch (e.action) {\n      case 'moveLeft':\n        this.keyboardNavigate(-1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n      case 'moveRight':\n        this.keyboardNavigate(1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n      case 'moveUp':\n        if (view === 0) {\n          this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n        e.preventDefault();\n        break;\n      case 'moveDown':\n        if (view === 0) {\n          this.keyboardNavigate(7, view, e, this.max, this.min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n        e.preventDefault();\n        break;\n      case 'select':\n        if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n        } else {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              var d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n          }\n        }\n        break;\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n        e.preventDefault();\n        break;\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n        e.preventDefault();\n        break;\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n    }\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n    var date = new Date(this.checkValue(this.currentDate));\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n      case 1:\n        this.addMonths(this.currentDate, number);\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n        break;\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n        break;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.preRender = function (value) {\n    var _this = this;\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.navigateHandler = function (e) {\n      _this.triggerNavigate(e);\n    };\n  };\n  CalendarBase.prototype.minMaxDate = function (localDate) {\n    var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n    return localDate;\n  };\n  CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n    var numCells = this.weekNumber ? 8 : 7;\n    var tdEles;\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n    this.createContentHeader();\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  };\n  CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    var localDate = new Date(this.checkValue(currentDate));\n    var minMaxDate;\n    var currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    var d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.createElement('td', {\n        className: CELL\n      });\n      var weekAnchor = this.createElement('span');\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.dayCell(localDate);\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      var disabled = this.min > localDate || this.max < localDate;\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n      }\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n      if (argument.isDisabled) {\n        var selectDate = new Date(this.checkValue(value));\n        var argsDate = new Date(this.checkValue(argument.date));\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      var disabledCls = tdEle.classList.contains(DISABLED);\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (var tempValue = 0; tempValue < values.length; tempValue++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(localDate, formatOptions);\n          var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n    return tdEles;\n  };\n  CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n      // eslint-disable-next-line radix\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  };\n  CalendarBase.prototype.renderYears = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.checkValue(this.currentDate));\n    var mon = curDate.getMonth();\n    var yr = curDate.getFullYear();\n    var localDate = curDate;\n    var curYrs = localDate.getFullYear();\n    var minYr = new Date(this.checkValue(this.min)).getFullYear();\n    var minMonth = new Date(this.checkValue(this.min)).getMonth();\n    var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n    for (var month = 0; month < 12; ++month) {\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      var localMonth = value && value.getMonth() === localDate.getMonth();\n      var select = value && value.getFullYear() === yr && localMonth;\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  };\n  CalendarBase.prototype.renderDecades = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    var endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    var startYear = start.getFullYear();\n    for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      var year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      var tdEle = this.dayCell(localDate);\n      attributes(tdEle, {\n        'role': 'gridcell'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n  CalendarBase.prototype.dayCell = function (localDate) {\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    var value = date.valueOf();\n    var attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false',\n        'role': 'gridcell'\n      }\n    };\n    return this.createElement('td', attrs);\n  };\n  CalendarBase.prototype.firstDay = function (date) {\n    var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n    if (collection.length) {\n      for (var i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.lastDay = function (date, view) {\n    var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n    if (view !== 2) {\n      var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  };\n  CalendarBase.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n  CalendarBase.prototype.findLastDay = function (date) {\n    var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n    if (collection.length) {\n      for (var i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n    return date;\n  };\n  CalendarBase.prototype.removeTableHeadElement = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.getViewNumber(this.currentView());\n    var trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowIterator = 0;\n    for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n        trEle.appendChild(elements[rowIterator]);\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n    this.table.querySelector('tbody').className = this.effect;\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n    this.setAriaActiveDescendant();\n  };\n  CalendarBase.prototype.clickHandler = function (e, value) {\n    this.clickEventEmitter(e);\n    var eve = e.currentTarget;\n    var view = this.getViewNumber(this.currentView());\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  // Content click event handler required for extended components\n  CalendarBase.prototype.clickEventEmitter = function (e) {\n    e.preventDefault();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.contentClick = function (e, view, element, value) {\n    var currentView = this.getViewNumber(this.currentView());\n    var d = this.getIdValue(e, element);\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n        break;\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            var islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n    }\n  };\n  CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n        if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n          this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n        break;\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n  CalendarBase.prototype.getModuleName = function () {\n    return 'calendar';\n  };\n  /**\n   *\n   * @returns {void}\n    */\n  CalendarBase.prototype.requiredModules = function () {\n    var modules = [];\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n    return modules;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n  CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n          break;\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n          this.adjustLongHeaderSize();\n          break;\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n          this.minMaxUpdate();\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n          break;\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          break;\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n          this.l10.setLocale(this.locale);\n          this.updateFooter();\n          break;\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  };\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n  CalendarBase.prototype.validateValues = function (multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      var copyValues = this.copyValues(values);\n      for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        var tempValue = copyValues[skipIndex];\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var tempValueString = void 0;\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n        var minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        var minString = minStringValue;\n        var maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        var maxString = maxStringValue;\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  };\n  CalendarBase.prototype.setValueUpdate = function () {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  };\n  CalendarBase.prototype.copyValues = function (values) {\n    var copyValues = [];\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (var index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n    return copyValues;\n  };\n  CalendarBase.prototype.titleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.locale);\n    var dayFormatOptions;\n    var monthFormatOptions;\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  };\n  CalendarBase.prototype.setActiveDescendant = function () {\n    var id;\n    var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var title;\n    var view = this.currentView();\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n    return id;\n  };\n  CalendarBase.prototype.iconHandler = function () {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  CalendarBase.prototype.destroy = function () {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n    if (this.getModuleName() === 'calendar' && this.element) {\n      EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n    _super.prototype.destroy.call(this);\n  };\n  CalendarBase.prototype.title = function (e) {\n    var currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  };\n  CalendarBase.prototype.getViewNumber = function (stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n  CalendarBase.prototype.navigateTitle = function (e) {\n    e.preventDefault();\n    this.title(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.previous = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigatePrevious = function (e) {\n    e.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n    this.triggerNavigate(e);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  CalendarBase.prototype.next = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n  CalendarBase.prototype.navigateNext = function (eve) {\n    eve.preventDefault();\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n    this.triggerNavigate(eve);\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n  CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n  CalendarBase.prototype.currentView = function () {\n    if (this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  CalendarBase.prototype.getDateVal = function (date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CalendarBase.prototype.getCultureObjects = function (ld, c) {\n    var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var mainVal = 'main.';\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  };\n  CalendarBase.prototype.getWeek = function (d) {\n    var currentDate = new Date(this.checkValue(d)).valueOf();\n    var date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  };\n  CalendarBase.prototype.setStartDate = function (date, time) {\n    var tzOffset = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  };\n  CalendarBase.prototype.addMonths = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  };\n  CalendarBase.prototype.addYears = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  };\n  CalendarBase.prototype.getIdValue = function (e, element) {\n    var eve;\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    };\n    // eslint-disable-next-line radix\n    var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    var date = this.globalize.parseDate(dateString, dateFormatOptions);\n    var value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value);\n    //return this.globalize.parseDate(dateString, dateFormatOptions);\n  };\n  CalendarBase.prototype.adjustLongHeaderSize = function () {\n    removeClass([this.element], DAYHEADERLONG);\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  };\n  CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n    var element = node || e.currentTarget;\n    this.isDateSelected = false;\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        var copyValues = this.copyValues(values);\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n      this.currentDate = new Date(this.checkValue(date));\n    }\n    var tableBodyElement = closest(element, '.' + ROOT);\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n    if (multiSelection) {\n      var copyValues = this.copyValues(values);\n      var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n      for (var index = 0; index < collection.length; index++) {\n        var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n        for (var i = 0; i < copyValues.length; i++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(date, formatOptions);\n          var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n          if (localDateString === tempDateString) {\n            var index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n    this.isDateSelected = true;\n  };\n  CalendarBase.prototype.checkPresentDate = function (dates, values) {\n    var previousValue = false;\n    if (!isNullOrUndefined(values)) {\n      for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n    return previousValue;\n  };\n  CalendarBase.prototype.setAriaActiveDescendant = function () {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  };\n  CalendarBase.prototype.previousIconHandler = function (disabled) {\n    if (disabled) {\n      EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n      addClass([this.previousIcon], '' + DISABLED);\n      addClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.renderDayCellEvent = function (args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n  CalendarBase.prototype.navigatedEvent = function (eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  };\n  CalendarBase.prototype.triggerNavigate = function (event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  };\n  CalendarBase.prototype.nextIconHandler = function (disabled) {\n    if (disabled) {\n      EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n      addClass([this.nextIcon], DISABLED);\n      addClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n  CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n    var start = endDate.getFullYear();\n    var end;\n    var result;\n    end = start;\n    result = 0;\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.isMinMaxRange = function (date) {\n    return +date >= +this.min && +date <= +this.max;\n  };\n  CalendarBase.prototype.isMonthYearRange = function (date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  };\n  CalendarBase.prototype.compareYear = function (start, end) {\n    return this.compare(start, end, 0);\n  };\n  CalendarBase.prototype.compareDecade = function (start, end) {\n    return this.compare(start, end, 10);\n  };\n  CalendarBase.prototype.shiftArray = function (array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  };\n  CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n    var column = i;\n    var value = new Date(+date);\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n      var rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n    date.setDate(date.getDate() + column);\n  };\n  CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n    var value = new Date(date.setDate(date.getDate() + column));\n    var collection = [];\n    var isDisabled = false;\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      var tdEles = void 0;\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n      collection = tdEles.filter(function (element) {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n    return isDisabled;\n  };\n  CalendarBase.prototype.getMaxDays = function (d) {\n    var date;\n    var tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    var month = tmpDate.getMonth();\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n    return date - 1;\n  };\n  CalendarBase.prototype.setDateDecade = function (date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.setDateYear = function (date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n  CalendarBase.prototype.compareMonth = function (start, end) {\n    var result;\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n    return result;\n  };\n  CalendarBase.prototype.checkValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n  CalendarBase.prototype.checkView = function () {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  };\n  CalendarBase.prototype.getDate = function (date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n    return date;\n  };\n  __decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n  __decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n  __decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n  __decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n  __decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n  __decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n  __decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n  __decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n  __decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n  __decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n  CalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n  return CalendarBase;\n}(Component);\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */function (_super) {\n  __extends(Calendar, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Calendar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.render = function () {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var tempValues = [];\n      var copyValues = [];\n      for (var limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      for (var index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            var copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n    this.validateDate();\n    this.minMaxUpdate();\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n    _super.prototype.render.call(this);\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n    this.renderComplete();\n  };\n  Calendar.prototype.setEnable = function (enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  };\n  Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  };\n  Calendar.prototype.isDayLightSaving = function () {\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n  Calendar.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var serverTimezoneDiff = offsetValue;\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  };\n  Calendar.prototype.formResetHandler = function () {\n    this.setProperties({\n      value: null\n    }, true);\n  };\n  Calendar.prototype.validateDate = function () {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n    _super.prototype.validateDate.call(this, this.value);\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n  Calendar.prototype.minMaxUpdate = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        _super.prototype.minMaxUpdate.call(this, this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          _super.prototype.minMaxUpdate.call(this, this.max);\n        }\n      }\n    } else {\n      _super.prototype.minMaxUpdate.call(this, this.value);\n    }\n  };\n  Calendar.prototype.generateTodayVal = function (value) {\n    var tempValue = new Date();\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n    }\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n    return tempValue;\n  };\n  Calendar.prototype.todayButtonClick = function (e) {\n    if (this.showTodayButton) {\n      var tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n      _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n    }\n  };\n  Calendar.prototype.keyActionHandle = function (e) {\n    _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.preRender = function () {\n    var _this = this;\n    this.changeHandler = function (e) {\n      _this.triggerChange(e);\n    };\n    this.checkView();\n    _super.prototype.preRender.call(this, this.value);\n  };\n  /**\n   * @returns {void}\n    */\n  Calendar.prototype.createContent = function () {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n    _super.prototype.createContent.call(this);\n  };\n  Calendar.prototype.minMaxDate = function (localDate) {\n    return _super.prototype.minMaxDate.call(this, localDate);\n  };\n  Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n    _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n  };\n  Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate) {\n    var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n    if (this.isMultiSelection) {\n      _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n    }\n    return tempDays;\n  };\n  Calendar.prototype.renderYears = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderYears.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  };\n  Calendar.prototype.renderDecades = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderDecades.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  };\n  Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler();\n  };\n  Calendar.prototype.clickHandler = function (e) {\n    var eve = e.currentTarget;\n    this.isPopupClicked = true;\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n        copyValues.push(this.getIdValue(e, null));\n        this.setProperties({\n          values: copyValues\n        }, true);\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n    var storeView = this.currentView();\n    _super.prototype.clickHandler.call(this, e, this.value);\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  };\n  Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n    _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n  Calendar.prototype.getModuleName = function () {\n    _super.prototype.getModuleName.call(this);\n    return 'calendar';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n  Calendar.prototype.getPersistData = function () {\n    _super.prototype.getPersistData.call(this);\n    var keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n  Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n            this.update();\n          }\n          break;\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              var copyValues = this.copyValues(this.values);\n              for (var index = 0; index < copyValues.length; index++) {\n                var tempDate = copyValues[index];\n                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n              this.setProperties({\n                values: copyValues\n              }, true);\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n          break;\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n          break;\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n          break;\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n      }\n    }\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n  Calendar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n    */\n  Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n    this.minMaxUpdate();\n    _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n    */\n  Calendar.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.addDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, true);\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n    */\n  Calendar.prototype.removeDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var copyValues = this.copyValues(this.values);\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n        for (var index = 0; index < tempDates.length; index++) {\n          for (var i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n  Calendar.prototype.setTodayDate = function (date) {\n    var todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n    _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n  };\n  Calendar.prototype.update = function () {\n    this.validateDate();\n    this.minMaxUpdate();\n    _super.prototype.setValueUpdate.call(this);\n  };\n  Calendar.prototype.selectDate = function (e, date, element) {\n    _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Calendar.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n      this.previousDate = new Date(+this.value);\n    }\n  };\n  Calendar.prototype.triggerChange = function (e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    }\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  };\n  __decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n  __decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n  __decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n  __decorate([Event()], Calendar.prototype, \"change\", void 0);\n  Calendar = __decorate([NotifyPropertyChanges], Calendar);\n  return Calendar;\n}(CalendarBase);\nexport { Calendar };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","cldrData","getDefaultDateObject","rippleEffect","removeClass","detach","closest","addClass","attributes","getValue","getUniqueID","extend","Browser","Property","Event","isNullOrUndefined","throwError","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createElement","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","select","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","id","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","disabled","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","tempValue","formatOptions","calendar","getDateVal","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","currentTarget","getIdValue","islamicDate","getIslamicDate","toGregorian","switchView","remove","requiredModules","modules","args","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","undefined","copyValues","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","indexOf","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","enabled","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-calendars/src/calendar/calendar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '' } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (var days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                copyValues.push(this.getIdValue(e, null));\n                this.setProperties({ values: copyValues }, true);\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\nexport { Calendar };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}