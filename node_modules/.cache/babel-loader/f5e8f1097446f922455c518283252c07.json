{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */function (_super) {\n  __extends(Year, _super);\n  function Year(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.viewClass = 'e-year-view';\n    _this.isInverseTableSelect = false;\n    _this.yearEventModule = null;\n    return _this;\n  }\n  Year.prototype.getModuleName = function () {\n    return 'year';\n  };\n  Year.prototype.renderLayout = function (className) {\n    if (this.parent.resourceBase) {\n      this.parent.resourceBase.generateResourceLevels([{\n        renderDates: this.parent.activeView.renderDates\n      }]);\n    }\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n    addClass([this.element], [this.viewClass, viewTypeClass, className]);\n    this.renderPanel(className);\n    var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n    this.element.appendChild(calendarTable);\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    var calendarTBody = calendarTable.querySelector('tbody');\n    this.rowCount = this.getRowColumnCount('row');\n    this.columnCount = this.getRowColumnCount('column');\n    this.renderHeader(calendarTBody);\n    this.renderContent(calendarTBody);\n    if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n      this.generateColumnLevels();\n      this.renderResourceMobileLayout();\n    }\n    this.wireEvents(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll');\n    this.parent.notify(event.contentReady, {});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Year.prototype.renderHeader = function (headerWrapper) {};\n  Year.prototype.renderContent = function (content) {\n    var tr = createElement('tr');\n    content.appendChild(tr);\n    var td = createElement('td');\n    tr.appendChild(td);\n    this.element.querySelector('tbody').appendChild(tr);\n    var contentWrapper = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var calendarTable = this.createTableLayout('e-calendar-table');\n    contentWrapper.appendChild(calendarTable);\n    var cTr = createElement('tr');\n    calendarTable.querySelector('tbody').appendChild(cTr);\n    var cTd = createElement('td');\n    cTr.appendChild(cTd);\n    var calendarWrapper = createElement('div', {\n      className: 'e-calendar-wrapper'\n    });\n    cTd.appendChild(calendarWrapper);\n    var months = this.getMonths();\n    for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n      var month = months_1[_i];\n      var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n      var calendarElement = createElement('div', {\n        className: 'e-month-calendar e-calendar',\n        attrs: {\n          'data-role': 'calendar'\n        }\n      });\n      calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n      calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n      calendarWrapper.appendChild(calendarElement);\n    }\n  };\n  Year.prototype.renderCalendarHeader = function (currentDate) {\n    var headerWrapper = createElement('div', {\n      className: 'e-header e-month'\n    });\n    var headerContent = createElement('div', {\n      className: 'e-day e-title',\n      innerHTML: this.getMonthName(currentDate)\n    });\n    headerWrapper.appendChild(headerContent);\n    this.parent.trigger(event.renderCell, {\n      elementType: 'headerCells',\n      element: headerContent,\n      date: currentDate\n    });\n    return headerWrapper;\n  };\n  Year.prototype.renderCalendarContent = function (currentDate) {\n    var dateCollection = this.getMonthDates(currentDate);\n    var contentWrapper = createElement('div', {\n      className: 'e-content e-month'\n    });\n    var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n    contentWrapper.appendChild(contentTable);\n    var thead = createElement('thead', {\n      className: 'e-week-header'\n    });\n    var tr = createElement('tr');\n    var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('th'));\n    }\n    for (var i = 0; i < util.WEEK_LENGTH; i++) {\n      tr.appendChild(createElement('th', {\n        innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()]\n      }));\n      currentWeek = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n    }\n    thead.appendChild(tr);\n    prepend([thead], contentTable);\n    var tbody = contentTable.querySelector('tbody');\n    while (dateCollection.length > 0) {\n      var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n      var tr_1 = createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n      if (this.parent.activeViewOptions.showWeekNumber) {\n        var weekNumber = this.parent.getWeekNumberContent(weekDates);\n        var td = createElement('td', {\n          className: 'e-week-number',\n          attrs: {\n            'role': 'gridcell',\n            'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber\n          },\n          innerHTML: weekNumber\n        });\n        tr_1.appendChild(td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'weekNumberCells',\n          element: td\n        });\n      }\n      for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n        var date = weekDates_1[_i];\n        var td = createElement('td', {\n          className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n          attrs: {\n            'role': 'gridcell',\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        var span = createElement('span', {\n          className: 'e-day',\n          innerHTML: this.parent.globalize.formatDate(date, {\n            skeleton: 'd',\n            calendar: this.parent.getCalendarMode()\n          }),\n          attrs: {\n            title: this.parent.globalize.formatDate(date, {\n              type: 'date',\n              skeleton: 'full'\n            })\n          }\n        });\n        td.appendChild(span);\n        var classList = [];\n        if (currentDate.getMonth() !== date.getMonth()) {\n          classList.push(cls.OTHERMONTH_CLASS);\n        }\n        if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n          classList = classList.concat(['e-today', 'e-selected']);\n        }\n        if (classList.length > 0) {\n          addClass([td], classList);\n        }\n        tr_1.appendChild(td);\n        this.wireEvents(td, 'cell');\n        this.parent.trigger(event.renderCell, {\n          elementType: 'workCells',\n          element: td,\n          date: date\n        });\n      }\n      tbody.appendChild(tr_1);\n    }\n    return contentWrapper;\n  };\n  Year.prototype.createTableColGroup = function (count) {\n    var colGroupEle = createElement('colgroup');\n    for (var i = 0; i < count; i++) {\n      colGroupEle.appendChild(createElement('col'));\n    }\n    return colGroupEle;\n  };\n  Year.prototype.getMonthName = function (date) {\n    var month = this.parent.globalize.formatDate(date, {\n      format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(month, 'multiple');\n  };\n  Year.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.uiStateValues.isGroupAdaptive) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n      }\n    } else {\n      colLevels.push(level);\n    }\n    colLevels.pop();\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n  // eslint-disable-next-line max-len\n  Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n    if (startHour === void 0) {\n      startHour = this.parent.workHours.start;\n    }\n    if (endHour === void 0) {\n      endHour = this.parent.workHours.end;\n    }\n    var dateCol = [{\n      date: renderDates[0],\n      type: 'dateHeader',\n      className: [cls.HEADER_CELLS_CLASS],\n      colSpan: 1,\n      workDays: workDays,\n      startHour: new Date(+this.parent.globalize.parseDate(startHour, {\n        skeleton: 'Hm'\n      })),\n      endHour: new Date(+this.parent.globalize.parseDate(endHour, {\n        skeleton: 'Hm'\n      }))\n    }];\n    return dateCol;\n  };\n  Year.prototype.getMonthDates = function (date) {\n    var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n    var endDate = util.addDays(new Date(+startDate), 6 * util.WEEK_LENGTH);\n    var dateCollection = [];\n    for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n      dateCollection.push(util.resetTime(new Date(start)));\n    }\n    return dateCollection;\n  };\n  Year.prototype.getRowColumnCount = function (type) {\n    var months = this.getMonths();\n    var year = this.parent.selectedDate.getFullYear();\n    var monthDaysCount = [];\n    for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n      var month = months_2[_i];\n      monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n    }\n    var maxCount = Math.max.apply(Math, monthDaysCount);\n    var count;\n    if (type === 'row') {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n    } else {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n    }\n    return count;\n  };\n  Year.prototype.isCurrentDate = function (date) {\n    return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n  };\n  Year.prototype.getMonths = function () {\n    var _this = this;\n    // eslint-disable-next-line prefer-spread\n    return Array.apply(null, {\n      length: this.parent.activeViewOptions.monthsCount\n    }).map(function (value, index) {\n      return _this.parent.firstMonthOfYear + index;\n    });\n  };\n  Year.prototype.onCellClick = function (e) {\n    var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n    var startDate = this.parent.getDateFromElement(target);\n    this.parent.activeCellsData = this.parent.getCellDetails(target);\n    var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n    if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n      this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n      var activeDate = this.parent.activeCellsData.startTime.getTime();\n      var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n      var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n      var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n      this.parent.selectCell(selectedCell);\n      this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n    } else {\n      var endDate = util.addDays(new Date(startDate.getTime()), 1);\n      var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n      var moreEventArgs = {\n        date: startDate,\n        event: filteredEvents,\n        element: e.target\n      };\n      if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n        target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n      }\n      this.parent.activeCellsData = this.parent.getCellDetails(target);\n      this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n    }\n  };\n  Year.prototype.onContentScroll = function (e) {\n    var target = e.target;\n    var headerWrapper = this.getDatesHeaderElement();\n    if (headerWrapper) {\n      headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n    }\n    var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var scrollTopElement = this.element.querySelector(scrollTopSelector);\n    if (scrollTopElement) {\n      scrollTopElement.scrollTop = target.scrollTop;\n    }\n    this.setPersistence();\n  };\n  Year.prototype.onScrollUiUpdate = function (args) {\n    var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n    var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n    if (headerWrapper) {\n      height -= headerWrapper.offsetHeight;\n    }\n    var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (contentWrapper) {\n      contentWrapper.style.height = formatUnit(height);\n    }\n    if (!this.parent.isAdaptive && headerWrapper) {\n      var scrollBarWidth = util.getScrollBarWidth();\n      if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n        headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n      } else {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n        headerWrapper.style[args.cssProperties.padding] = '';\n      }\n    }\n    this.setColWidth(this.getContentAreaElement());\n    var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var leftPanelElement = this.element.querySelector(leftPanelSelector);\n    if (leftPanelElement) {\n      var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n      leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n    }\n    this.retainScrollPosition();\n  };\n  Year.prototype.getStartDate = function () {\n    return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n  };\n  Year.prototype.getEndDate = function () {\n    return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n  };\n  Year.prototype.startDate = function () {\n    return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n  };\n  Year.prototype.endDate = function () {\n    return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) : this.getEndDate();\n  };\n  Year.prototype.getEndDateFromStartDate = function (start) {\n    var date = new Date(start.getTime());\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      date = util.lastDateOfMonth(date);\n    }\n    return util.addDays(new Date(date.getTime()), 1);\n  };\n  Year.prototype.getNextPreviousDate = function (type) {\n    return util.addYears(this.parent.selectedDate, type === 'next' ? 1 : -1);\n  };\n  Year.prototype.getDateRangeText = function () {\n    var startDate = this.getStartDate();\n    var endDate = this.getEndDate();\n    if (startDate.getFullYear() !== endDate.getFullYear()) {\n      return this.parent.globalize.formatDate(startDate, {\n        skeleton: 'yMMM'\n      }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n        skeleton: 'yMMM'\n      });\n    } else {\n      return this.parent.globalize.formatDate(this.parent.selectedDate, {\n        skeleton: 'y'\n      });\n    }\n  };\n  Year.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n  };\n  Year.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n    }\n  };\n  Year.prototype.onDataReady = function (args) {\n    this.yearEventModule = new YearEvent(this.parent);\n    this.yearEventModule.renderAppointments();\n    this.parent.notify(event.eventsLoaded, args);\n  };\n  Year.prototype.wireEvents = function (element, type) {\n    if (type === 'cell') {\n      if (this.parent.currentView !== 'TimelineYear') {\n        EventHandler.add(element, 'click', this.onCellClick, this);\n      } else {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n          EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n      }\n    } else {\n      EventHandler.add(element, 'scroll', this.onContentScroll, this);\n    }\n  };\n  Year.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    if (this.element) {\n      var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n      if (contentScroll) {\n        EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n      }\n      if (this.yearEventModule) {\n        this.yearEventModule.destroy();\n        this.yearEventModule = null;\n      }\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return Year;\n}(ViewBase);\nexport { Year };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","createElement","addClass","closest","prepend","ViewBase","YearEvent","util","event","cls","Year","_super","parent","_this","call","viewClass","isInverseTableSelect","yearEventModule","getModuleName","renderLayout","className","resourceBase","generateResourceLevels","renderDates","activeView","setPanel","TABLE_WRAP_CLASS","viewTypeClass","activeViewOptions","orientation","element","renderPanel","calendarTable","createTableLayout","OUTER_TABLE_CLASS","appendChild","querySelector","setAttribute","calendarTBody","rowCount","getRowColumnCount","columnCount","renderHeader","renderContent","currentView","uiStateValues","isGroupAdaptive","generateColumnLevels","renderResourceMobileLayout","wireEvents","CONTENT_WRAP_CLASS","notify","contentReady","headerWrapper","content","tr","td","contentWrapper","cTr","cTd","calendarWrapper","months","getMonths","_i","months_1","length","month","currentMonth","Date","selectedDate","getFullYear","calendarElement","attrs","renderCalendarHeader","renderCalendarContent","currentDate","headerContent","innerHTML","getMonthName","trigger","renderCell","elementType","date","dateCollection","getMonthDates","contentTable","CONTENT_TABLE_CLASS","thead","currentWeek","getWeekFirstDate","firstDateOfMonth","firstDayOfWeek","showWeekNumber","i","WEEK_LENGTH","getDayNames","getDay","getTime","MS_PER_DAY","tbody","weekDates","splice","tr_1","weekNumber","getWeekNumberContent","localeObj","getConstant","weekDates_1","WORK_CELLS_CLASS","toString","span","globalize","formatDate","skeleton","calendar","getCalendarMode","title","type","classList","getMonth","push","OTHERMONTH_CLASS","isCurrentDate","concat","createTableColGroup","count","colGroupEle","format","dateFormat","capitalizeFirstWord","colLevels","level","getDateSlots","workDays","group","resources","resourceLevel","lastResourceLevel","groupIndex","pop","startHour","endHour","workHours","start","end","dateCol","HEADER_CELLS_CLASS","colSpan","parseDate","startDate","endDate","addDays","resetTime","year","monthDaysCount","months_2","getDate","maxCount","Math","max","apply","monthsCount","map","value","index","firstMonthOfYear","onCellClick","e","target","getDateFromElement","activeCellsData","getCellDetails","isPrevious","getStartDate","getEndDate","changeDate","getNextPreviousDate","activeDate","startTime","inRange","dateAttr","selectedCell","selectCell","filteredEvents","eventBase","filterEvents","moreEventArgs","contains","getAttribute","quickPopup","moreEventClick","onContentScroll","getDatesHeaderElement","firstElementChild","scrollLeft","scrollTopSelector","MONTH_HEADER_WRAPPER","RESOURCE_COLUMN_WRAP_CLASS","scrollTopElement","scrollTop","setPersistence","onScrollUiUpdate","args","height","offsetHeight","getHeaderBarHeight","DATE_HEADER_CONTAINER_CLASS","style","isAdaptive","scrollBarWidth","getScrollBarWidth","offsetWidth","clientWidth","cssProperties","border","padding","setColWidth","getContentAreaElement","leftPanelSelector","leftPanelElement","isYScroll","scrollWidth","retainScrollPosition","addMonths","getWeekLastDate","getEndDateFromStartDate","lastDateOfMonth","addYears","getDateRangeText","addEventListener","on","scrollUiUpdate","dataReady","onDataReady","removeEventListener","off","renderAppointments","eventsLoaded","add","workCellAction","cellMouseDown","cellClick","cellDblClick","destroy","isDestroyed","contentScroll","remove"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/year.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */ (function (_super) {\n    __extends(Year, _super);\n    function Year(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-year-view';\n        _this.isInverseTableSelect = false;\n        _this.yearEventModule = null;\n        return _this;\n    }\n    Year.prototype.getModuleName = function () {\n        return 'year';\n    };\n    Year.prototype.renderLayout = function (className) {\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.generateResourceLevels([{ renderDates: this.parent.activeView.renderDates }]);\n        }\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n        addClass([this.element], [this.viewClass, viewTypeClass, className]);\n        this.renderPanel(className);\n        var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n        this.element.appendChild(calendarTable);\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        var calendarTBody = calendarTable.querySelector('tbody');\n        this.rowCount = this.getRowColumnCount('row');\n        this.columnCount = this.getRowColumnCount('column');\n        this.renderHeader(calendarTBody);\n        this.renderContent(calendarTBody);\n        if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n            this.generateColumnLevels();\n            this.renderResourceMobileLayout();\n        }\n        this.wireEvents(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll');\n        this.parent.notify(event.contentReady, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Year.prototype.renderHeader = function (headerWrapper) { };\n    Year.prototype.renderContent = function (content) {\n        var tr = createElement('tr');\n        content.appendChild(tr);\n        var td = createElement('td');\n        tr.appendChild(td);\n        this.element.querySelector('tbody').appendChild(tr);\n        var contentWrapper = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        td.appendChild(contentWrapper);\n        var calendarTable = this.createTableLayout('e-calendar-table');\n        contentWrapper.appendChild(calendarTable);\n        var cTr = createElement('tr');\n        calendarTable.querySelector('tbody').appendChild(cTr);\n        var cTd = createElement('td');\n        cTr.appendChild(cTd);\n        var calendarWrapper = createElement('div', { className: 'e-calendar-wrapper' });\n        cTd.appendChild(calendarWrapper);\n        var months = this.getMonths();\n        for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n            var month = months_1[_i];\n            var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n            var calendarElement = createElement('div', {\n                className: 'e-month-calendar e-calendar',\n                attrs: { 'data-role': 'calendar' }\n            });\n            calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n            calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n            calendarWrapper.appendChild(calendarElement);\n        }\n    };\n    Year.prototype.renderCalendarHeader = function (currentDate) {\n        var headerWrapper = createElement('div', { className: 'e-header e-month' });\n        var headerContent = createElement('div', { className: 'e-day e-title', innerHTML: this.getMonthName(currentDate) });\n        headerWrapper.appendChild(headerContent);\n        this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: headerContent, date: currentDate });\n        return headerWrapper;\n    };\n    Year.prototype.renderCalendarContent = function (currentDate) {\n        var dateCollection = this.getMonthDates(currentDate);\n        var contentWrapper = createElement('div', { className: 'e-content e-month' });\n        var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n        contentWrapper.appendChild(contentTable);\n        var thead = createElement('thead', { className: 'e-week-header' });\n        var tr = createElement('tr');\n        var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('th'));\n        }\n        for (var i = 0; i < util.WEEK_LENGTH; i++) {\n            tr.appendChild(createElement('th', { innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()] }));\n            currentWeek = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n        }\n        thead.appendChild(tr);\n        prepend([thead], contentTable);\n        var tbody = contentTable.querySelector('tbody');\n        while (dateCollection.length > 0) {\n            var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n            var tr_1 = createElement('tr', { attrs: { 'role': 'row' } });\n            if (this.parent.activeViewOptions.showWeekNumber) {\n                var weekNumber = this.parent.getWeekNumberContent(weekDates);\n                var td = createElement('td', {\n                    className: 'e-week-number',\n                    attrs: { 'role': 'gridcell', 'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber },\n                    innerHTML: weekNumber\n                });\n                tr_1.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'weekNumberCells', element: td });\n            }\n            for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n                var date = weekDates_1[_i];\n                var td = createElement('td', {\n                    className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n                    attrs: { 'role': 'gridcell', 'aria-selected': 'false', 'data-date': date.getTime().toString() }\n                });\n                var span = createElement('span', {\n                    className: 'e-day', innerHTML: this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }),\n                    attrs: { title: this.parent.globalize.formatDate(date, { type: 'date', skeleton: 'full' }) }\n                });\n                td.appendChild(span);\n                var classList = [];\n                if (currentDate.getMonth() !== date.getMonth()) {\n                    classList.push(cls.OTHERMONTH_CLASS);\n                }\n                if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n                    classList = classList.concat(['e-today', 'e-selected']);\n                }\n                if (classList.length > 0) {\n                    addClass([td], classList);\n                }\n                tr_1.appendChild(td);\n                this.wireEvents(td, 'cell');\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n            }\n            tbody.appendChild(tr_1);\n        }\n        return contentWrapper;\n    };\n    Year.prototype.createTableColGroup = function (count) {\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < count; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        return colGroupEle;\n    };\n    Year.prototype.getMonthName = function (date) {\n        var month = this.parent.globalize.formatDate(date, {\n            format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n            calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(month, 'multiple');\n    };\n    Year.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.uiStateValues.isGroupAdaptive) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        colLevels.pop();\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    // eslint-disable-next-line max-len\n    Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n        if (startHour === void 0) { startHour = this.parent.workHours.start; }\n        if (endHour === void 0) { endHour = this.parent.workHours.end; }\n        var dateCol = [{\n                date: renderDates[0], type: 'dateHeader', className: [cls.HEADER_CELLS_CLASS], colSpan: 1, workDays: workDays,\n                startHour: new Date(+this.parent.globalize.parseDate(startHour, { skeleton: 'Hm' })),\n                endHour: new Date(+this.parent.globalize.parseDate(endHour, { skeleton: 'Hm' }))\n            }];\n        return dateCol;\n    };\n    Year.prototype.getMonthDates = function (date) {\n        var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n        var endDate = util.addDays(new Date(+startDate), (6 * util.WEEK_LENGTH));\n        var dateCollection = [];\n        for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n            dateCollection.push(util.resetTime(new Date(start)));\n        }\n        return dateCollection;\n    };\n    Year.prototype.getRowColumnCount = function (type) {\n        var months = this.getMonths();\n        var year = this.parent.selectedDate.getFullYear();\n        var monthDaysCount = [];\n        for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n            var month = months_2[_i];\n            monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n        }\n        var maxCount = Math.max.apply(Math, monthDaysCount);\n        var count;\n        if (type === 'row') {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n        }\n        else {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n        }\n        return count;\n    };\n    Year.prototype.isCurrentDate = function (date) {\n        return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n    };\n    Year.prototype.getMonths = function () {\n        var _this = this;\n        // eslint-disable-next-line prefer-spread\n        return Array.apply(null, { length: this.parent.activeViewOptions.monthsCount }).map(function (value, index) {\n            return _this.parent.firstMonthOfYear + index;\n        });\n    };\n    Year.prototype.onCellClick = function (e) {\n        var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n        var startDate = this.parent.getDateFromElement(target);\n        this.parent.activeCellsData = this.parent.getCellDetails(target);\n        var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n        if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n            this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n            var activeDate = this.parent.activeCellsData.startTime.getTime();\n            var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n            var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n            var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n            this.parent.selectCell(selectedCell);\n            this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n        }\n        else {\n            var endDate = util.addDays(new Date(startDate.getTime()), 1);\n            var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n            var moreEventArgs = { date: startDate, event: filteredEvents, element: e.target };\n            if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n                target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n            }\n            this.parent.activeCellsData = this.parent.getCellDetails(target);\n            this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n        }\n    };\n    Year.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var headerWrapper = this.getDatesHeaderElement();\n        if (headerWrapper) {\n            headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n        }\n        var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var scrollTopElement = this.element.querySelector(scrollTopSelector);\n        if (scrollTopElement) {\n            scrollTopElement.scrollTop = target.scrollTop;\n        }\n        this.setPersistence();\n    };\n    Year.prototype.onScrollUiUpdate = function (args) {\n        var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n        var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n        if (headerWrapper) {\n            height -= headerWrapper.offsetHeight;\n        }\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentWrapper) {\n            contentWrapper.style.height = formatUnit(height);\n        }\n        if (!this.parent.isAdaptive && headerWrapper) {\n            var scrollBarWidth = util.getScrollBarWidth();\n            if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n                headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n            }\n            else {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n                headerWrapper.style[args.cssProperties.padding] = '';\n            }\n        }\n        this.setColWidth(this.getContentAreaElement());\n        var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var leftPanelElement = this.element.querySelector(leftPanelSelector);\n        if (leftPanelElement) {\n            var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n            leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n        }\n        this.retainScrollPosition();\n    };\n    Year.prototype.getStartDate = function () {\n        return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n    };\n    Year.prototype.getEndDate = function () {\n        return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n    };\n    Year.prototype.startDate = function () {\n        return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n    };\n    Year.prototype.endDate = function () {\n        return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) : this.getEndDate();\n    };\n    Year.prototype.getEndDateFromStartDate = function (start) {\n        var date = new Date(start.getTime());\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            date = util.lastDateOfMonth(date);\n        }\n        return util.addDays(new Date(date.getTime()), 1);\n    };\n    Year.prototype.getNextPreviousDate = function (type) {\n        return util.addYears(this.parent.selectedDate, ((type === 'next') ? 1 : -1));\n    };\n    Year.prototype.getDateRangeText = function () {\n        var startDate = this.getStartDate();\n        var endDate = this.getEndDate();\n        if (startDate.getFullYear() !== endDate.getFullYear()) {\n            return this.parent.globalize.formatDate(startDate, { skeleton: 'yMMM' }) + ' - ' + this.parent.globalize.formatDate(endDate, { skeleton: 'yMMM' });\n        }\n        else {\n            return this.parent.globalize.formatDate(this.parent.selectedDate, { skeleton: 'y' });\n        }\n    };\n    Year.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n    };\n    Year.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n        }\n    };\n    Year.prototype.onDataReady = function (args) {\n        this.yearEventModule = new YearEvent(this.parent);\n        this.yearEventModule.renderAppointments();\n        this.parent.notify(event.eventsLoaded, args);\n    };\n    Year.prototype.wireEvents = function (element, type) {\n        if (type === 'cell') {\n            if (this.parent.currentView !== 'TimelineYear') {\n                EventHandler.add(element, 'click', this.onCellClick, this);\n            }\n            else {\n                EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n                EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n                if (!this.parent.isAdaptive) {\n                    EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n                }\n            }\n        }\n        else {\n            EventHandler.add(element, 'scroll', this.onContentScroll, this);\n        }\n    };\n    Year.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (contentScroll) {\n                EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n            }\n            if (this.yearEventModule) {\n                this.yearEventModule.destroy();\n                this.yearEventModule = null;\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Year;\n}(ViewBase));\nexport { Year };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}