{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */function (_super) {\n  __extends(Month, _super);\n  function Month(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.dayNameFormat = 'wide';\n    _this.viewClass = 'e-month-view';\n    _this.isInverseTableSelect = false;\n    _this.monthEvent = null;\n    _this.monthDates = {};\n    return _this;\n  }\n  Month.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n    this.parent.on(event.cellClick, this.onCellClick, this);\n  };\n  Month.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n      this.parent.off(event.cellClick, this.onCellClick);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Month.prototype.onDataReady = function (args) {\n    this.monthEvent = new MonthEvent(this.parent);\n    this.monthEvent.renderAppointments();\n    this.parent.notify(event.eventsLoaded, {});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Month.prototype.onCellClick = function (event) {};\n  Month.prototype.onContentScroll = function (e) {\n    this.parent.removeNewEventElement();\n    this.parent.notify(event.virtualScroll, e);\n    this.scrollTopPanel(e.target);\n    this.scrollLeftPanel(e.target);\n    this.setPersistence();\n  };\n  Month.prototype.scrollLeftPanel = function (target) {\n    var leftPanel = this.getLeftPanelElement();\n    if (leftPanel) {\n      leftPanel.scrollTop = target.scrollTop;\n    }\n  };\n  Month.prototype.getLeftPanelElement = function () {\n    return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n  };\n  Month.prototype.onScrollUIUpdate = function (args) {\n    var headerHeight = this.getHeaderBarHeight();\n    var header = this.getDatesHeaderElement();\n    var content = this.getContentAreaElement();\n    var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n    var leftPanel = this.getLeftPanelElement();\n    if (this.parent.height !== 'auto') {\n      this.setContentHeight(content, leftPanel, height);\n    }\n    var scrollBarWidth = util.getScrollBarWidth();\n    header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n    header.style[args.cssProperties.rtlPadding] = '';\n    if (content.offsetWidth - content.clientWidth > 0) {\n      header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n      header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n    } else {\n      header.firstElementChild.style[args.cssProperties.border] = '';\n      header.style[args.cssProperties.padding] = '';\n    }\n    this.setColWidth(content);\n    if (args.scrollPosition) {\n      if (leftPanel) {\n        leftPanel.scrollTop = args.scrollPosition.top;\n      }\n      content.scrollTop = args.scrollPosition.top;\n      content.scrollLeft = args.scrollPosition.left;\n    } else {\n      var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"' + this.parent.selectedDate.getTime().toString() + '\"]');\n      if (!isNullOrUndefined(headerCell)) {\n        content.scrollLeft = !this.parent.enableRtl ? headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n      } else {\n        content.scrollLeft = 0;\n      }\n    }\n    this.retainScrollPosition();\n  };\n  Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n    content.style.height = 'auto';\n    if (this.parent.currentView === 'Month') {\n      content.style.height = formatUnit(height);\n    }\n    if (leftPanelElement) {\n      if (this.parent.currentView === 'MonthAgenda') {\n        height = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n      }\n      leftPanelElement.style.height = 'auto';\n      leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n    }\n  };\n  Month.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.currentView === 'MonthAgenda') {\n        colLevels = [level];\n      }\n      if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        colLevels = [this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays)];\n      }\n    } else {\n      colLevels.push(level);\n    }\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n  Month.prototype.getDateSlots = function (renderDates, workDays) {\n    var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n    var dateSlots = [];\n    var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n    for (var col = 0; col < count; col++) {\n      var classList = [cls.HEADER_CELLS_CLASS];\n      var currentDateIndex = renderDates.slice(0, count).map(function (date) {\n        return date.getDay();\n      });\n      if (isCurrentMonth && currentDateIndex.indexOf(this.parent.getCurrentTime().getDay()) === col) {\n        classList.push(cls.CURRENT_DAY_CLASS);\n      }\n      dateSlots.push({\n        date: renderDates[col],\n        type: 'monthDay',\n        className: classList,\n        colSpan: 1,\n        workDays: workDays\n      });\n    }\n    return dateSlots;\n  };\n  Month.prototype.getDayNameFormat = function () {\n    if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n      return 'abbreviated';\n    }\n    return 'wide';\n  };\n  Month.prototype.renderLayout = function (type) {\n    this.dayNameFormat = this.getDayNameFormat();\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var clsList = [this.viewClass];\n    clsList.push(type);\n    if (this.parent.activeViewOptions.group.byDate) {\n      clsList.push('e-by-date');\n    }\n    if (this.parent.activeViewOptions.allowVirtualScrolling) {\n      clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n    }\n    if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n      clsList.push(cls.IGNORE_WHITESPACE);\n    }\n    addClass([this.element], clsList);\n    this.renderPanel(type);\n    this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    this.colLevels = this.generateColumnLevels();\n    this.renderHeader();\n    this.renderContent();\n    var target = this.parent.currentView === 'MonthAgenda' ? this.parent.activeView.getPanel() : this.parent.element;\n    if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n      this.renderResourceMobileLayout();\n    }\n    this.parent.notify(event.contentReady, {});\n    if (this.parent.uiStateValues.isCustomMonth) {\n      this.parent.uiStateValues.isCustomMonth = false;\n    }\n  };\n  Month.prototype.refreshHeader = function () {\n    remove(this.element.querySelector('tbody tr'));\n    this.renderHeader();\n    this.parent.notify(event.contentReady, {});\n  };\n  Month.prototype.wireCellEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n  Month.prototype.renderHeader = function () {\n    var tr = createElement('tr');\n    this.renderLeftIndent(tr);\n    var dateTd = createElement('td');\n    dateTd.appendChild(this.renderDatesHeader());\n    tr.appendChild(dateTd);\n    prepend([tr], this.element.querySelector('tbody'));\n  };\n  Month.prototype.renderLeftIndent = function (tr) {\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('td', {\n        className: 'e-left-indent'\n      }));\n    }\n  };\n  Month.prototype.renderContent = function () {\n    var tr = createElement('tr');\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(this.renderWeekNumberContent());\n    }\n    var workTd = createElement('td');\n    var wrap = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    var contentArea = this.renderContentArea();\n    if (this.parent.currentView === 'Month') {\n      wrap.appendChild(contentArea);\n    } else {\n      var monthAgendaWrapper = createElement('div', {\n        className: cls.TABLE_CONTAINER_CLASS\n      });\n      monthAgendaWrapper.appendChild(contentArea);\n      wrap.appendChild(monthAgendaWrapper);\n    }\n    EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n    workTd.appendChild(wrap);\n    tr.appendChild(workTd);\n    this.element.querySelector('tbody').appendChild(tr);\n    this.renderAppointmentContainer();\n  };\n  Month.prototype.renderWeekNumberContent = function () {\n    var dateCol = this.renderDates.map(function (date) {\n      return new Date(+date);\n    });\n    var td = createElement('td');\n    var contentWrapper = createElement('div', {\n      className: cls.WEEK_NUMBER_WRAPPER_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var contentWrapTable = this.createTableLayout();\n    contentWrapper.appendChild(contentWrapTable);\n    var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n    for (var i = 0, length_1 = this.renderDates.length / noOfDays; i < length_1; i++) {\n      var dates = dateCol.splice(0, noOfDays);\n      var weekNumber = this.parent.getWeekNumberContent(dates);\n      contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n    }\n    return td;\n  };\n  Month.prototype.renderAppointmentContainer = function () {\n    //Here needs to render mobile view appointment details on selected date\n  };\n  Month.prototype.renderDatesHeader = function () {\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    var wrap = createElement('div', {\n      className: cls.DATE_HEADER_WRAP_CLASS\n    });\n    container.appendChild(wrap);\n    var table = this.createTableLayout();\n    this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n    var trEle = createElement('tr');\n    for (var i = 0; i < this.colLevels.length; i++) {\n      var level = this.colLevels[i];\n      var ntr = trEle.cloneNode();\n      for (var j = 0; j < level.length; j++) {\n        var td = level[j];\n        ntr.appendChild(this.createHeaderCell(td));\n      }\n      table.querySelector('tbody').appendChild(ntr);\n    }\n    wrap.appendChild(table);\n    return container;\n  };\n  Month.prototype.createHeaderCell = function (td) {\n    var tdEle = createElement('td');\n    this.addAttributes(td, tdEle);\n    if (td.type === 'monthDay') {\n      var ele = createElement('span', {\n        innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single')\n      });\n      tdEle.appendChild(ele);\n    }\n    if (td.type === 'resourceHeader') {\n      this.setResourceHeaderContent(tdEle, td);\n    }\n    if (td.type === 'dateHeader') {\n      addClass([tdEle], cls.DATE_HEADER_CLASS);\n      tdEle.setAttribute('data-date', td.date.getTime().toString());\n      if (this.parent.activeViewOptions.dateHeaderTemplate) {\n        var cellArgs = {\n          date: td.date,\n          type: td.type\n        };\n        var elementId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n        var templateId = elementId + viewName + 'dateHeaderTemplate';\n        var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false));\n        if (dateTemplate && dateTemplate.length) {\n          append(dateTemplate, tdEle);\n        }\n      } else {\n        var ele = createElement('span', {\n          className: cls.NAVIGATE_CLASS\n        });\n        var skeleton = 'full';\n        var title = this.parent.globalize.formatDate(td.date, {\n          skeleton: skeleton,\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n        var innerText = this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(td.date, {\n          format: 'MMM d',\n          calendar: this.parent.getCalendarMode()\n        }) : this.parent.globalize.formatDate(td.date, {\n          skeleton: 'd',\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        tdEle.appendChild(ele);\n      }\n      this.wireCellEvents(tdEle);\n    }\n    var args = {\n      elementType: td.type,\n      element: tdEle,\n      date: td.date,\n      groupIndex: td.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tdEle;\n  };\n  Month.prototype.getContentSlots = function () {\n    if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n      return [];\n    }\n    var slotDatas = [];\n    var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n      var data = {\n        date: new Date(+renderDate),\n        groupIndex: resData.groupIndex,\n        workDays: resData.workDays,\n        type: 'monthCells',\n        className: classList || [cls.WORK_CELLS_CLASS]\n      };\n      if (!slotDatas[rowIndex]) {\n        slotDatas[rowIndex] = [];\n      }\n      slotDatas[rowIndex].push(data);\n    };\n    var includeResource = this.parent.currentView !== 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0;\n    if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n      for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n        var res = _a[_i];\n        var dates = res.renderDates.map(function (date) {\n          return new Date(+date);\n        });\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n        for (var i = 0; i < res.renderDates.length / count; i++) {\n          var colDates = dates.splice(0, count);\n          for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n            var colDate = colDates_1[_b];\n            prepareSlots(i, colDate, res);\n          }\n        }\n      }\n    } else {\n      var dates = this.renderDates.map(function (date) {\n        return new Date(+date);\n      });\n      var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n      for (var i = 0; i < this.renderDates.length / count; i++) {\n        var colDates = dates.splice(0, count);\n        for (var _c = 0, colDates_2 = colDates; _c < colDates_2.length; _c++) {\n          var colDate = colDates_2[_c];\n          if (includeResource) {\n            var lastRow = this.colLevels[this.colLevels.length - 1];\n            var resourcesTd = lastRow.slice(0, lastRow.length / count);\n            for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n              var clsList = void 0;\n              if (resIndex !== 0) {\n                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n              }\n              prepareSlots(i, colDate, resourcesTd[resIndex], clsList);\n            }\n          } else {\n            prepareSlots(i, colDate, this.colLevels[this.colLevels.length - 1][0]);\n          }\n        }\n      }\n    }\n    return slotDatas;\n  };\n  Month.prototype.updateClassList = function (data) {\n    if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n      data.className.push(cls.OTHERMONTH_CLASS);\n    }\n    if (!this.parent.isMinMaxDate(data.date)) {\n      data.className.push(cls.DISABLE_DATES);\n    }\n    if (this.parent.currentView === 'MonthAgenda' && this.parent.isSelectedDate(data.date)) {\n      data.className.push(cls.SELECTED_CELL_CLASS);\n    }\n  };\n  Month.prototype.isOtherMonth = function (date) {\n    return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n  };\n  Month.prototype.renderContentArea = function () {\n    var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.addAutoHeightClass(tbl);\n    if (this.parent.currentView === 'TimelineMonth') {\n      this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n    }\n    var monthDate = new Date(this.parent.selectedDate.getTime());\n    this.monthDates = {\n      start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n      end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n    };\n    var tBody = tbl.querySelector('tbody');\n    append(this.getContentRows(), tBody);\n    this.wireCellEvents(tBody);\n    return tbl;\n  };\n  Month.prototype.getContentRows = function () {\n    var trows = [];\n    var tr = createElement('tr', {\n      attrs: {\n        role: 'row'\n      }\n    });\n    var td = createElement('td', {\n      attrs: {\n        role: 'gridcell',\n        'aria-selected': 'false'\n      }\n    });\n    var slotDatas = this.getContentSlots();\n    for (var row = 0; row < slotDatas.length; row++) {\n      var ntr = tr.cloneNode();\n      for (var col = 0; col < slotDatas[row].length; col++) {\n        var ntd = this.createContentTd(slotDatas[row][col], td);\n        ntr.appendChild(ntd);\n      }\n      trows.push(ntr);\n    }\n    return trows;\n  };\n  Month.prototype.createContentTd = function (data, td) {\n    var ntd = td.cloneNode();\n    if (data.colSpan) {\n      ntd.setAttribute('colspan', data.colSpan.toString());\n    }\n    this.updateClassList(data);\n    var type = data.type;\n    if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n      data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n      type = 'resourceGroupCells';\n    }\n    if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n      data.className.push(cls.WORKDAY_CLASS);\n    }\n    if (this.isCurrentDate(data.date)) {\n      data.className.push(cls.CURRENTDATE_CLASS);\n    }\n    addClass([ntd], data.className);\n    ntd.setAttribute('data-date', data.date.getTime().toString());\n    if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n      var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : data.groupIndex;\n      ntd.setAttribute('data-group-index', '' + groupIndex);\n    }\n    this.renderDateHeaderElement(data, ntd);\n    if (this.parent.activeViewOptions.cellTemplate) {\n      var args_1 = {\n        date: data.date,\n        type: type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellTemplateName;\n      var templateId = scheduleId + viewName + 'cellTemplate';\n      var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n      append(cellTemplate, ntd);\n    }\n    var args = {\n      elementType: type,\n      element: ntd,\n      date: data.date,\n      groupIndex: data.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return ntd;\n  };\n  Month.prototype.renderDateHeaderElement = function (data, ntd) {\n    if (this.parent.currentView === 'TimelineMonth') {\n      return;\n    }\n    var dateHeader = createElement('div', {\n      className: cls.DATE_HEADER_CLASS\n    });\n    if (this.parent.activeViewOptions.cellHeaderTemplate) {\n      var args = {\n        date: data.date,\n        type: data.type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n      var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n      var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false));\n      append(cellHeaderTemplate, dateHeader);\n    } else {\n      var innerText = this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(data.date, {\n        format: 'MMM d',\n        calendar: this.parent.getCalendarMode()\n      }) : this.parent.globalize.formatDate(data.date, {\n        skeleton: 'd',\n        calendar: this.parent.getCalendarMode()\n      });\n      dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n    }\n    ntd.appendChild(dateHeader);\n    if (this.getModuleName() === 'month') {\n      addClass([dateHeader], cls.NAVIGATE_CLASS);\n      var skeleton = 'full';\n      var announcementText = this.parent.globalize.formatDate(data.date, {\n        skeleton: skeleton,\n        calendar: this.parent.getCalendarMode()\n      });\n      dateHeader.setAttribute('aria-label', announcementText);\n    }\n  };\n  Month.prototype.getMonthStart = function (currentDate) {\n    var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n    var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth || this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n    var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n    return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n  };\n  Month.prototype.getMonthEnd = function (currentDate) {\n    if (this.isCustomMonth()) {\n      var start = this.getMonthStart(currentDate);\n      var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n      return util.addDays(start, numberOfDays - 1);\n    } else {\n      var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n      var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n    }\n  };\n  Month.prototype.isCustomRange = function () {\n    var dates = this.parent.getCurrentViewDates();\n    if (dates && dates.length > 0) {\n      var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n      var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n      return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() && selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n    }\n    return false;\n  };\n  Month.prototype.getRenderDates = function (workDays) {\n    var renderDates = [];\n    var currentDate = util.resetTime(this.parent.selectedDate);\n    var start = this.getMonthStart(currentDate);\n    var monthEnd = this.getMonthEnd(currentDate);\n    do {\n      if (this.parent.activeViewOptions.showWeekend) {\n        renderDates.push(start);\n      } else {\n        if (this.isWorkDay(start, workDays)) {\n          renderDates.push(start);\n        }\n      }\n      start = util.addDays(start, 1);\n      if (start.getHours() > 0) {\n        start = util.resetTime(start);\n      }\n    } while (start.getTime() <= monthEnd.getTime());\n    if (!workDays) {\n      this.renderDates = renderDates;\n    }\n    if (this.parent.headerModule) {\n      this.parent.headerModule.previousNextIconHandler();\n    }\n    return renderDates;\n  };\n  Month.prototype.getNextPreviousDate = function (type) {\n    if (this.isCustomMonth()) {\n      var dates = this.parent.getCurrentViewDates();\n      var date = util.getWeekFirstDate(type === 'next' ? dates[dates.length - 1] : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(date, type === 'next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n    } else {\n      return util.addMonths(this.parent.selectedDate, (type === 'next' ? 1 : -1) * this.parent.activeViewOptions.interval);\n    }\n  };\n  Month.prototype.getStartDate = function () {\n    return this.getMonthStart(this.parent.selectedDate);\n  };\n  Month.prototype.getEndDate = function () {\n    return this.getMonthEnd(this.parent.selectedDate);\n  };\n  Month.prototype.getEndDateFromStartDate = function (start) {\n    return util.addDays(new Date(start.getTime()), 1);\n  };\n  Month.prototype.getDateRangeText = function () {\n    if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n      var startDate = this.parent.selectedDate;\n      var endDate = void 0;\n      var updateCustomRange = false;\n      if (this.isCustomMonth()) {\n        var dates = this.parent.getCurrentViewDates();\n        updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() || dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n        if (updateCustomRange) {\n          startDate = dates[0];\n          endDate = dates[dates.length - 1];\n        }\n      }\n      var isUpdateDateRange = this.parent.currentView !== 'Month' || !this.isCustomMonth();\n      if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n        endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n        if (startDate.getFullYear() === endDate.getFullYear()) {\n          var monthNames = this.parent.globalize.formatDate(startDate, {\n            format: 'MMMM',\n            calendar: this.parent.getCalendarMode()\n          }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n            format: 'MMMM ',\n            calendar: this.parent.getCalendarMode()\n          }) + this.parent.globalize.formatDate(endDate, {\n            skeleton: 'y',\n            calendar: this.parent.getCalendarMode()\n          });\n          return util.capitalizeFirstWord(monthNames, 'single');\n        }\n        var text = this.parent.globalize.formatDate(startDate, {\n          format: 'MMMM',\n          calendar: this.parent.getCalendarMode()\n        }) + ' ' + startDate.getFullYear() + ' - ' + this.parent.globalize.formatDate(endDate, {\n          format: 'MMMM ',\n          calendar: this.parent.getCalendarMode()\n        }) + this.parent.globalize.formatDate(endDate, {\n          skeleton: 'y',\n          calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(text, 'single');\n      }\n      var format = this.parent.activeViewOptions.dateFormat ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n      return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, {\n        format: format,\n        calendar: this.parent.getCalendarMode()\n      }), 'single');\n    }\n    return this.formatDateRange(this.parent.selectedDate);\n  };\n  Month.prototype.getLabelText = function (view) {\n    return this.parent.localeObj.getConstant(view) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    }), 'single');\n  };\n  Month.prototype.createWeekNumberElement = function (text) {\n    var tr = createElement('tr');\n    var td = createElement('td', {\n      className: cls.WEEK_NUMBER_CLASS,\n      attrs: {\n        'title': text ? this.parent.localeObj.getConstant('week') + ' ' + text : ''\n      },\n      innerHTML: text || ''\n    });\n    tr.appendChild(td);\n    var args = {\n      elementType: 'weekNumberCell',\n      element: td\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tr;\n  };\n  Month.prototype.unWireEvents = function () {\n    var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (contentScrollableEle) {\n      EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n    }\n  };\n  Month.prototype.isCustomMonth = function () {\n    return this.parent.currentView === 'Month' && (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n  };\n  Month.prototype.getModuleName = function () {\n    return 'month';\n  };\n  Month.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    if (this.element) {\n      if (this.monthEvent) {\n        this.monthEvent.destroy();\n        this.monthEvent = null;\n      }\n      this.unWireEvents();\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      if (this.parent.scheduleTouchModule) {\n        this.parent.scheduleTouchModule.resetValues();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return Month;\n}(ViewBase);\nexport { Month };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","isNullOrUndefined","createElement","addClass","append","prepend","remove","ViewBase","MonthEvent","util","event","cls","Month","_super","parent","_this","call","dayNameFormat","viewClass","isInverseTableSelect","monthEvent","monthDates","addEventListener","on","scrollUiUpdate","onScrollUIUpdate","dataReady","onDataReady","cellClick","onCellClick","removeEventListener","off","args","renderAppointments","notify","eventsLoaded","onContentScroll","e","removeNewEventElement","virtualScroll","scrollTopPanel","target","scrollLeftPanel","setPersistence","leftPanel","getLeftPanelElement","scrollTop","element","querySelector","WEEK_NUMBER_WRAPPER_CLASS","headerHeight","getHeaderBarHeight","header","getDatesHeaderElement","content","getContentAreaElement","height","offsetHeight","setContentHeight","scrollBarWidth","getScrollBarWidth","firstElementChild","style","cssProperties","rtlBorder","rtlPadding","offsetWidth","clientWidth","border","padding","setColWidth","scrollPosition","top","scrollLeft","left","headerCell","HEADER_CELLS_CLASS","selectedDate","getTime","toString","enableRtl","offsetLeft","getContentTable","retainScrollPosition","leftPanelElement","currentView","CONTENT_TABLE_CLASS","getScrollXIndent","generateColumnLevels","colLevels","level","getDateSlots","renderDates","activeViewOptions","workDays","group","resources","length","resourceBase","generateResourceLevels","uiStateValues","isGroupAdaptive","lastResourceLevel","resourceLevel","groupIndex","push","count","showWeekend","WEEK_LENGTH","dateSlots","isCurrentMonth","col","classList","currentDateIndex","slice","map","date","getDay","indexOf","getCurrentTime","CURRENT_DAY_CLASS","type","className","colSpan","getDayNameFormat","isAdaptive","renderLayout","setPanel","TABLE_WRAP_CLASS","clsList","byDate","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","rowAutoHeight","eventSettings","ignoreWhitespace","IGNORE_WHITESPACE","renderPanel","appendChild","createTableLayout","OUTER_TABLE_CLASS","setAttribute","renderHeader","renderContent","activeView","getPanel","RESOURCE_TOOLBAR_CONTAINER","renderResourceMobileLayout","contentReady","isCustomMonth","refreshHeader","wireCellEvents","add","workCellAction","cellMouseDown","cellDblClick","tr","renderLeftIndent","dateTd","renderDatesHeader","showWeekNumber","renderWeekNumberContent","workTd","wrap","CONTENT_WRAP_CLASS","contentArea","renderContentArea","monthAgendaWrapper","TABLE_CONTAINER_CLASS","renderAppointmentContainer","dateCol","Date","td","contentWrapper","contentWrapTable","noOfDays","i","length_1","dates","splice","weekNumber","getWeekNumberContent","createWeekNumberElement","container","DATE_HEADER_CONTAINER_CLASS","DATE_HEADER_WRAP_CLASS","table","createColGroup","trEle","ntr","cloneNode","j","createHeaderCell","tdEle","addAttributes","ele","innerHTML","capitalizeFirstWord","getDayNames","setResourceHeaderContent","DATE_HEADER_CLASS","dateHeaderTemplate","cellArgs","elementId","id","viewName","dateHeaderTemplateName","templateId","dateTemplate","getDateHeaderTemplate","NAVIGATE_CLASS","skeleton","title","globalize","formatDate","calendar","getCalendarMode","innerText","calendarUtil","isMonthStart","isCurrentDate","format","elementType","trigger","renderCell","getContentSlots","slotDatas","prepareSlots","rowIndex","renderDate","resData","data","WORK_CELLS_CLASS","includeResource","_i","_a","res","colDates","_b","colDates_1","colDate","_c","colDates_2","lastRow","resourcesTd","resIndex","DISABLE_DATE","updateClassList","isOtherMonth","OTHERMONTH_CLASS","isMinMaxDate","DISABLE_DATES","isSelectedDate","SELECTED_CELL_CLASS","start","end","tbl","addAutoHeightClass","monthDate","firstDateOfMonth","lastDateOfMonth","addMonths","interval","tBody","getContentRows","trows","attrs","role","row","ntd","createContentTd","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","workHours","highlight","isWorkDay","WORKDAY_CLASS","CURRENTDATE_CLASS","renderDateHeaderElement","cellTemplate","args_1","scheduleId","cellTemplateName","getCellTemplate","dateHeader","cellHeaderTemplate","cellHeaderTemplateName","getCellHeaderTemplate","getModuleName","announcementText","getMonthStart","currentDate","useDisplayDate","displayDate","isCustomRange","monthStart","getWeekFirstDate","firstDayOfWeek","getFullYear","getMonth","getDate","getMonthEnd","numberOfDays","numberOfWeeks","DEFAULT_WEEKS","addDays","endDate","lastWeekOfMonth","getCurrentViewDates","selectedTime","resetTime","weekFirstDate","getRenderDates","monthEnd","getHours","headerModule","previousNextIconHandler","getNextPreviousDate","getStartDate","getEndDate","getEndDateFromStartDate","getDateRangeText","dateFormat","startDate","updateCustomRange","isUpdateDateRange","monthNames","text","formatDateRange","getLabelText","view","localeObj","getConstant","WEEK_NUMBER_CLASS","unWireEvents","contentScrollableEle","destroy","isDestroyed","scheduleTouchModule","resetValues"],"sources":["C:/Users/DELL/Downloads/GTSInterviewSchedulerComponent-main/GTSInterviewSchedulerComponent-main/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/month.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */ (function (_super) {\n    __extends(Month, _super);\n    function Month(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dayNameFormat = 'wide';\n        _this.viewClass = 'e-month-view';\n        _this.isInverseTableSelect = false;\n        _this.monthEvent = null;\n        _this.monthDates = {};\n        return _this;\n    }\n    Month.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n        this.parent.on(event.cellClick, this.onCellClick, this);\n    };\n    Month.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n            this.parent.off(event.cellClick, this.onCellClick);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onDataReady = function (args) {\n        this.monthEvent = new MonthEvent(this.parent);\n        this.monthEvent.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onCellClick = function (event) { };\n    Month.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollTopPanel(e.target);\n        this.scrollLeftPanel(e.target);\n        this.setPersistence();\n    };\n    Month.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (leftPanel) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    Month.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n    };\n    Month.prototype.onScrollUIUpdate = function (args) {\n        var headerHeight = this.getHeaderBarHeight();\n        var header = this.getDatesHeaderElement();\n        var content = this.getContentAreaElement();\n        var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n        var leftPanel = this.getLeftPanelElement();\n        if (this.parent.height !== 'auto') {\n            this.setContentHeight(content, leftPanel, height);\n        }\n        var scrollBarWidth = util.getScrollBarWidth();\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        header.style[args.cssProperties.rtlPadding] = '';\n        if (content.offsetWidth - content.clientWidth > 0) {\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            header.style[args.cssProperties.padding] = '';\n        }\n        this.setColWidth(content);\n        if (args.scrollPosition) {\n            if (leftPanel) {\n                leftPanel.scrollTop = args.scrollPosition.top;\n            }\n            content.scrollTop = args.scrollPosition.top;\n            content.scrollLeft = args.scrollPosition.left;\n        }\n        else {\n            var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"'\n                + this.parent.selectedDate.getTime().toString() + '\"]');\n            if (!isNullOrUndefined(headerCell)) {\n                content.scrollLeft = !this.parent.enableRtl ?\n                    headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n            }\n            else {\n                content.scrollLeft = 0;\n            }\n        }\n        this.retainScrollPosition();\n    };\n    Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        content.style.height = 'auto';\n        if (this.parent.currentView === 'Month') {\n            content.style.height = formatUnit(height);\n        }\n        if (leftPanelElement) {\n            if (this.parent.currentView === 'MonthAgenda') {\n                height = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n            }\n            leftPanelElement.style.height = 'auto';\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n    };\n    Month.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.currentView === 'MonthAgenda') {\n                colLevels = [level];\n            }\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    Month.prototype.getDateSlots = function (renderDates, workDays) {\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n        var dateSlots = [];\n        var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n        for (var col = 0; col < count; col++) {\n            var classList = [cls.HEADER_CELLS_CLASS];\n            var currentDateIndex = renderDates.slice(0, count).map(function (date) { return date.getDay(); });\n            if (isCurrentMonth && currentDateIndex.indexOf(this.parent.getCurrentTime().getDay()) === col) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: renderDates[col], type: 'monthDay', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    Month.prototype.getDayNameFormat = function () {\n        if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n            return 'abbreviated';\n        }\n        return 'wide';\n    };\n    Month.prototype.renderLayout = function (type) {\n        this.dayNameFormat = this.getDayNameFormat();\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        addClass([this.element], clsList);\n        this.renderPanel(type);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        var target = (this.parent.currentView === 'MonthAgenda') ? this.parent.activeView.getPanel() : this.parent.element;\n        if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n        if (this.parent.uiStateValues.isCustomMonth) {\n            this.parent.uiStateValues.isCustomMonth = false;\n        }\n    };\n    Month.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n    };\n    Month.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    Month.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        this.renderLeftIndent(tr);\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    Month.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('td', { className: 'e-left-indent' }));\n        }\n    };\n    Month.prototype.renderContent = function () {\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(this.renderWeekNumberContent());\n        }\n        var workTd = createElement('td');\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var contentArea = this.renderContentArea();\n        if (this.parent.currentView === 'Month') {\n            wrap.appendChild(contentArea);\n        }\n        else {\n            var monthAgendaWrapper = createElement('div', { className: cls.TABLE_CONTAINER_CLASS });\n            monthAgendaWrapper.appendChild(contentArea);\n            wrap.appendChild(monthAgendaWrapper);\n        }\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        workTd.appendChild(wrap);\n        tr.appendChild(workTd);\n        this.element.querySelector('tbody').appendChild(tr);\n        this.renderAppointmentContainer();\n    };\n    Month.prototype.renderWeekNumberContent = function () {\n        var dateCol = this.renderDates.map(function (date) { return new Date(+date); });\n        var td = createElement('td');\n        var contentWrapper = createElement('div', { className: cls.WEEK_NUMBER_WRAPPER_CLASS });\n        td.appendChild(contentWrapper);\n        var contentWrapTable = this.createTableLayout();\n        contentWrapper.appendChild(contentWrapTable);\n        var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n            this.parent.activeViewOptions.workDays.length;\n        for (var i = 0, length_1 = (this.renderDates.length / noOfDays); i < length_1; i++) {\n            var dates = dateCol.splice(0, noOfDays);\n            var weekNumber = this.parent.getWeekNumberContent(dates);\n            contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n        }\n        return td;\n    };\n    Month.prototype.renderAppointmentContainer = function () {\n        //Here needs to render mobile view appointment details on selected date\n    };\n    Month.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var table = this.createTableLayout();\n        this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n        var trEle = createElement('tr');\n        for (var i = 0; i < this.colLevels.length; i++) {\n            var level = this.colLevels[i];\n            var ntr = trEle.cloneNode();\n            for (var j = 0; j < level.length; j++) {\n                var td = level[j];\n                ntr.appendChild(this.createHeaderCell(td));\n            }\n            table.querySelector('tbody').appendChild(ntr);\n        }\n        wrap.appendChild(table);\n        return container;\n    };\n    Month.prototype.createHeaderCell = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.type === 'monthDay') {\n            var ele = createElement('span', { innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single') });\n            tdEle.appendChild(ele);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader') {\n            addClass([tdEle], cls.DATE_HEADER_CLASS);\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                var cellArgs = { date: td.date, type: td.type };\n                var elementId = this.parent.element.id + '_';\n                var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                var templateId = elementId + viewName + 'dateHeaderTemplate';\n                var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false));\n                if (dateTemplate && dateTemplate.length) {\n                    append(dateTemplate, tdEle);\n                }\n            }\n            else {\n                var ele = createElement('span', { className: cls.NAVIGATE_CLASS });\n                var skeleton = 'full';\n                var title = this.parent.globalize.formatDate(td.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n                ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n                var innerText = (this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive) ?\n                    this.parent.globalize.formatDate(td.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                    this.parent.globalize.formatDate(td.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n                ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n                tdEle.appendChild(ele);\n            }\n            this.wireCellEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    Month.prototype.getContentSlots = function () {\n        if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n            return [];\n        }\n        var slotDatas = [];\n        var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n            var data = {\n                date: new Date(+renderDate), groupIndex: resData.groupIndex, workDays: resData.workDays,\n                type: 'monthCells', className: classList || [cls.WORK_CELLS_CLASS]\n            };\n            if (!slotDatas[rowIndex]) {\n                slotDatas[rowIndex] = [];\n            }\n            slotDatas[rowIndex].push(data);\n        };\n        var includeResource = this.parent.currentView !== 'MonthAgenda' &&\n            this.parent.activeViewOptions.group.resources.length > 0;\n        if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n                var res = _a[_i];\n                var dates = res.renderDates.map(function (date) { return new Date(+date); });\n                var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n                for (var i = 0; i < (res.renderDates.length / count); i++) {\n                    var colDates = dates.splice(0, count);\n                    for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n                        var colDate = colDates_1[_b];\n                        prepareSlots(i, colDate, res);\n                    }\n                }\n            }\n        }\n        else {\n            var dates = this.renderDates.map(function (date) { return new Date(+date); });\n            var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n                this.parent.activeViewOptions.workDays.length;\n            for (var i = 0; i < (this.renderDates.length / count); i++) {\n                var colDates = dates.splice(0, count);\n                for (var _c = 0, colDates_2 = colDates; _c < colDates_2.length; _c++) {\n                    var colDate = colDates_2[_c];\n                    if (includeResource) {\n                        var lastRow = this.colLevels[(this.colLevels.length - 1)];\n                        var resourcesTd = lastRow.slice(0, lastRow.length / count);\n                        for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n                            var clsList = void 0;\n                            if (resIndex !== 0) {\n                                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n                            }\n                            prepareSlots(i, colDate, resourcesTd[resIndex], clsList);\n                        }\n                    }\n                    else {\n                        prepareSlots(i, colDate, this.colLevels[this.colLevels.length - 1][0]);\n                    }\n                }\n            }\n        }\n        return slotDatas;\n    };\n    Month.prototype.updateClassList = function (data) {\n        if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n            data.className.push(cls.OTHERMONTH_CLASS);\n        }\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n        if (this.parent.currentView === 'MonthAgenda' && this.parent.isSelectedDate(data.date)) {\n            data.className.push(cls.SELECTED_CELL_CLASS);\n        }\n    };\n    Month.prototype.isOtherMonth = function (date) {\n        return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n    };\n    Month.prototype.renderContentArea = function () {\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.addAutoHeightClass(tbl);\n        if (this.parent.currentView === 'TimelineMonth') {\n            this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n        }\n        var monthDate = new Date(this.parent.selectedDate.getTime());\n        this.monthDates = {\n            start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n            end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n        };\n        var tBody = tbl.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n        this.wireCellEvents(tBody);\n        return tbl;\n    };\n    Month.prototype.getContentRows = function () {\n        var trows = [];\n        var tr = createElement('tr', { attrs: { role: 'row' } });\n        var td = createElement('td', { attrs: { role: 'gridcell', 'aria-selected': 'false' } });\n        var slotDatas = this.getContentSlots();\n        for (var row = 0; row < slotDatas.length; row++) {\n            var ntr = tr.cloneNode();\n            for (var col = 0; col < slotDatas[row].length; col++) {\n                var ntd = this.createContentTd(slotDatas[row][col], td);\n                ntr.appendChild(ntd);\n            }\n            trows.push(ntr);\n        }\n        return trows;\n    };\n    Month.prototype.createContentTd = function (data, td) {\n        var ntd = td.cloneNode();\n        if (data.colSpan) {\n            ntd.setAttribute('colspan', data.colSpan.toString());\n        }\n        this.updateClassList(data);\n        var type = data.type;\n        if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n            data.className.push(cls.WORKDAY_CLASS);\n        }\n        if (this.isCurrentDate(data.date)) {\n            data.className.push(cls.CURRENTDATE_CLASS);\n        }\n        addClass([ntd], data.className);\n        ntd.setAttribute('data-date', data.date.getTime().toString());\n        if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                data.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        this.renderDateHeaderElement(data, ntd);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: data.date, type: type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false));\n            append(cellTemplate, ntd);\n        }\n        var args = { elementType: type, element: ntd, date: data.date, groupIndex: data.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    Month.prototype.renderDateHeaderElement = function (data, ntd) {\n        if (this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var dateHeader = createElement('div', { className: cls.DATE_HEADER_CLASS });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n            var args = { date: data.date, type: data.type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n            var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false));\n            append(cellHeaderTemplate, dateHeader);\n        }\n        else {\n            var innerText = (this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive) ?\n                this.parent.globalize.formatDate(data.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                this.parent.globalize.formatDate(data.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n            dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        }\n        ntd.appendChild(dateHeader);\n        if (this.getModuleName() === 'month') {\n            addClass([dateHeader], cls.NAVIGATE_CLASS);\n            var skeleton = 'full';\n            var announcementText = this.parent.globalize.formatDate(data.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n            dateHeader.setAttribute('aria-label', announcementText);\n        }\n    };\n    Month.prototype.getMonthStart = function (currentDate) {\n        var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n        var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth ||\n            this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n        var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    Month.prototype.getMonthEnd = function (currentDate) {\n        if (this.isCustomMonth()) {\n            var start = this.getMonthStart(currentDate);\n            var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n            return util.addDays(start, (numberOfDays - 1));\n        }\n        else {\n            var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n            var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n        }\n    };\n    Month.prototype.isCustomRange = function () {\n        var dates = this.parent.getCurrentViewDates();\n        if (dates && dates.length > 0) {\n            var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n            var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n            return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() &&\n                selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n        }\n        return false;\n    };\n    Month.prototype.getRenderDates = function (workDays) {\n        var renderDates = [];\n        var currentDate = util.resetTime(this.parent.selectedDate);\n        var start = this.getMonthStart(currentDate);\n        var monthEnd = this.getMonthEnd(currentDate);\n        do {\n            if (this.parent.activeViewOptions.showWeekend) {\n                renderDates.push(start);\n            }\n            else {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n            }\n            start = util.addDays(start, 1);\n            if (start.getHours() > 0) {\n                start = util.resetTime(start);\n            }\n        } while (start.getTime() <= monthEnd.getTime());\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    Month.prototype.getNextPreviousDate = function (type) {\n        if (this.isCustomMonth()) {\n            var dates = this.parent.getCurrentViewDates();\n            var date = util.getWeekFirstDate(type === 'next' ? dates[dates.length - 1]\n                : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(date, type === 'next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n        }\n        else {\n            return util.addMonths(this.parent.selectedDate, ((type === 'next' ? 1 : -1) * this.parent.activeViewOptions.interval));\n        }\n    };\n    Month.prototype.getStartDate = function () {\n        return this.getMonthStart(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDate = function () {\n        return this.getMonthEnd(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDateFromStartDate = function (start) {\n        return util.addDays(new Date(start.getTime()), 1);\n    };\n    Month.prototype.getDateRangeText = function () {\n        if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var startDate = this.parent.selectedDate;\n            var endDate = void 0;\n            var updateCustomRange = false;\n            if (this.isCustomMonth()) {\n                var dates = this.parent.getCurrentViewDates();\n                updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() ||\n                    dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n                if (updateCustomRange) {\n                    startDate = dates[0];\n                    endDate = dates[dates.length - 1];\n                }\n            }\n            var isUpdateDateRange = (this.parent.currentView !== 'Month' || !this.isCustomMonth());\n            if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n                endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n                if (startDate.getFullYear() === endDate.getFullYear()) {\n                    var monthNames = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' - ' +\n                        (this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() })) +\n                        this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                    return util.capitalizeFirstWord(monthNames, 'single');\n                }\n                var text = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' ' +\n                    startDate.getFullYear() + ' - ' +\n                    this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() }) +\n                    this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                return util.capitalizeFirstWord(text, 'single');\n            }\n            var format = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, { format: format, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(this.parent.selectedDate);\n    };\n    Month.prototype.getLabelText = function (view) {\n        return this.parent.localeObj.getConstant(view) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { format: 'MMMM y', calendar: this.parent.getCalendarMode() }), 'single');\n    };\n    Month.prototype.createWeekNumberElement = function (text) {\n        var tr = createElement('tr');\n        var td = createElement('td', {\n            className: cls.WEEK_NUMBER_CLASS,\n            attrs: { 'title': (text ? this.parent.localeObj.getConstant('week') + ' ' + text : '') },\n            innerHTML: (text || '')\n        });\n        tr.appendChild(td);\n        var args = { elementType: 'weekNumberCell', element: td };\n        this.parent.trigger(event.renderCell, args);\n        return tr;\n    };\n    Month.prototype.unWireEvents = function () {\n        var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentScrollableEle) {\n            EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n        }\n    };\n    Month.prototype.isCustomMonth = function () {\n        return this.parent.currentView === 'Month' &&\n            (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n    };\n    Month.prototype.getModuleName = function () {\n        return 'month';\n    };\n    Month.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            if (this.monthEvent) {\n                this.monthEvent.destroy();\n                this.monthEvent = null;\n            }\n            this.unWireEvents();\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Month;\n}(ViewBase));\nexport { Month };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}